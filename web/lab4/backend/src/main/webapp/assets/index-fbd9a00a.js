(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Ri(t,e){const r=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const bt={},dr=[],se=()=>{},fh=()=>!1,dh=/^on[^a-z]/,jn=t=>dh.test(t),Zs=t=>t.startsWith("onUpdate:"),Et=Object.assign,ta=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},gh=Object.prototype.hasOwnProperty,_t=(t,e)=>gh.call(t,e),at=Array.isArray,gr=t=>Tr(t)==="[object Map]",sr=t=>Tr(t)==="[object Set]",Va=t=>Tr(t)==="[object Date]",ph=t=>Tr(t)==="[object RegExp]",ht=t=>typeof t=="function",xt=t=>typeof t=="string",_r=t=>typeof t=="symbol",St=t=>t!==null&&typeof t=="object",ea=t=>(St(t)||ht(t))&&ht(t.then)&&ht(t.catch),ic=Object.prototype.toString,Tr=t=>ic.call(t),vh=t=>Tr(t).slice(8,-1),sc=t=>Tr(t)==="[object Object]",ra=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xn=Ri(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oi=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},mh=/-(\w)/g,qt=Oi(t=>t.replace(mh,(e,r)=>r?r.toUpperCase():"")),_h=/\B([A-Z])/g,Jt=Oi(t=>t.replace(_h,"-$1").toLowerCase()),Kn=Oi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Tn=Oi(t=>t?`on${Kn(t)}`:""),Le=(t,e)=>!Object.is(t,e),pr=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},pi=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},vi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},mi=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let Ha;const xs=()=>Ha||(Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),yh="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",bh=Ri(yh);function Wn(t){if(at(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=xt(n)?Ph(n):Wn(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(xt(t)||St(t))return t}const Ch=/;(?![^(]*\))/g,Sh=/:([^]+)/,wh=/\/\*[^]*?\*\//g;function Ph(t){const e={};return t.replace(wh,"").split(Ch).forEach(r=>{if(r){const n=r.split(Sh);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function zn(t){let e="";if(xt(t))e=t;else if(at(t))for(let r=0;r<t.length;r++){const n=zn(t[r]);n&&(e+=n+" ")}else if(St(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function Eh(t){if(!t)return null;let{class:e,style:r}=t;return e&&!xt(e)&&(t.class=zn(e)),r&&(t.style=Wn(r)),t}const xh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Th=Ri(xh);function ac(t){return!!t||t===""}function Ah(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Ie(t[n],e[n]);return r}function Ie(t,e){if(t===e)return!0;let r=Va(t),n=Va(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=_r(t),n=_r(e),r||n)return t===e;if(r=at(t),n=at(e),r||n)return r&&n?Ah(t,e):!1;if(r=St(t),n=St(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Ie(t[a],e[a]))return!1}}return String(t)===String(e)}function Fi(t,e){return t.findIndex(r=>Ie(r,e))}const Rh=t=>xt(t)?t:t==null?"":at(t)||St(t)&&(t.toString===ic||!ht(t.toString))?JSON.stringify(t,oc,2):String(t),oc=(t,e)=>e&&e.__v_isRef?oc(t,e.value):gr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:sr(e)?{[`Set(${e.size})`]:[...e.values()]}:St(e)&&!at(e)&&!sc(e)?String(e):e;let $t;class na{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$t,!e&&$t&&(this.index=($t.scopes||($t.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=$t;try{return $t=this,e()}finally{$t=r}}}on(){$t=this}off(){$t=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Oh(t){return new na(t)}function lc(t,e=$t){e&&e.active&&e.effects.push(t)}function cc(){return $t}function Fh(t){$t&&$t.cleanups.push(t)}const ia=t=>{const e=new Set(t);return e.w=0,e.n=0,e},uc=t=>(t.w&Ge)>0,hc=t=>(t.n&Ge)>0,Mh=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ge},kh=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const s=e[n];uc(s)&&!hc(s)?s.delete(t):e[r++]=s,s.w&=~Ge,s.n&=~Ge}e.length=r}},_i=new WeakMap;let wn=0,Ge=1;const Ts=30;let ne;const Xe=Symbol(""),As=Symbol("");class yr{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,lc(this,n)}run(){if(!this.active)return this.fn();let e=ne,r=Me;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ne,ne=this,Me=!0,Ge=1<<++wn,wn<=Ts?Mh(this):qa(this),this.fn()}finally{wn<=Ts&&kh(this),Ge=1<<--wn,ne=this.parent,Me=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ne===this?this.deferStop=!0:this.active&&(qa(this),this.onStop&&this.onStop(),this.active=!1)}}function qa(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function Nh(t,e){t.effect instanceof yr&&(t=t.effect.fn);const r=new yr(t);e&&(Et(r,e),e.scope&&lc(r,e.scope)),(!e||!e.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function Dh(t){t.effect.stop()}let Me=!0;const fc=[];function Ar(){fc.push(Me),Me=!1}function Rr(){const t=fc.pop();Me=t===void 0?!0:t}function jt(t,e,r){if(Me&&ne){let n=_i.get(t);n||_i.set(t,n=new Map);let s=n.get(r);s||n.set(r,s=ia()),dc(s)}}function dc(t,e){let r=!1;wn<=Ts?hc(t)||(t.n|=Ge,r=!uc(t)):r=!t.has(ne),r&&(t.add(ne),ne.deps.push(t))}function _e(t,e,r,n,s,i){const a=_i.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(r==="length"&&at(t)){const l=Number(n);a.forEach((u,h)=>{(h==="length"||!_r(h)&&h>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(a.get(r)),e){case"add":at(t)?ra(r)&&o.push(a.get("length")):(o.push(a.get(Xe)),gr(t)&&o.push(a.get(As)));break;case"delete":at(t)||(o.push(a.get(Xe)),gr(t)&&o.push(a.get(As)));break;case"set":gr(t)&&o.push(a.get(Xe));break}if(o.length===1)o[0]&&Rs(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);Rs(ia(l))}}function Rs(t,e){const r=at(t)?t:[...t];for(const n of r)n.computed&&ja(n);for(const n of r)n.computed||ja(n)}function ja(t,e){(t!==ne||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Lh(t,e){var r;return(r=_i.get(t))==null?void 0:r.get(e)}const Ih=Ri("__proto__,__v_isRef,__isVue"),gc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_r)),Ka=Gh();function Gh(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=vt(this);for(let i=0,a=this.length;i<a;i++)jt(n,"get",i+"");const s=n[e](...r);return s===-1||s===!1?n[e](...r.map(vt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Ar();const n=vt(this)[e].apply(this,r);return Rr(),n}}),t}function Uh(t){const e=vt(this);return jt(e,"has",t),e.hasOwnProperty(t)}class pc{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,n){const s=this._isReadonly,i=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw"&&n===(s?i?Cc:bc:i?yc:_c).get(e))return e;const a=at(e);if(!s){if(a&&_t(Ka,r))return Reflect.get(Ka,r,n);if(r==="hasOwnProperty")return Uh}const o=Reflect.get(e,r,n);return(_r(r)?gc.has(r):Ih(r))||(s||jt(e,"get",r),i)?o:At(o)?a&&ra(r)?o:o.value:St(o)?s?oa(o):$n(o):o}}class vc extends pc{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(er(i)&&At(i)&&!At(n))return!1;if(!this._shallow&&(!Dn(n)&&!er(n)&&(i=vt(i),n=vt(n)),!at(e)&&At(i)&&!At(n)))return i.value=n,!0;const a=at(e)&&ra(r)?Number(r)<e.length:_t(e,r),o=Reflect.set(e,r,n,s);return e===vt(s)&&(a?Le(n,i)&&_e(e,"set",r,n):_e(e,"add",r,n)),o}deleteProperty(e,r){const n=_t(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&_e(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!_r(r)||!gc.has(r))&&jt(e,"has",r),n}ownKeys(e){return jt(e,"iterate",at(e)?"length":Xe),Reflect.ownKeys(e)}}class mc extends pc{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Bh=new vc,Vh=new mc,Hh=new vc(!0),qh=new mc(!0),sa=t=>t,Mi=t=>Reflect.getPrototypeOf(t);function Zn(t,e,r=!1,n=!1){t=t.__v_raw;const s=vt(t),i=vt(e);r||(Le(e,i)&&jt(s,"get",e),jt(s,"get",i));const{has:a}=Mi(s),o=n?sa:r?ua:Ln;if(a.call(s,e))return o(t.get(e));if(a.call(s,i))return o(t.get(i));t!==s&&t.get(e)}function ti(t,e=!1){const r=this.__v_raw,n=vt(r),s=vt(t);return e||(Le(t,s)&&jt(n,"has",t),jt(n,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function ei(t,e=!1){return t=t.__v_raw,!e&&jt(vt(t),"iterate",Xe),Reflect.get(t,"size",t)}function Wa(t){t=vt(t);const e=vt(this);return Mi(e).has.call(e,t)||(e.add(t),_e(e,"add",t,t)),this}function za(t,e){e=vt(e);const r=vt(this),{has:n,get:s}=Mi(r);let i=n.call(r,t);i||(t=vt(t),i=n.call(r,t));const a=s.call(r,t);return r.set(t,e),i?Le(e,a)&&_e(r,"set",t,e):_e(r,"add",t,e),this}function $a(t){const e=vt(this),{has:r,get:n}=Mi(e);let s=r.call(e,t);s||(t=vt(t),s=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return s&&_e(e,"delete",t,void 0),i}function Ya(){const t=vt(this),e=t.size!==0,r=t.clear();return e&&_e(t,"clear",void 0,void 0),r}function ri(t,e){return function(n,s){const i=this,a=i.__v_raw,o=vt(a),l=e?sa:t?ua:Ln;return!t&&jt(o,"iterate",Xe),a.forEach((u,h)=>n.call(s,l(u),l(h),i))}}function ni(t,e,r){return function(...n){const s=this.__v_raw,i=vt(s),a=gr(i),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...n),h=r?sa:e?ua:Ln;return!e&&jt(i,"iterate",l?As:Xe),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:o?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function we(t){return function(...e){return t==="delete"?!1:this}}function jh(){const t={get(i){return Zn(this,i)},get size(){return ei(this)},has:ti,add:Wa,set:za,delete:$a,clear:Ya,forEach:ri(!1,!1)},e={get(i){return Zn(this,i,!1,!0)},get size(){return ei(this)},has:ti,add:Wa,set:za,delete:$a,clear:Ya,forEach:ri(!1,!0)},r={get(i){return Zn(this,i,!0)},get size(){return ei(this,!0)},has(i){return ti.call(this,i,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:ri(!0,!1)},n={get(i){return Zn(this,i,!0,!0)},get size(){return ei(this,!0)},has(i){return ti.call(this,i,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:ri(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ni(i,!1,!1),r[i]=ni(i,!0,!1),e[i]=ni(i,!1,!0),n[i]=ni(i,!0,!0)}),[t,r,e,n]}const[Kh,Wh,zh,$h]=jh();function ki(t,e){const r=e?t?$h:zh:t?Wh:Kh;return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(_t(r,s)&&s in n?r:n,s,i)}const Yh={get:ki(!1,!1)},Qh={get:ki(!1,!0)},Xh={get:ki(!0,!1)},Jh={get:ki(!0,!0)},_c=new WeakMap,yc=new WeakMap,bc=new WeakMap,Cc=new WeakMap;function Zh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tf(t){return t.__v_skip||!Object.isExtensible(t)?0:Zh(vh(t))}function $n(t){return er(t)?t:Ni(t,!1,Bh,Yh,_c)}function aa(t){return Ni(t,!1,Hh,Qh,yc)}function oa(t){return Ni(t,!0,Vh,Xh,bc)}function ef(t){return Ni(t,!0,qh,Jh,Cc)}function Ni(t,e,r,n,s){if(!St(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const a=tf(t);if(a===0)return t;const o=new Proxy(t,a===2?n:r);return s.set(t,o),o}function Je(t){return er(t)?Je(t.__v_raw):!!(t&&t.__v_isReactive)}function er(t){return!!(t&&t.__v_isReadonly)}function Dn(t){return!!(t&&t.__v_isShallow)}function la(t){return Je(t)||er(t)}function vt(t){const e=t&&t.__v_raw;return e?vt(e):t}function ca(t){return pi(t,"__v_skip",!0),t}const Ln=t=>St(t)?$n(t):t,ua=t=>St(t)?oa(t):t;function ha(t){Me&&ne&&(t=vt(t),dc(t.dep||(t.dep=ia())))}function Di(t,e){t=vt(t);const r=t.dep;r&&Rs(r)}function At(t){return!!(t&&t.__v_isRef===!0)}function ke(t){return wc(t,!1)}function Sc(t){return wc(t,!0)}function wc(t,e){return At(t)?t:new rf(t,e)}class rf{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:vt(e),this._value=r?e:Ln(e)}get value(){return ha(this),this._value}set value(e){const r=this.__v_isShallow||Dn(e)||er(e);e=r?e:vt(e),Le(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ln(e),Di(this))}}function nf(t){Di(t)}function ye(t){return At(t)?t.value:t}function sf(t){return ht(t)?t():ye(t)}const af={get:(t,e,r)=>ye(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return At(s)&&!At(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function fa(t){return Je(t)?t:new Proxy(t,af)}class of{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>ha(this),()=>Di(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function lf(t){return new of(t)}function cf(t){const e=at(t)?new Array(t.length):{};for(const r in t)e[r]=Pc(t,r);return e}class uf{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Lh(vt(this._object),this._key)}}class hf{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ff(t,e,r){return At(t)?t:ht(t)?new hf(t):St(t)&&arguments.length>1?Pc(t,e,r):ke(t)}function Pc(t,e,r){const n=t[e];return At(n)?n:new uf(t,e,r)}class df{constructor(e,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new yr(e,()=>{this._dirty||(this._dirty=!0,Di(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=vt(this);return ha(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function gf(t,e,r=!1){let n,s;const i=ht(t);return i?(n=t,s=se):(n=t.get,s=t.set),new df(n,s,i||!s,r)}function pf(t,...e){}function vf(t,e){}function be(t,e,r,n){let s;try{s=n?t(...n):t()}catch(i){ar(i,e,r)}return s}function Qt(t,e,r,n){if(ht(t)){const i=be(t,e,r,n);return i&&ea(i)&&i.catch(a=>{ar(a,e,r)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(Qt(t[i],e,r,n));return s}function ar(t,e,r,n=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const a=e.proxy,o=r;for(;i;){const u=i.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,a,o)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){be(l,null,10,[t,a,o]);return}}mf(t,r,s,n)}function mf(t,e,r,n=!0){console.error(t)}let In=!1,Os=!1;const Lt=[];let ue=0;const vr=[];let ve=null,ze=0;const Ec=Promise.resolve();let da=null;function Li(t){const e=da||Ec;return t?e.then(this?t.bind(this):t):e}function _f(t){let e=ue+1,r=Lt.length;for(;e<r;){const n=e+r>>>1,s=Lt[n],i=Gn(s);i<t||i===t&&s.pre?e=n+1:r=n}return e}function Ii(t){(!Lt.length||!Lt.includes(t,In&&t.allowRecurse?ue+1:ue))&&(t.id==null?Lt.push(t):Lt.splice(_f(t.id),0,t),xc())}function xc(){!In&&!Os&&(Os=!0,da=Ec.then(Tc))}function yf(t){const e=Lt.indexOf(t);e>ue&&Lt.splice(e,1)}function yi(t){at(t)?vr.push(...t):(!ve||!ve.includes(t,t.allowRecurse?ze+1:ze))&&vr.push(t),xc()}function Qa(t,e=In?ue+1:0){for(;e<Lt.length;e++){const r=Lt[e];r&&r.pre&&(Lt.splice(e,1),e--,r())}}function bi(t){if(vr.length){const e=[...new Set(vr)];if(vr.length=0,ve){ve.push(...e);return}for(ve=e,ve.sort((r,n)=>Gn(r)-Gn(n)),ze=0;ze<ve.length;ze++)ve[ze]();ve=null,ze=0}}const Gn=t=>t.id==null?1/0:t.id,bf=(t,e)=>{const r=Gn(t)-Gn(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Tc(t){Os=!1,In=!0,Lt.sort(bf);const e=se;try{for(ue=0;ue<Lt.length;ue++){const r=Lt[ue];r&&r.active!==!1&&be(r,null,14)}}finally{ue=0,Lt.length=0,bi(),In=!1,da=null,(Lt.length||vr.length)&&Tc()}}let ur,ii=[];function Ac(t,e){var r,n;ur=t,ur?(ur.enabled=!0,ii.forEach(({event:s,args:i})=>ur.emit(s,...i)),ii=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Ac(i,e)}),setTimeout(()=>{ur||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ii=[])},3e3)):ii=[]}function Cf(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||bt;let s=r;const i=e.startsWith("update:"),a=i&&e.slice(7);if(a&&a in n){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:p}=n[h]||bt;p&&(s=r.map(v=>xt(v)?v.trim():v)),f&&(s=r.map(vi))}let o,l=n[o=Tn(e)]||n[o=Tn(qt(e))];!l&&i&&(l=n[o=Tn(Jt(e))]),l&&Qt(l,t,6,s);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Qt(u,t,6,s)}}function Rc(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let a={},o=!1;if(!ht(t)){const l=u=>{const h=Rc(u,e,!0);h&&(o=!0,Et(a,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!o?(St(t)&&n.set(t,null),null):(at(i)?i.forEach(l=>a[l]=null):Et(a,i),St(t)&&n.set(t,a),a)}function Gi(t,e){return!t||!jn(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,Jt(e))||_t(t,e))}let kt=null,Ui=null;function Un(t){const e=kt;return kt=t,Ui=t&&t.type.__scopeId||null,e}function Sf(t){Ui=t}function wf(){Ui=null}const Pf=t=>Bi;function Bi(t,e=kt,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Is(-1);const i=Un(e);let a;try{a=t(...s)}finally{Un(i),n._d&&Is(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function fi(t){const{type:e,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[a],slots:o,attrs:l,emit:u,render:h,renderCache:f,data:p,setupState:v,ctx:m,inheritAttrs:y}=t;let b,E;const g=Un(t);try{if(r.shapeFlag&4){const d=s||n;b=Yt(h.call(d,d,f,i,v,p,m)),E=l}else{const d=e;b=Yt(d.length>1?d(i,{attrs:l,slots:o,emit:u}):d(i,null)),E=e.props?l:xf(l)}}catch(d){Fn.length=0,ar(d,t,1),b=Ct(It)}let c=b;if(E&&y!==!1){const d=Object.keys(E),{shapeFlag:C}=c;d.length&&C&7&&(a&&d.some(Zs)&&(E=Tf(E,a)),c=he(c,E))}return r.dirs&&(c=he(c),c.dirs=c.dirs?c.dirs.concat(r.dirs):r.dirs),r.transition&&(c.transition=r.transition),b=c,Un(g),b}function Ef(t){let e;for(let r=0;r<t.length;r++){const n=t[r];if(Ue(n)){if(n.type!==It||n.children==="v-if"){if(e)return;e=n}}else return}return e}const xf=t=>{let e;for(const r in t)(r==="class"||r==="style"||jn(r))&&((e||(e={}))[r]=t[r]);return e},Tf=(t,e)=>{const r={};for(const n in t)(!Zs(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Af(t,e,r){const{props:n,children:s,component:i}=t,{props:a,children:o,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Xa(n,a,u):!!a;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(a[p]!==n[p]&&!Gi(u,p))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Xa(n,a,u):!0:!!a;return!1}function Xa(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!Gi(r,i))return!0}return!1}function ga({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Oc=t=>t.__isSuspense,Rf={name:"Suspense",__isSuspense:!0,process(t,e,r,n,s,i,a,o,l,u){t==null?Ff(e,r,n,s,i,a,o,l,u):Mf(t,e,r,n,s,a,o,l,u)},hydrate:kf,create:pa,normalize:Nf},Of=Rf;function Bn(t,e){const r=t.props&&t.props[e];ht(r)&&r()}function Ff(t,e,r,n,s,i,a,o,l){const{p:u,o:{createElement:h}}=l,f=h("div"),p=t.suspense=pa(t,s,n,e,f,r,i,a,o,l);u(null,p.pendingBranch=t.ssContent,f,null,n,p,i,a),p.deps>0?(Bn(t,"onPending"),Bn(t,"onFallback"),u(null,t.ssFallback,e,r,n,null,i,a),mr(p,t.ssFallback)):p.resolve(!1,!0)}function Mf(t,e,r,n,s,i,a,o,{p:l,um:u,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,v=e.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:b,isHydrating:E}=f;if(y)f.pendingBranch=p,ie(p,y)?(l(y,p,f.hiddenContainer,null,s,f,i,a,o),f.deps<=0?f.resolve():b&&(l(m,v,r,n,s,null,i,a,o),mr(f,v))):(f.pendingId++,E?(f.isHydrating=!1,f.activeBranch=y):u(y,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),b?(l(null,p,f.hiddenContainer,null,s,f,i,a,o),f.deps<=0?f.resolve():(l(m,v,r,n,s,null,i,a,o),mr(f,v))):m&&ie(p,m)?(l(m,p,r,n,s,f,i,a,o),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,a,o),f.deps<=0&&f.resolve()));else if(m&&ie(p,m))l(m,p,r,n,s,f,i,a,o),mr(f,p);else if(Bn(e,"onPending"),f.pendingBranch=p,f.pendingId++,l(null,p,f.hiddenContainer,null,s,f,i,a,o),f.deps<=0)f.resolve();else{const{timeout:g,pendingId:c}=f;g>0?setTimeout(()=>{f.pendingId===c&&f.fallback(v)},g):g===0&&f.fallback(v)}}function pa(t,e,r,n,s,i,a,o,l,u,h=!1){const{p:f,m:p,um:v,n:m,o:{parentNode:y,remove:b}}=u;let E;const g=Df(t);g&&e!=null&&e.pendingBranch&&(E=e.pendingId,e.deps++);const c=t.props?mi(t.props.timeout):void 0,d={vnode:t,parent:e,parentComponent:r,isSVG:a,container:n,hiddenContainer:s,anchor:i,deps:0,pendingId:0,timeout:typeof c=="number"?c:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(C=!1,T=!1){const{vnode:M,activeBranch:w,pendingBranch:A,pendingId:P,effects:F,parentComponent:D,container:_}=d;let S=!1;if(d.isHydrating)d.isHydrating=!1;else if(!C){S=w&&A.transition&&A.transition.mode==="out-in",S&&(w.transition.afterLeave=()=>{P===d.pendingId&&(p(A,_,N,0),yi(F))});let{anchor:N}=d;w&&(N=m(w),v(w,D,d,!0)),S||p(A,_,N,0)}mr(d,A),d.pendingBranch=null,d.isInFallback=!1;let x=d.parent,R=!1;for(;x;){if(x.pendingBranch){x.effects.push(...F),R=!0;break}x=x.parent}!R&&!S&&yi(F),d.effects=[],g&&e&&e.pendingBranch&&E===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),Bn(M,"onResolve")},fallback(C){if(!d.pendingBranch)return;const{vnode:T,activeBranch:M,parentComponent:w,container:A,isSVG:P}=d;Bn(T,"onFallback");const F=m(M),D=()=>{d.isInFallback&&(f(null,C,A,F,w,null,P,o,l),mr(d,C))},_=C.transition&&C.transition.mode==="out-in";_&&(M.transition.afterLeave=D),d.isInFallback=!0,v(M,w,null,!0),_||D()},move(C,T,M){d.activeBranch&&p(d.activeBranch,C,T,M),d.container=C},next(){return d.activeBranch&&m(d.activeBranch)},registerDep(C,T){const M=!!d.pendingBranch;M&&d.deps++;const w=C.vnode.el;C.asyncDep.catch(A=>{ar(A,C,0)}).then(A=>{if(C.isUnmounted||d.isUnmounted||d.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:P}=C;Gs(C,A,!1),w&&(P.el=w);const F=!w&&C.subTree.el;T(C,P,y(w||C.subTree.el),w?null:m(C.subTree),d,a,l),F&&b(F),ga(C,P.el),M&&--d.deps===0&&d.resolve()})},unmount(C,T){d.isUnmounted=!0,d.activeBranch&&v(d.activeBranch,r,C,T),d.pendingBranch&&v(d.pendingBranch,r,C,T)}};return d}function kf(t,e,r,n,s,i,a,o,l){const u=e.suspense=pa(e,n,r,t.parentNode,document.createElement("div"),null,s,i,a,o,!0),h=l(t,u.pendingBranch=e.ssContent,r,u,i,a);return u.deps===0&&u.resolve(!1,!0),h}function Nf(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=Ja(n?r.default:r),t.ssFallback=n?Ja(r.fallback):Ct(It)}function Ja(t){let e;if(ht(t)){const r=ir&&t._c;r&&(t._d=!1,Fr()),t=t(),r&&(t._d=!0,e=Ht,au())}return at(t)&&(t=Ef(t)),t=Yt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function Fc(t,e){e&&e.pendingBranch?at(t)?e.effects.push(...t):e.effects.push(t):yi(t)}function mr(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t,s=r.el=e.el;n&&n.subTree===r&&(n.vnode.el=s,ga(n,s))}function Df(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function Lf(t,e){return Yn(t,null,e)}function Mc(t,e){return Yn(t,null,{flush:"post"})}function If(t,e){return Yn(t,null,{flush:"sync"})}const si={};function Ne(t,e,r){return Yn(t,e,r)}function Yn(t,e,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:a}=bt){var o;const l=cc()===((o=Ft)==null?void 0:o.scope)?Ft:null;let u,h=!1,f=!1;if(At(t)?(u=()=>t.value,h=Dn(t)):Je(t)?(u=()=>t,n=!0):at(t)?(f=!0,h=t.some(d=>Je(d)||Dn(d)),u=()=>t.map(d=>{if(At(d))return d.value;if(Je(d))return Ye(d);if(ht(d))return be(d,l,2)})):ht(t)?e?u=()=>be(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return p&&p(),Qt(t,l,3,[v])}:u=se,e&&n){const d=u;u=()=>Ye(d())}let p,v=d=>{p=g.onStop=()=>{be(d,l,4)}},m;if(Sr)if(v=se,e?r&&Qt(e,l,3,[u(),f?[]:void 0,v]):u(),s==="sync"){const d=mu();m=d.__watcherHandles||(d.__watcherHandles=[])}else return se;let y=f?new Array(t.length).fill(si):si;const b=()=>{if(g.active)if(e){const d=g.run();(n||h||(f?d.some((C,T)=>Le(C,y[T])):Le(d,y)))&&(p&&p(),Qt(e,l,3,[d,y===si?void 0:f&&y[0]===si?[]:y,v]),y=d)}else g.run()};b.allowRecurse=!!e;let E;s==="sync"?E=b:s==="post"?E=()=>Dt(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),E=()=>Ii(b));const g=new yr(u,E);e?r?b():y=g.run():s==="post"?Dt(g.run.bind(g),l&&l.suspense):g.run();const c=()=>{g.stop(),l&&l.scope&&ta(l.scope.effects,g)};return m&&m.push(c),c}function Gf(t,e,r){const n=this.proxy,s=xt(t)?t.includes(".")?kc(n,t):()=>n[t]:t.bind(n,n);let i;ht(e)?i=e:(i=e.handler,r=e);const a=Ft;Be(this);const o=Yn(s,i.bind(n),r);return a?Be(a):De(),o}function kc(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Ye(t,e){if(!St(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),At(t))Ye(t.value,e);else if(at(t))for(let r=0;r<t.length;r++)Ye(t[r],e);else if(sr(t)||gr(t))t.forEach(r=>{Ye(r,e)});else if(sc(t))for(const r in t)Ye(t[r],e);return t}function Uf(t,e){const r=kt;if(r===null)return t;const n=$i(r)||r.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,o,l,u=bt]=e[i];a&&(ht(a)&&(a={mounted:a,updated:a}),a.deep&&Ye(o),s.push({dir:a,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function ce(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(Ar(),Qt(l,r,8,[t.el,o,t,e]),Rr())}}const Ae=Symbol("_leaveCb"),ai=Symbol("_enterCb");function va(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xn(()=>{t.isMounted=!0}),ji(()=>{t.isUnmounting=!0}),t}const Xt=[Function,Array],ma={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xt,onEnter:Xt,onAfterEnter:Xt,onEnterCancelled:Xt,onBeforeLeave:Xt,onLeave:Xt,onAfterLeave:Xt,onLeaveCancelled:Xt,onBeforeAppear:Xt,onAppear:Xt,onAfterAppear:Xt,onAppearCancelled:Xt},Bf={name:"BaseTransition",props:ma,setup(t,{slots:e}){const r=Se(),n=va();let s;return()=>{const i=e.default&&Vi(e.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const y of i)if(y.type!==It){a=y;break}}const o=vt(t),{mode:l}=o;if(n.isLeaving)return ss(a);const u=Za(a);if(!u)return ss(a);const h=br(u,o,n,r);rr(u,h);const f=r.subTree,p=f&&Za(f);let v=!1;const{getTransitionKey:m}=u.type;if(m){const y=m();s===void 0?s=y:y!==s&&(s=y,v=!0)}if(p&&p.type!==It&&(!ie(u,p)||v)){const y=br(p,o,n,r);if(rr(p,y),l==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},ss(a);l==="in-out"&&u.type!==It&&(y.delayLeave=(b,E,g)=>{const c=Dc(n,p);c[String(p.key)]=p,b[Ae]=()=>{E(),b[Ae]=void 0,delete h.delayedLeave},h.delayedLeave=g})}return a}}},Nc=Bf;function Dc(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function br(t,e,r,n){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:v,onLeaveCancelled:m,onBeforeAppear:y,onAppear:b,onAfterAppear:E,onAppearCancelled:g}=e,c=String(t.key),d=Dc(r,t),C=(w,A)=>{w&&Qt(w,n,9,A)},T=(w,A)=>{const P=A[1];C(w,A),at(w)?w.every(F=>F.length<=1)&&P():w.length<=1&&P()},M={mode:i,persisted:a,beforeEnter(w){let A=o;if(!r.isMounted)if(s)A=y||o;else return;w[Ae]&&w[Ae](!0);const P=d[c];P&&ie(t,P)&&P.el[Ae]&&P.el[Ae](),C(A,[w])},enter(w){let A=l,P=u,F=h;if(!r.isMounted)if(s)A=b||l,P=E||u,F=g||h;else return;let D=!1;const _=w[ai]=S=>{D||(D=!0,S?C(F,[w]):C(P,[w]),M.delayedLeave&&M.delayedLeave(),w[ai]=void 0)};A?T(A,[w,_]):_()},leave(w,A){const P=String(t.key);if(w[ai]&&w[ai](!0),r.isUnmounting)return A();C(f,[w]);let F=!1;const D=w[Ae]=_=>{F||(F=!0,A(),_?C(m,[w]):C(v,[w]),w[Ae]=void 0,d[P]===t&&delete d[P])};d[P]=t,p?T(p,[w,D]):D()},clone(w){return br(w,e,r,n)}};return M}function ss(t){if(Qn(t))return t=he(t),t.children=null,t}function Za(t){return Qn(t)?t.children?t.children[0]:void 0:t}function rr(t,e){t.shapeFlag&6&&t.component?rr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vi(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let a=t[i];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:i);a.type===Mt?(a.patchFlag&128&&s++,n=n.concat(Vi(a.children,e,o))):(e||a.type!==It)&&n.push(o!=null?he(a,{key:o}):a)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Or(t,e){return ht(t)?(()=>Et({name:t.name},e,{setup:t}))():t}const Ze=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Vf(t){ht(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:s=200,timeout:i,suspensible:a=!0,onError:o}=t;let l=null,u,h=0;const f=()=>(h++,l=null,p()),p=()=>{let v;return l||(v=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),o)return new Promise((y,b)=>{o(m,()=>y(f()),()=>b(m),h+1)});throw m}).then(m=>v!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return Or({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return u},setup(){const v=Ft;if(u)return()=>as(u,v);const m=g=>{l=null,ar(g,v,13,!n)};if(a&&v.suspense||Sr)return p().then(g=>()=>as(g,v)).catch(g=>(m(g),()=>n?Ct(n,{error:g}):null));const y=ke(!1),b=ke(),E=ke(!!s);return s&&setTimeout(()=>{E.value=!1},s),i!=null&&setTimeout(()=>{if(!y.value&&!b.value){const g=new Error(`Async component timed out after ${i}ms.`);m(g),b.value=g}},i),p().then(()=>{y.value=!0,v.parent&&Qn(v.parent.vnode)&&Ii(v.parent.update)}).catch(g=>{m(g),b.value=g}),()=>{if(y.value&&u)return as(u,v);if(b.value&&n)return Ct(n,{error:b.value});if(r&&!E.value)return Ct(r)}}})}function as(t,e){const{ref:r,props:n,children:s,ce:i}=e.vnode,a=Ct(t,n,s);return a.ref=r,a.ce=i,delete e.vnode.ce,a}const Qn=t=>t.type.__isKeepAlive,Hf={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=Se(),n=r.ctx;if(!n.renderer)return()=>{const g=e.default&&e.default();return g&&g.length===1?g[0]:g};const s=new Map,i=new Set;let a=null;const o=r.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:f}}}=n,p=f("div");n.activate=(g,c,d,C,T)=>{const M=g.component;u(g,c,d,0,o),l(M.vnode,g,c,d,M,o,C,g.slotScopeIds,T),Dt(()=>{M.isDeactivated=!1,M.a&&pr(M.a);const w=g.props&&g.props.onVnodeMounted;w&&Vt(w,M.parent,g)},o)},n.deactivate=g=>{const c=g.component;u(g,p,null,1,o),Dt(()=>{c.da&&pr(c.da);const d=g.props&&g.props.onVnodeUnmounted;d&&Vt(d,c.parent,g),c.isDeactivated=!0},o)};function v(g){os(g),h(g,r,o,!0)}function m(g){s.forEach((c,d)=>{const C=Bs(c.type);C&&(!g||!g(C))&&y(d)})}function y(g){const c=s.get(g);!a||!ie(c,a)?v(c):a&&os(a),s.delete(g),i.delete(g)}Ne(()=>[t.include,t.exclude],([g,c])=>{g&&m(d=>Pn(g,d)),c&&m(d=>!Pn(c,d))},{flush:"post",deep:!0});let b=null;const E=()=>{b!=null&&s.set(b,ls(r.subTree))};return Xn(E),qi(E),ji(()=>{s.forEach(g=>{const{subTree:c,suspense:d}=r,C=ls(c);if(g.type===C.type&&g.key===C.key){os(C);const T=C.component.da;T&&Dt(T,d);return}v(g)})}),()=>{if(b=null,!e.default)return null;const g=e.default(),c=g[0];if(g.length>1)return a=null,g;if(!Ue(c)||!(c.shapeFlag&4)&&!(c.shapeFlag&128))return a=null,c;let d=ls(c);const C=d.type,T=Bs(Ze(d)?d.type.__asyncResolved||{}:C),{include:M,exclude:w,max:A}=t;if(M&&(!T||!Pn(M,T))||w&&T&&Pn(w,T))return a=d,c;const P=d.key==null?C:d.key,F=s.get(P);return d.el&&(d=he(d),c.shapeFlag&128&&(c.ssContent=d)),b=P,F?(d.el=F.el,d.component=F.component,d.transition&&rr(d,d.transition),d.shapeFlag|=512,i.delete(P),i.add(P)):(i.add(P),A&&i.size>parseInt(A,10)&&y(i.values().next().value)),d.shapeFlag|=256,a=d,Oc(c.type)?c:d}}},qf=Hf;function Pn(t,e){return at(t)?t.some(r=>Pn(r,e)):xt(t)?t.split(",").includes(e):ph(t)?t.test(e):!1}function Lc(t,e){Gc(t,"a",e)}function Ic(t,e){Gc(t,"da",e)}function Gc(t,e,r=Ft){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Hi(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Qn(s.parent.vnode)&&jf(n,e,r,s),s=s.parent}}function jf(t,e,r,n){const s=Hi(e,t,n,!0);Ki(()=>{ta(n[e],s)},r)}function os(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ls(t){return t.shapeFlag&128?t.ssContent:t}function Hi(t,e,r=Ft,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;Ar(),Be(r);const o=Qt(e,r,t,a);return De(),Rr(),o});return n?s.unshift(i):s.push(i),i}}const Ce=t=>(e,r=Ft)=>(!Sr||t==="sp")&&Hi(t,(...n)=>e(...n),r),Uc=Ce("bm"),Xn=Ce("m"),Bc=Ce("bu"),qi=Ce("u"),ji=Ce("bum"),Ki=Ce("um"),Vc=Ce("sp"),Hc=Ce("rtg"),qc=Ce("rtc");function jc(t,e=Ft){Hi("ec",t,e)}const _a="components",Kf="directives";function ya(t,e){return ba(_a,t,!0,e)||t}const Kc=Symbol.for("v-ndc");function Wf(t){return xt(t)?ba(_a,t,!1)||t:t||Kc}function zf(t){return ba(Kf,t)}function ba(t,e,r=!0,n=!1){const s=kt||Ft;if(s){const i=s.type;if(t===_a){const o=Bs(i,!1);if(o&&(o===e||o===qt(e)||o===Kn(qt(e))))return i}const a=to(s[t]||i[t],e)||to(s.appContext[t],e);return!a&&n?i:a}}function to(t,e){return t&&(t[e]||t[qt(e)]||t[Kn(qt(e))])}function $f(t,e,r,n){let s;const i=r&&r[n];if(at(t)||xt(t)){s=new Array(t.length);for(let a=0,o=t.length;a<o;a++)s[a]=e(t[a],a,void 0,i&&i[a])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(St(t))if(t[Symbol.iterator])s=Array.from(t,(a,o)=>e(a,o,void 0,i&&i[o]));else{const a=Object.keys(t);s=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];s[o]=e(t[u],u,o,i&&i[o])}}else s=[];return r&&(r[n]=s),s}function Yf(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(at(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function Qf(t,e,r={},n,s){if(kt.isCE||kt.parent&&Ze(kt.parent)&&kt.parent.isCE)return e!=="default"&&(r.name=e),Ct("slot",r,n&&n());let i=t[e];i&&i._c&&(i._d=!1),Fr();const a=i&&Wc(i(r)),o=Ea(Mt,{key:r.key||a&&a.key||`_${e}`},a||(n?n():[]),a&&t._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),i&&i._c&&(i._d=!0),o}function Wc(t){return t.some(e=>Ue(e)?!(e.type===It||e.type===Mt&&!Wc(e.children)):!0)?t:null}function Xf(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:Tn(n)]=t[n];return r}const Fs=t=>t?fu(t)?$i(t)||t.proxy:Fs(t.parent):null,An=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fs(t.parent),$root:t=>Fs(t.root),$emit:t=>t.emit,$options:t=>Ca(t),$forceUpdate:t=>t.f||(t.f=()=>Ii(t.update)),$nextTick:t=>t.n||(t.n=Li.bind(t.proxy)),$watch:t=>Gf.bind(t)}),cs=(t,e)=>t!==bt&&!t.__isScriptSetup&&_t(t,e),Ms={get({_:t},e){const{ctx:r,setupState:n,data:s,props:i,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(cs(n,e))return a[e]=1,n[e];if(s!==bt&&_t(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&_t(u,e))return a[e]=3,i[e];if(r!==bt&&_t(r,e))return a[e]=4,r[e];ks&&(a[e]=0)}}const h=An[e];let f,p;if(h)return e==="$attrs"&&jt(t,"get",e),h(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==bt&&_t(r,e))return a[e]=4,r[e];if(p=l.config.globalProperties,_t(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return cs(s,e)?(s[e]=r,!0):n!==bt&&_t(n,e)?(n[e]=r,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},a){let o;return!!r[a]||t!==bt&&_t(t,a)||cs(e,a)||(o=i[0])&&_t(o,a)||_t(n,a)||_t(An,a)||_t(s.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:_t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},Jf=Et({},Ms,{get(t,e){if(e!==Symbol.unscopables)return Ms.get(t,e,t)},has(t,e){return e[0]!=="_"&&!bh(e)}});function Zf(){return null}function td(){return null}function ed(t){}function rd(t){}function nd(){return null}function id(){}function sd(t,e){return null}function ad(){return zc().slots}function od(){return zc().attrs}function ld(t,e,r){const n=Se();if(r&&r.local){const s=ke(t[e]);return Ne(()=>t[e],i=>s.value=i),Ne(s,i=>{i!==t[e]&&n.emit(`update:${e}`,i)}),s}else return{__v_isRef:!0,get value(){return t[e]},set value(s){n.emit(`update:${e}`,s)}}}function zc(){const t=Se();return t.setupContext||(t.setupContext=pu(t))}function Vn(t){return at(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function cd(t,e){const r=Vn(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=r[n];s?at(s)||ht(s)?s=r[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=r[n]={default:e[n]}),s&&e[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function ud(t,e){return!t||!e?t||e:at(t)&&at(e)?t.concat(e):Et({},Vn(t),Vn(e))}function hd(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function fd(t){const e=Se();let r=t();return De(),ea(r)&&(r=r.catch(n=>{throw Be(e),n})),[r,()=>Be(e)]}let ks=!0;function dd(t){const e=Ca(t),r=t.proxy,n=t.ctx;ks=!1,e.beforeCreate&&eo(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:v,updated:m,activated:y,deactivated:b,beforeDestroy:E,beforeUnmount:g,destroyed:c,unmounted:d,render:C,renderTracked:T,renderTriggered:M,errorCaptured:w,serverPrefetch:A,expose:P,inheritAttrs:F,components:D,directives:_,filters:S}=e;if(u&&gd(u,n,null),a)for(const N in a){const I=a[N];ht(I)&&(n[N]=I.bind(r))}if(s){const N=s.call(r,r);St(N)&&(t.data=$n(N))}if(ks=!0,i)for(const N in i){const I=i[N],U=ht(I)?I.bind(r,r):ht(I.get)?I.get.bind(r,r):se,j=!ht(I)&&ht(I.set)?I.set.bind(r):se,Q=Zt({get:U,set:j});Object.defineProperty(n,N,{enumerable:!0,configurable:!0,get:()=>Q.value,set:H=>Q.value=H})}if(o)for(const N in o)$c(o[N],n,r,N);if(l){const N=ht(l)?l.call(r):l;Reflect.ownKeys(N).forEach(I=>{Rn(I,N[I])})}h&&eo(h,t,"c");function R(N,I){at(I)?I.forEach(U=>N(U.bind(r))):I&&N(I.bind(r))}if(R(Uc,f),R(Xn,p),R(Bc,v),R(qi,m),R(Lc,y),R(Ic,b),R(jc,w),R(qc,T),R(Hc,M),R(ji,g),R(Ki,d),R(Vc,A),at(P))if(P.length){const N=t.exposed||(t.exposed={});P.forEach(I=>{Object.defineProperty(N,I,{get:()=>r[I],set:U=>r[I]=U})})}else t.exposed||(t.exposed={});C&&t.render===se&&(t.render=C),F!=null&&(t.inheritAttrs=F),D&&(t.components=D),_&&(t.directives=_)}function gd(t,e,r=se){at(t)&&(t=Ns(t));for(const n in t){const s=t[n];let i;St(s)?"default"in s?i=ae(s.from||n,s.default,!0):i=ae(s.from||n):i=ae(s),At(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[n]=i}}function eo(t,e,r){Qt(at(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function $c(t,e,r,n){const s=n.includes(".")?kc(r,n):()=>r[n];if(xt(t)){const i=e[t];ht(i)&&Ne(s,i)}else if(ht(t))Ne(s,t.bind(r));else if(St(t))if(at(t))t.forEach(i=>$c(i,e,r,n));else{const i=ht(t.handler)?t.handler.bind(r):e[t.handler];ht(i)&&Ne(s,i,t)}}function Ca(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,o=i.get(e);let l;return o?l=o:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(u=>Ci(l,u,a,!0)),Ci(l,e,a)),St(e)&&i.set(e,l),l}function Ci(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&Ci(t,i,r,!0),s&&s.forEach(a=>Ci(t,a,r,!0));for(const a in e)if(!(n&&a==="expose")){const o=pd[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const pd={data:ro,props:no,emits:no,methods:En,computed:En,beforeCreate:Gt,created:Gt,beforeMount:Gt,mounted:Gt,beforeUpdate:Gt,updated:Gt,beforeDestroy:Gt,beforeUnmount:Gt,destroyed:Gt,unmounted:Gt,activated:Gt,deactivated:Gt,errorCaptured:Gt,serverPrefetch:Gt,components:En,directives:En,watch:md,provide:ro,inject:vd};function ro(t,e){return e?t?function(){return Et(ht(t)?t.call(this,this):t,ht(e)?e.call(this,this):e)}:e:t}function vd(t,e){return En(Ns(t),Ns(e))}function Ns(t){if(at(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Gt(t,e){return t?[...new Set([].concat(t,e))]:e}function En(t,e){return t?Et(Object.create(null),t,e):e}function no(t,e){return t?at(t)&&at(e)?[...new Set([...t,...e])]:Et(Object.create(null),Vn(t),Vn(e??{})):e}function md(t,e){if(!t)return e;if(!e)return t;const r=Et(Object.create(null),t);for(const n in e)r[n]=Gt(t[n],e[n]);return r}function Yc(){return{app:null,config:{isNativeTag:fh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _d=0;function yd(t,e){return function(n,s=null){ht(n)||(n=Et({},n)),s!=null&&!St(s)&&(s=null);const i=Yc(),a=new WeakSet;let o=!1;const l=i.app={_uid:_d++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:yu,get config(){return i.config},set config(u){},use(u,...h){return a.has(u)||(u&&ht(u.install)?(a.add(u),u.install(l,...h)):ht(u)&&(a.add(u),u(l,...h))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,h){return h?(i.components[u]=h,l):i.components[u]},directive(u,h){return h?(i.directives[u]=h,l):i.directives[u]},mount(u,h,f){if(!o){const p=Ct(n,s);return p.appContext=i,h&&e?e(p,u):t(p,u,f),o=!0,l._container=u,u.__vue_app__=l,$i(p.component)||p.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,h){return i.provides[u]=h,l},runWithContext(u){Hn=l;try{return u()}finally{Hn=null}}};return l}}let Hn=null;function Rn(t,e){if(Ft){let r=Ft.provides;const n=Ft.parent&&Ft.parent.provides;n===r&&(r=Ft.provides=Object.create(n)),r[t]=e}}function ae(t,e,r=!1){const n=Ft||kt;if(n||Hn){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Hn._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&ht(e)?e.call(n&&n.proxy):e}}function bd(){return!!(Ft||kt||Hn)}function Cd(t,e,r,n=!1){const s={},i={};pi(i,Wi,1),t.propsDefaults=Object.create(null),Qc(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);r?t.props=n?s:aa(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Sd(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,o=vt(s),[l]=t.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(Gi(t.emitsOptions,p))continue;const v=e[p];if(l)if(_t(i,p))v!==i[p]&&(i[p]=v,u=!0);else{const m=qt(p);s[m]=Ds(l,o,m,v,t,!1)}else v!==i[p]&&(i[p]=v,u=!0)}}}else{Qc(t,e,s,i)&&(u=!0);let h;for(const f in o)(!e||!_t(e,f)&&((h=Jt(f))===f||!_t(e,h)))&&(l?r&&(r[f]!==void 0||r[h]!==void 0)&&(s[f]=Ds(l,o,f,void 0,t,!0)):delete s[f]);if(i!==o)for(const f in i)(!e||!_t(e,f))&&(delete i[f],u=!0)}u&&_e(t,"set","$attrs")}function Qc(t,e,r,n){const[s,i]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(xn(l))continue;const u=e[l];let h;s&&_t(s,h=qt(l))?!i||!i.includes(h)?r[h]=u:(o||(o={}))[h]=u:Gi(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(i){const l=vt(r),u=o||bt;for(let h=0;h<i.length;h++){const f=i[h];r[f]=Ds(s,l,f,u[f],t,!_t(u,f))}}return a}function Ds(t,e,r,n,s,i){const a=t[r];if(a!=null){const o=_t(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ht(l)){const{propsDefaults:u}=s;r in u?n=u[r]:(Be(s),n=u[r]=l.call(null,e),De())}else n=l}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===Jt(r))&&(n=!0))}return n}function Xc(t,e,r=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const i=t.props,a={},o=[];let l=!1;if(!ht(t)){const h=f=>{l=!0;const[p,v]=Xc(f,e,!0);Et(a,p),v&&o.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return St(t)&&n.set(t,dr),dr;if(at(i))for(let h=0;h<i.length;h++){const f=qt(i[h]);io(f)&&(a[f]=bt)}else if(i)for(const h in i){const f=qt(h);if(io(f)){const p=i[h],v=a[f]=at(p)||ht(p)?{type:p}:Et({},p);if(v){const m=oo(Boolean,v.type),y=oo(String,v.type);v[0]=m>-1,v[1]=y<0||m<y,(m>-1||_t(v,"default"))&&o.push(f)}}}const u=[a,o];return St(t)&&n.set(t,u),u}function io(t){return t[0]!=="$"}function so(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function ao(t,e){return so(t)===so(e)}function oo(t,e){return at(e)?e.findIndex(r=>ao(r,t)):ht(e)&&ao(e,t)?0:-1}const Jc=t=>t[0]==="_"||t==="$stable",Sa=t=>at(t)?t.map(Yt):[Yt(t)],wd=(t,e,r)=>{if(e._n)return e;const n=Bi((...s)=>Sa(e(...s)),r);return n._c=!1,n},Zc=(t,e,r)=>{const n=t._ctx;for(const s in t){if(Jc(s))continue;const i=t[s];if(ht(i))e[s]=wd(s,i,n);else if(i!=null){const a=Sa(i);e[s]=()=>a}}},tu=(t,e)=>{const r=Sa(e);t.slots.default=()=>r},Pd=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=vt(e),pi(e,"_",r)):Zc(e,t.slots={})}else t.slots={},e&&tu(t,e);pi(t.slots,Wi,1)},Ed=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,a=bt;if(n.shapeFlag&32){const o=e._;o?r&&o===1?i=!1:(Et(s,e),!r&&o===1&&delete s._):(i=!e.$stable,Zc(e,s)),a=e}else e&&(tu(t,e),a={default:1});if(i)for(const o in s)!Jc(o)&&a[o]==null&&delete s[o]};function Si(t,e,r,n,s=!1){if(at(t)){t.forEach((p,v)=>Si(p,e&&(at(e)?e[v]:e),r,n,s));return}if(Ze(n)&&!s)return;const i=n.shapeFlag&4?$i(n.component)||n.component.proxy:n.el,a=s?null:i,{i:o,r:l}=t,u=e&&e.r,h=o.refs===bt?o.refs={}:o.refs,f=o.setupState;if(u!=null&&u!==l&&(xt(u)?(h[u]=null,_t(f,u)&&(f[u]=null)):At(u)&&(u.value=null)),ht(l))be(l,o,12,[a,h]);else{const p=xt(l),v=At(l);if(p||v){const m=()=>{if(t.f){const y=p?_t(f,l)?f[l]:h[l]:l.value;s?at(y)&&ta(y,i):at(y)?y.includes(i)||y.push(i):p?(h[l]=[i],_t(f,l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else p?(h[l]=a,_t(f,l)&&(f[l]=a)):v&&(l.value=a,t.k&&(h[t.k]=a))};a?(m.id=-1,Dt(m,r)):m()}}}let Pe=!1;const oi=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",li=t=>t.nodeType===8;function xd(t){const{mt:e,p:r,o:{patchProp:n,createText:s,nextSibling:i,parentNode:a,remove:o,insert:l,createComment:u}}=t,h=(c,d)=>{if(!d.hasChildNodes()){r(null,c,d),bi(),d._vnode=c;return}Pe=!1,f(d.firstChild,c,null,null,null),bi(),d._vnode=c,Pe&&console.error("Hydration completed but contains mismatches.")},f=(c,d,C,T,M,w=!1)=>{const A=li(c)&&c.data==="[",P=()=>y(c,d,C,T,M,A),{type:F,ref:D,shapeFlag:_,patchFlag:S}=d;let x=c.nodeType;d.el=c,S===-2&&(w=!1,d.dynamicChildren=null);let R=null;switch(F){case nr:x!==3?d.children===""?(l(d.el=s(""),a(c),c),R=c):R=P():(c.data!==d.children&&(Pe=!0,c.data=d.children),R=i(c));break;case It:if(x!==8||A)if(c.tagName.toLowerCase()==="template"){const N=d.el.content.firstChild;E(N,c,C),d.el=c=N,R=i(c)}else R=P();else R=i(c);break;case tr:if(A&&(c=i(c),x=c.nodeType),x===1||x===3){R=c;const N=!d.children.length;for(let I=0;I<d.staticCount;I++)N&&(d.children+=R.nodeType===1?R.outerHTML:R.data),I===d.staticCount-1&&(d.anchor=R),R=i(R);return A?i(R):R}else P();break;case Mt:A?R=m(c,d,C,T,M,w):R=P();break;default:if(_&1)(x!==1||d.type.toLowerCase()!==c.tagName.toLowerCase())&&!g(c)?R=P():R=p(c,d,C,T,M,w);else if(_&6){d.slotScopeIds=M;const N=a(c);if(A?R=b(c):li(c)&&c.data==="teleport start"?R=b(c,c.data,"teleport end"):R=i(c),e(d,N,null,C,T,oi(N),w),Ze(d)){let I;A?(I=Ct(Mt),I.anchor=R?R.previousSibling:N.lastChild):I=c.nodeType===3?zi(""):Ct("div"),I.el=c,d.component.subTree=I}}else _&64?x!==8?R=P():R=d.type.hydrate(c,d,C,T,M,w,t,v):_&128&&(R=d.type.hydrate(c,d,C,T,oi(a(c)),M,w,t,f))}return D!=null&&Si(D,null,T,d),R},p=(c,d,C,T,M,w)=>{w=w||!!d.dynamicChildren;const{type:A,props:P,patchFlag:F,shapeFlag:D,dirs:_,transition:S}=d,x=A==="input"&&_||A==="option";if(x||F!==-1){if(_&&ce(d,null,C,"created"),P)if(x||!w||F&48)for(const I in P)(x&&I.endsWith("value")||jn(I)&&!xn(I))&&n(c,I,null,P[I],!1,void 0,C);else P.onClick&&n(c,"onClick",null,P.onClick,!1,void 0,C);let R;(R=P&&P.onVnodeBeforeMount)&&Vt(R,C,d);let N=!1;if(g(c)){N=iu(T,S)&&C&&C.vnode.props&&C.vnode.props.appear;const I=c.content.firstChild;N&&S.beforeEnter(I),E(I,c,C),d.el=c=I}if(_&&ce(d,null,C,"beforeMount"),((R=P&&P.onVnodeMounted)||_||N)&&Fc(()=>{R&&Vt(R,C,d),N&&S.enter(c),_&&ce(d,null,C,"mounted")},T),D&16&&!(P&&(P.innerHTML||P.textContent))){let I=v(c.firstChild,d,c,C,T,M,w);for(;I;){Pe=!0;const U=I;I=I.nextSibling,o(U)}}else D&8&&c.textContent!==d.children&&(Pe=!0,c.textContent=d.children)}return c.nextSibling},v=(c,d,C,T,M,w,A)=>{A=A||!!d.dynamicChildren;const P=d.children,F=P.length;for(let D=0;D<F;D++){const _=A?P[D]:P[D]=Yt(P[D]);if(c)c=f(c,_,T,M,w,A);else{if(_.type===nr&&!_.children)continue;Pe=!0,r(null,_,C,null,T,M,oi(C),w)}}return c},m=(c,d,C,T,M,w)=>{const{slotScopeIds:A}=d;A&&(M=M?M.concat(A):A);const P=a(c),F=v(i(c),d,P,C,T,M,w);return F&&li(F)&&F.data==="]"?i(d.anchor=F):(Pe=!0,l(d.anchor=u("]"),P,F),F)},y=(c,d,C,T,M,w)=>{if(Pe=!0,d.el=null,w){const F=b(c);for(;;){const D=i(c);if(D&&D!==F)o(D);else break}}const A=i(c),P=a(c);return o(c),r(null,d,P,A,C,T,oi(P),M),A},b=(c,d="[",C="]")=>{let T=0;for(;c;)if(c=i(c),c&&li(c)&&(c.data===d&&T++,c.data===C)){if(T===0)return i(c);T--}return c},E=(c,d,C)=>{const T=d.parentNode;T&&T.replaceChild(c,d);let M=C;for(;M;)M.vnode.el===d&&(M.vnode.el=c,M.subTree.el=c),M=M.parent},g=c=>c.nodeType===1&&c.tagName.toLowerCase()==="template";return[h,f]}const Dt=Fc;function eu(t){return nu(t)}function ru(t){return nu(t,xd)}function nu(t,e){const r=xs();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:v=se,insertStaticContent:m}=t,y=(k,L,B,q=null,W=null,$=null,tt=!1,X=null,Z=!!L.dynamicChildren)=>{if(k===L)return;k&&!ie(k,L)&&(q=O(k),H(k,W,$,!0),k=null),L.patchFlag===-2&&(Z=!1,L.dynamicChildren=null);const{type:z,ref:st,shapeFlag:it}=L;switch(z){case nr:b(k,L,B,q);break;case It:E(k,L,B,q);break;case tr:k==null&&g(L,B,q,tt);break;case Mt:D(k,L,B,q,W,$,tt,X,Z);break;default:it&1?C(k,L,B,q,W,$,tt,X,Z):it&6?_(k,L,B,q,W,$,tt,X,Z):(it&64||it&128)&&z.process(k,L,B,q,W,$,tt,X,Z,V)}st!=null&&W&&Si(st,k&&k.ref,$,L||k,!L)},b=(k,L,B,q)=>{if(k==null)n(L.el=o(L.children),B,q);else{const W=L.el=k.el;L.children!==k.children&&u(W,L.children)}},E=(k,L,B,q)=>{k==null?n(L.el=l(L.children||""),B,q):L.el=k.el},g=(k,L,B,q)=>{[k.el,k.anchor]=m(k.children,L,B,q,k.el,k.anchor)},c=({el:k,anchor:L},B,q)=>{let W;for(;k&&k!==L;)W=p(k),n(k,B,q),k=W;n(L,B,q)},d=({el:k,anchor:L})=>{let B;for(;k&&k!==L;)B=p(k),s(k),k=B;s(L)},C=(k,L,B,q,W,$,tt,X,Z)=>{tt=tt||L.type==="svg",k==null?T(L,B,q,W,$,tt,X,Z):A(k,L,W,$,tt,X,Z)},T=(k,L,B,q,W,$,tt,X)=>{let Z,z;const{type:st,props:it,shapeFlag:ot,transition:lt,dirs:ut}=k;if(Z=k.el=a(k.type,$,it&&it.is,it),ot&8?h(Z,k.children):ot&16&&w(k.children,Z,null,q,W,$&&st!=="foreignObject",tt,X),ut&&ce(k,null,q,"created"),M(Z,k,k.scopeId,tt,q),it){for(const pt in it)pt!=="value"&&!xn(pt)&&i(Z,pt,null,it[pt],$,k.children,q,W,nt);"value"in it&&i(Z,"value",null,it.value),(z=it.onVnodeBeforeMount)&&Vt(z,q,k)}ut&&ce(k,null,q,"beforeMount");const mt=iu(W,lt);mt&&lt.beforeEnter(Z),n(Z,L,B),((z=it&&it.onVnodeMounted)||mt||ut)&&Dt(()=>{z&&Vt(z,q,k),mt&&lt.enter(Z),ut&&ce(k,null,q,"mounted")},W)},M=(k,L,B,q,W)=>{if(B&&v(k,B),q)for(let $=0;$<q.length;$++)v(k,q[$]);if(W){let $=W.subTree;if(L===$){const tt=W.vnode;M(k,tt,tt.scopeId,tt.slotScopeIds,W.parent)}}},w=(k,L,B,q,W,$,tt,X,Z=0)=>{for(let z=Z;z<k.length;z++){const st=k[z]=X?Re(k[z]):Yt(k[z]);y(null,st,L,B,q,W,$,tt,X)}},A=(k,L,B,q,W,$,tt)=>{const X=L.el=k.el;let{patchFlag:Z,dynamicChildren:z,dirs:st}=L;Z|=k.patchFlag&16;const it=k.props||bt,ot=L.props||bt;let lt;B&&qe(B,!1),(lt=ot.onVnodeBeforeUpdate)&&Vt(lt,B,L,k),st&&ce(L,k,B,"beforeUpdate"),B&&qe(B,!0);const ut=W&&L.type!=="foreignObject";if(z?P(k.dynamicChildren,z,X,B,q,ut,$):tt||I(k,L,X,null,B,q,ut,$,!1),Z>0){if(Z&16)F(X,L,it,ot,B,q,W);else if(Z&2&&it.class!==ot.class&&i(X,"class",null,ot.class,W),Z&4&&i(X,"style",it.style,ot.style,W),Z&8){const mt=L.dynamicProps;for(let pt=0;pt<mt.length;pt++){const wt=mt[pt],Ot=it[wt],Kt=ot[wt];(Kt!==Ot||wt==="value")&&i(X,wt,Ot,Kt,W,k.children,B,q,nt)}}Z&1&&k.children!==L.children&&h(X,L.children)}else!tt&&z==null&&F(X,L,it,ot,B,q,W);((lt=ot.onVnodeUpdated)||st)&&Dt(()=>{lt&&Vt(lt,B,L,k),st&&ce(L,k,B,"updated")},q)},P=(k,L,B,q,W,$,tt)=>{for(let X=0;X<L.length;X++){const Z=k[X],z=L[X],st=Z.el&&(Z.type===Mt||!ie(Z,z)||Z.shapeFlag&70)?f(Z.el):B;y(Z,z,st,null,q,W,$,tt,!0)}},F=(k,L,B,q,W,$,tt)=>{if(B!==q){if(B!==bt)for(const X in B)!xn(X)&&!(X in q)&&i(k,X,B[X],null,tt,L.children,W,$,nt);for(const X in q){if(xn(X))continue;const Z=q[X],z=B[X];Z!==z&&X!=="value"&&i(k,X,z,Z,tt,L.children,W,$,nt)}"value"in q&&i(k,"value",B.value,q.value)}},D=(k,L,B,q,W,$,tt,X,Z)=>{const z=L.el=k?k.el:o(""),st=L.anchor=k?k.anchor:o("");let{patchFlag:it,dynamicChildren:ot,slotScopeIds:lt}=L;lt&&(X=X?X.concat(lt):lt),k==null?(n(z,B,q),n(st,B,q),w(L.children,B,st,W,$,tt,X,Z)):it>0&&it&64&&ot&&k.dynamicChildren?(P(k.dynamicChildren,ot,B,W,$,tt,X),(L.key!=null||W&&L===W.subTree)&&wa(k,L,!0)):I(k,L,B,st,W,$,tt,X,Z)},_=(k,L,B,q,W,$,tt,X,Z)=>{L.slotScopeIds=X,k==null?L.shapeFlag&512?W.ctx.activate(L,B,q,tt,Z):S(L,B,q,W,$,tt,Z):x(k,L,Z)},S=(k,L,B,q,W,$,tt)=>{const X=k.component=hu(k,q,W);if(Qn(k)&&(X.ctx.renderer=V),du(X),X.asyncDep){if(W&&W.registerDep(X,R),!k.el){const Z=X.subTree=Ct(It);E(null,Z,L,B)}return}R(X,k,L,B,W,$,tt)},x=(k,L,B)=>{const q=L.component=k.component;if(Af(k,L,B))if(q.asyncDep&&!q.asyncResolved){N(q,L,B);return}else q.next=L,yf(q.update),q.update();else L.el=k.el,q.vnode=L},R=(k,L,B,q,W,$,tt)=>{const X=()=>{if(k.isMounted){let{next:st,bu:it,u:ot,parent:lt,vnode:ut}=k,mt=st,pt;qe(k,!1),st?(st.el=ut.el,N(k,st,tt)):st=ut,it&&pr(it),(pt=st.props&&st.props.onVnodeBeforeUpdate)&&Vt(pt,lt,st,ut),qe(k,!0);const wt=fi(k),Ot=k.subTree;k.subTree=wt,y(Ot,wt,f(Ot.el),O(Ot),k,W,$),st.el=wt.el,mt===null&&ga(k,wt.el),ot&&Dt(ot,W),(pt=st.props&&st.props.onVnodeUpdated)&&Dt(()=>Vt(pt,lt,st,ut),W)}else{let st;const{el:it,props:ot}=L,{bm:lt,m:ut,parent:mt}=k,pt=Ze(L);if(qe(k,!1),lt&&pr(lt),!pt&&(st=ot&&ot.onVnodeBeforeMount)&&Vt(st,mt,L),qe(k,!0),it&&et){const wt=()=>{k.subTree=fi(k),et(it,k.subTree,k,W,null)};pt?L.type.__asyncLoader().then(()=>!k.isUnmounted&&wt()):wt()}else{const wt=k.subTree=fi(k);y(null,wt,B,q,k,W,$),L.el=wt.el}if(ut&&Dt(ut,W),!pt&&(st=ot&&ot.onVnodeMounted)){const wt=L;Dt(()=>Vt(st,mt,wt),W)}(L.shapeFlag&256||mt&&Ze(mt.vnode)&&mt.vnode.shapeFlag&256)&&k.a&&Dt(k.a,W),k.isMounted=!0,L=B=q=null}},Z=k.effect=new yr(X,()=>Ii(z),k.scope),z=k.update=()=>Z.run();z.id=k.uid,qe(k,!0),z()},N=(k,L,B)=>{L.component=k;const q=k.vnode.props;k.vnode=L,k.next=null,Sd(k,L.props,q,B),Ed(k,L.children,B),Ar(),Qa(),Rr()},I=(k,L,B,q,W,$,tt,X,Z=!1)=>{const z=k&&k.children,st=k?k.shapeFlag:0,it=L.children,{patchFlag:ot,shapeFlag:lt}=L;if(ot>0){if(ot&128){j(z,it,B,q,W,$,tt,X,Z);return}else if(ot&256){U(z,it,B,q,W,$,tt,X,Z);return}}lt&8?(st&16&&nt(z,W,$),it!==z&&h(B,it)):st&16?lt&16?j(z,it,B,q,W,$,tt,X,Z):nt(z,W,$,!0):(st&8&&h(B,""),lt&16&&w(it,B,q,W,$,tt,X,Z))},U=(k,L,B,q,W,$,tt,X,Z)=>{k=k||dr,L=L||dr;const z=k.length,st=L.length,it=Math.min(z,st);let ot;for(ot=0;ot<it;ot++){const lt=L[ot]=Z?Re(L[ot]):Yt(L[ot]);y(k[ot],lt,B,null,W,$,tt,X,Z)}z>st?nt(k,W,$,!0,!1,it):w(L,B,q,W,$,tt,X,Z,it)},j=(k,L,B,q,W,$,tt,X,Z)=>{let z=0;const st=L.length;let it=k.length-1,ot=st-1;for(;z<=it&&z<=ot;){const lt=k[z],ut=L[z]=Z?Re(L[z]):Yt(L[z]);if(ie(lt,ut))y(lt,ut,B,null,W,$,tt,X,Z);else break;z++}for(;z<=it&&z<=ot;){const lt=k[it],ut=L[ot]=Z?Re(L[ot]):Yt(L[ot]);if(ie(lt,ut))y(lt,ut,B,null,W,$,tt,X,Z);else break;it--,ot--}if(z>it){if(z<=ot){const lt=ot+1,ut=lt<st?L[lt].el:q;for(;z<=ot;)y(null,L[z]=Z?Re(L[z]):Yt(L[z]),B,ut,W,$,tt,X,Z),z++}}else if(z>ot)for(;z<=it;)H(k[z],W,$,!0),z++;else{const lt=z,ut=z,mt=new Map;for(z=ut;z<=ot;z++){const Wt=L[z]=Z?Re(L[z]):Yt(L[z]);Wt.key!=null&&mt.set(Wt.key,z)}let pt,wt=0;const Ot=ot-ut+1;let Kt=!1,Jn=0;const He=new Array(Ot);for(z=0;z<Ot;z++)He[z]=0;for(z=lt;z<=it;z++){const Wt=k[z];if(wt>=Ot){H(Wt,W,$,!0);continue}let le;if(Wt.key!=null)le=mt.get(Wt.key);else for(pt=ut;pt<=ot;pt++)if(He[pt-ut]===0&&ie(Wt,L[pt])){le=pt;break}le===void 0?H(Wt,W,$,!0):(He[le-ut]=z+1,le>=Jn?Jn=le:Kt=!0,y(Wt,L[le],B,null,W,$,tt,X,Z),wt++)}const or=Kt?Td(He):dr;for(pt=or.length-1,z=Ot-1;z>=0;z--){const Wt=ut+z,le=L[Wt],Ba=Wt+1<st?L[Wt+1].el:q;He[z]===0?y(null,le,B,Ba,W,$,tt,X,Z):Kt&&(pt<0||z!==or[pt]?Q(le,B,Ba,2):pt--)}}},Q=(k,L,B,q,W=null)=>{const{el:$,type:tt,transition:X,children:Z,shapeFlag:z}=k;if(z&6){Q(k.component.subTree,L,B,q);return}if(z&128){k.suspense.move(L,B,q);return}if(z&64){tt.move(k,L,B,V);return}if(tt===Mt){n($,L,B);for(let it=0;it<Z.length;it++)Q(Z[it],L,B,q);n(k.anchor,L,B);return}if(tt===tr){c(k,L,B);return}if(q!==2&&z&1&&X)if(q===0)X.beforeEnter($),n($,L,B),Dt(()=>X.enter($),W);else{const{leave:it,delayLeave:ot,afterLeave:lt}=X,ut=()=>n($,L,B),mt=()=>{it($,()=>{ut(),lt&&lt()})};ot?ot($,ut,mt):mt()}else n($,L,B)},H=(k,L,B,q=!1,W=!1)=>{const{type:$,props:tt,ref:X,children:Z,dynamicChildren:z,shapeFlag:st,patchFlag:it,dirs:ot}=k;if(X!=null&&Si(X,null,B,k,!0),st&256){L.ctx.deactivate(k);return}const lt=st&1&&ot,ut=!Ze(k);let mt;if(ut&&(mt=tt&&tt.onVnodeBeforeUnmount)&&Vt(mt,L,k),st&6)rt(k.component,B,q);else{if(st&128){k.suspense.unmount(B,q);return}lt&&ce(k,null,L,"beforeUnmount"),st&64?k.type.remove(k,L,B,W,V,q):z&&($!==Mt||it>0&&it&64)?nt(z,L,B,!1,!0):($===Mt&&it&384||!W&&st&16)&&nt(Z,L,B),q&&K(k)}(ut&&(mt=tt&&tt.onVnodeUnmounted)||lt)&&Dt(()=>{mt&&Vt(mt,L,k),lt&&ce(k,null,L,"unmounted")},B)},K=k=>{const{type:L,el:B,anchor:q,transition:W}=k;if(L===Mt){J(B,q);return}if(L===tr){d(k);return}const $=()=>{s(B),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:tt,delayLeave:X}=W,Z=()=>tt(B,$);X?X(k.el,$,Z):Z()}else $()},J=(k,L)=>{let B;for(;k!==L;)B=p(k),s(k),k=B;s(L)},rt=(k,L,B)=>{const{bum:q,scope:W,update:$,subTree:tt,um:X}=k;q&&pr(q),W.stop(),$&&($.active=!1,H(tt,k,L,B)),X&&Dt(X,L),Dt(()=>{k.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},nt=(k,L,B,q=!1,W=!1,$=0)=>{for(let tt=$;tt<k.length;tt++)H(k[tt],L,B,q,W)},O=k=>k.shapeFlag&6?O(k.component.subTree):k.shapeFlag&128?k.suspense.next():p(k.anchor||k.el),G=(k,L,B)=>{k==null?L._vnode&&H(L._vnode,null,null,!0):y(L._vnode||null,k,L,null,null,null,B),Qa(),bi(),L._vnode=k},V={p:y,um:H,m:Q,r:K,mt:S,mc:w,pc:I,pbc:P,n:O,o:t};let Y,et;return e&&([Y,et]=e(V)),{render:G,hydrate:Y,createApp:yd(G,Y)}}function qe({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function iu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function wa(t,e,r=!1){const n=t.children,s=e.children;if(at(n)&&at(s))for(let i=0;i<n.length;i++){const a=n[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=Re(s[i]),o.el=a.el),r||wa(a,o)),o.type===nr&&(o.el=a.el)}}function Td(t){const e=t.slice(),r=[0];let n,s,i,a,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(s=r[r.length-1],t[s]<u){e[n]=s,r.push(n);continue}for(i=0,a=r.length-1;i<a;)o=i+a>>1,t[r[o]]<u?i=o+1:a=o;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=e[a];return r}const Ad=t=>t.__isTeleport,On=t=>t&&(t.disabled||t.disabled===""),lo=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ls=(t,e)=>{const r=t&&t.to;return xt(r)?e?e(r):null:r},Rd={__isTeleport:!0,process(t,e,r,n,s,i,a,o,l,u){const{mc:h,pc:f,pbc:p,o:{insert:v,querySelector:m,createText:y,createComment:b}}=u,E=On(e.props);let{shapeFlag:g,children:c,dynamicChildren:d}=e;if(t==null){const C=e.el=y(""),T=e.anchor=y("");v(C,r,n),v(T,r,n);const M=e.target=Ls(e.props,m),w=e.targetAnchor=y("");M&&(v(w,M),a=a||lo(M));const A=(P,F)=>{g&16&&h(c,P,F,s,i,a,o,l)};E?A(r,T):M&&A(M,w)}else{e.el=t.el;const C=e.anchor=t.anchor,T=e.target=t.target,M=e.targetAnchor=t.targetAnchor,w=On(t.props),A=w?r:T,P=w?C:M;if(a=a||lo(T),d?(p(t.dynamicChildren,d,A,s,i,a,o),wa(t,e,!0)):l||f(t,e,A,P,s,i,a,o,!1),E)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ci(e,r,C,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=Ls(e.props,m);F&&ci(e,F,null,u,0)}else w&&ci(e,T,M,u,1)}su(e)},remove(t,e,r,n,{um:s,o:{remove:i}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:h,target:f,props:p}=t;if(f&&i(h),a&&i(u),o&16){const v=a||!On(p);for(let m=0;m<l.length;m++){const y=l[m];s(y,e,r,v,!!y.dynamicChildren)}}},move:ci,hydrate:Od};function ci(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:h}=t,f=i===2;if(f&&n(a,e,r),(!f||On(h))&&l&16)for(let p=0;p<u.length;p++)s(u[p],e,r,2);f&&n(o,e,r)}function Od(t,e,r,n,s,i,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const h=e.target=Ls(e.props,l);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(On(e.props))e.anchor=u(a(t),e,o(t),r,n,s,i),e.targetAnchor=f;else{e.anchor=a(t);let p=f;for(;p;)if(p=a(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(f,e,h,r,n,s,i)}su(e)}return e.anchor&&a(e.anchor)}const Fd=Rd;function su(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Mt=Symbol.for("v-fgt"),nr=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),tr=Symbol.for("v-stc"),Fn=[];let Ht=null;function Fr(t=!1){Fn.push(Ht=t?null:[])}function au(){Fn.pop(),Ht=Fn[Fn.length-1]||null}let ir=1;function Is(t){ir+=t}function ou(t){return t.dynamicChildren=ir>0?Ht||dr:null,au(),ir>0&&Ht&&Ht.push(t),t}function Pa(t,e,r,n,s,i){return ou(Cr(t,e,r,n,s,i,!0))}function Ea(t,e,r,n,s){return ou(Ct(t,e,r,n,s,!0))}function Ue(t){return t?t.__v_isVNode===!0:!1}function ie(t,e){return t.type===e.type&&t.key===e.key}function Md(t){}const Wi="__vInternal",lu=({key:t})=>t??null,di=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||At(t)||ht(t)?{i:kt,r:t,k:e,f:!!r}:t:null);function Cr(t,e=null,r=null,n=0,s=null,i=t===Mt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lu(e),ref:e&&di(e),scopeId:Ui,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:kt};return o?(xa(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=xt(r)?8:16),ir>0&&!a&&Ht&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ht.push(l),l}const Ct=kd;function kd(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===Kc)&&(t=It),Ue(t)){const o=he(t,e,!0);return r&&xa(o,r),ir>0&&!i&&Ht&&(o.shapeFlag&6?Ht[Ht.indexOf(t)]=o:Ht.push(o)),o.patchFlag|=-2,o}if(Hd(t)&&(t=t.__vccOpts),e){e=cu(e);let{class:o,style:l}=e;o&&!xt(o)&&(e.class=zn(o)),St(l)&&(la(l)&&!at(l)&&(l=Et({},l)),e.style=Wn(l))}const a=xt(t)?1:Oc(t)?128:Ad(t)?64:St(t)?4:ht(t)?2:0;return Cr(t,e,r,n,s,a,i,!0)}function cu(t){return t?la(t)||Wi in t?Et({},t):t:null}function he(t,e,r=!1){const{props:n,ref:s,patchFlag:i,children:a}=t,o=e?uu(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&lu(o),ref:e&&e.ref?r&&s?at(s)?s.concat(di(e)):[s,di(e)]:di(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Mt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&he(t.ssContent),ssFallback:t.ssFallback&&he(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function zi(t=" ",e=0){return Ct(nr,null,t,e)}function Nd(t,e){const r=Ct(tr,null,t);return r.staticCount=e,r}function Dd(t="",e=!1){return e?(Fr(),Ea(It,null,t)):Ct(It,null,t)}function Yt(t){return t==null||typeof t=="boolean"?Ct(It):at(t)?Ct(Mt,null,t.slice()):typeof t=="object"?Re(t):Ct(nr,null,String(t))}function Re(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:he(t)}function xa(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(at(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),xa(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(Wi in e)?e._ctx=kt:s===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ht(e)?(e={default:e,_ctx:kt},r=32):(e=String(e),n&64?(r=16,e=[zi(e)]):r=8);t.children=e,t.shapeFlag|=r}function uu(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=zn([e.class,n.class]));else if(s==="style")e.style=Wn([e.style,n.style]);else if(jn(s)){const i=e[s],a=n[s];a&&i!==a&&!(at(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=n[s])}return e}function Vt(t,e,r,n=null){Qt(t,e,7,[r,n])}const Ld=Yc();let Id=0;function hu(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||Ld,i={uid:Id++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new na(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xc(n,s),emitsOptions:Rc(n,s),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:n.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Cf.bind(null,i),t.ce&&t.ce(i),i}let Ft=null;const Se=()=>Ft||kt;let Ta,lr,co="__VUE_INSTANCE_SETTERS__";(lr=xs()[co])||(lr=xs()[co]=[]),lr.push(t=>Ft=t),Ta=t=>{lr.length>1?lr.forEach(e=>e(t)):lr[0](t)};const Be=t=>{Ta(t),t.scope.on()},De=()=>{Ft&&Ft.scope.off(),Ta(null)};function fu(t){return t.vnode.shapeFlag&4}let Sr=!1;function du(t,e=!1){Sr=e;const{props:r,children:n}=t.vnode,s=fu(t);Cd(t,r,s,e),Pd(t,n);const i=s?Gd(t,e):void 0;return Sr=!1,i}function Gd(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=ca(new Proxy(t.ctx,Ms));const{setup:n}=r;if(n){const s=t.setupContext=n.length>1?pu(t):null;Be(t),Ar();const i=be(n,t,0,[t.props,s]);if(Rr(),De(),ea(i)){if(i.then(De,De),e)return i.then(a=>{Gs(t,a,e)}).catch(a=>{ar(a,t,0)});t.asyncDep=i}else Gs(t,i,e)}else gu(t,e)}function Gs(t,e,r){ht(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:St(e)&&(t.setupState=fa(e)),gu(t,r)}let wi,Us;function Ud(t){wi=t,Us=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Jf))}}const Bd=()=>!wi;function gu(t,e,r){const n=t.type;if(!t.render){if(!e&&wi&&!n.render){const s=n.template||Ca(t).template;if(s){const{isCustomElement:i,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Et(Et({isCustomElement:i,delimiters:o},a),l);n.render=wi(s,u)}}t.render=n.render||se,Us&&Us(t)}{Be(t),Ar();try{dd(t)}finally{Rr(),De()}}}function Vd(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return jt(t,"get","$attrs"),e[r]}}))}function pu(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Vd(t)},slots:t.slots,emit:t.emit,expose:e}}function $i(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(fa(ca(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in An)return An[r](t)},has(e,r){return r in e||r in An}}))}function Bs(t,e=!0){return ht(t)?t.displayName||t.name:t.name||e&&t.__name}function Hd(t){return ht(t)&&"__vccOpts"in t}const Zt=(t,e)=>gf(t,e,Sr);function Yi(t,e,r){const n=arguments.length;return n===2?St(e)&&!at(e)?Ue(e)?Ct(t,null,[e]):Ct(t,e):Ct(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ue(r)&&(r=[r]),Ct(t,e,r))}const vu=Symbol.for("v-scx"),mu=()=>ae(vu);function qd(){}function jd(t,e,r,n){const s=r[n];if(s&&_u(s,t))return s;const i=e();return i.memo=t.slice(),r[n]=i}function _u(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Le(r[n],e[n]))return!1;return ir>0&&Ht&&Ht.push(t),!0}const yu="3.3.7",Kd={createComponentInstance:hu,setupComponent:du,renderComponentRoot:fi,setCurrentRenderingInstance:Un,isVNode:Ue,normalizeVNode:Yt},Wd=Kd,zd=null,$d=null,Yd="http://www.w3.org/2000/svg",$e=typeof document<"u"?document:null,uo=$e&&$e.createElement("template"),Qd={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e?$e.createElementNS(Yd,t):$e.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>$e.createTextNode(t),createComment:t=>$e.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$e.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const a=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{uo.innerHTML=n?`<svg>${t}</svg>`:t;const o=uo.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Ee="transition",Mr="animation",wr=Symbol("_vtc"),Aa=(t,{slots:e})=>Yi(Nc,Cu(t),e);Aa.displayName="Transition";const bu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xd=Aa.props=Et({},ma,bu),je=(t,e=[])=>{at(t)?t.forEach(r=>r(...e)):t&&t(...e)},ho=t=>t?at(t)?t.some(e=>e.length>1):t.length>1:!1;function Cu(t){const e={};for(const D in t)D in bu||(e[D]=t[D]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:u=a,appearToClass:h=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:v=`${r}-leave-to`}=t,m=Jd(s),y=m&&m[0],b=m&&m[1],{onBeforeEnter:E,onEnter:g,onEnterCancelled:c,onLeave:d,onLeaveCancelled:C,onBeforeAppear:T=E,onAppear:M=g,onAppearCancelled:w=c}=e,A=(D,_,S)=>{Te(D,_?h:o),Te(D,_?u:a),S&&S()},P=(D,_)=>{D._isLeaving=!1,Te(D,f),Te(D,v),Te(D,p),_&&_()},F=D=>(_,S)=>{const x=D?M:g,R=()=>A(_,D,S);je(x,[_,R]),fo(()=>{Te(_,D?l:i),pe(_,D?h:o),ho(x)||go(_,n,y,R)})};return Et(e,{onBeforeEnter(D){je(E,[D]),pe(D,i),pe(D,a)},onBeforeAppear(D){je(T,[D]),pe(D,l),pe(D,u)},onEnter:F(!1),onAppear:F(!0),onLeave(D,_){D._isLeaving=!0;const S=()=>P(D,_);pe(D,f),wu(),pe(D,p),fo(()=>{D._isLeaving&&(Te(D,f),pe(D,v),ho(d)||go(D,n,b,S))}),je(d,[D,S])},onEnterCancelled(D){A(D,!1),je(c,[D])},onAppearCancelled(D){A(D,!0),je(w,[D])},onLeaveCancelled(D){P(D),je(C,[D])}})}function Jd(t){if(t==null)return null;if(St(t))return[us(t.enter),us(t.leave)];{const e=us(t);return[e,e]}}function us(t){return mi(t)}function pe(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[wr]||(t[wr]=new Set)).add(e)}function Te(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[wr];r&&(r.delete(e),r.size||(t[wr]=void 0))}function fo(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Zd=0;function go(t,e,r,n){const s=t._endId=++Zd,i=()=>{s===t._endId&&n()};if(r)return setTimeout(i,r);const{type:a,timeout:o,propCount:l}=Su(t,e);if(!a)return n();const u=a+"end";let h=0;const f=()=>{t.removeEventListener(u,p),i()},p=v=>{v.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},o+1),t.addEventListener(u,p)}function Su(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),s=n(`${Ee}Delay`),i=n(`${Ee}Duration`),a=po(s,i),o=n(`${Mr}Delay`),l=n(`${Mr}Duration`),u=po(o,l);let h=null,f=0,p=0;e===Ee?a>0&&(h=Ee,f=a,p=i.length):e===Mr?u>0&&(h=Mr,f=u,p=l.length):(f=Math.max(a,u),h=f>0?a>u?Ee:Mr:null,p=h?h===Ee?i.length:l.length:0);const v=h===Ee&&/\b(transform|all)(,|$)/.test(n(`${Ee}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:v}}function po(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>vo(r)+vo(t[n])))}function vo(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function wu(){return document.body.offsetHeight}function t0(t,e,r){const n=t[wr];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ra=Symbol("_vod"),Pu={beforeMount(t,{value:e},{transition:r}){t[Ra]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):kr(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),kr(t,!0),n.enter(t)):n.leave(t,()=>{kr(t,!1)}):kr(t,e))},beforeUnmount(t,{value:e}){kr(t,e)}};function kr(t,e){t.style.display=e?t[Ra]:"none"}function e0(){Pu.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function r0(t,e,r){const n=t.style,s=xt(r);if(r&&!s){if(e&&!xt(e))for(const i in e)r[i]==null&&Vs(n,i,"");for(const i in r)Vs(n,i,r[i])}else{const i=n.display;s?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),Ra in t&&(n.display=i)}}const mo=/\s*!important$/;function Vs(t,e,r){if(at(r))r.forEach(n=>Vs(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=n0(t,e);mo.test(r)?t.setProperty(Jt(n),r.replace(mo,""),"important"):t[n]=r}}const _o=["Webkit","Moz","ms"],hs={};function n0(t,e){const r=hs[e];if(r)return r;let n=qt(e);if(n!=="filter"&&n in t)return hs[e]=n;n=Kn(n);for(let s=0;s<_o.length;s++){const i=_o[s]+n;if(i in t)return hs[e]=i}return e}const yo="http://www.w3.org/1999/xlink";function i0(t,e,r,n,s){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(yo,e.slice(6,e.length)):t.setAttributeNS(yo,e,r);else{const i=Th(e);r==null||i&&!ac(r)?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}function s0(t,e,r,n,s,i,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,s,i),t[e]=r??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=r;const u=o==="OPTION"?t.getAttribute("value"):t.value,h=r??"";u!==h&&(t.value=h),r==null&&t.removeAttribute(e);return}let l=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=ac(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function me(t,e,r,n){t.addEventListener(e,r,n)}function a0(t,e,r,n){t.removeEventListener(e,r,n)}const bo=Symbol("_vei");function o0(t,e,r,n,s=null){const i=t[bo]||(t[bo]={}),a=i[e];if(n&&a)a.value=n;else{const[o,l]=l0(e);if(n){const u=i[e]=h0(n,s);me(t,o,u,l)}else a&&(a0(t,o,a,l),i[e]=void 0)}}const Co=/(?:Once|Passive|Capture)$/;function l0(t){let e;if(Co.test(t)){e={};let n;for(;n=t.match(Co);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Jt(t.slice(2)),e]}let fs=0;const c0=Promise.resolve(),u0=()=>fs||(c0.then(()=>fs=0),fs=Date.now());function h0(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Qt(f0(n,r.value),e,5,[n])};return r.value=t,r.attached=u0(),r}function f0(t,e){if(at(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const So=/^on[a-z]/,d0=(t,e,r,n,s=!1,i,a,o,l)=>{e==="class"?t0(t,n,s):e==="style"?r0(t,r,n):jn(e)?Zs(e)||o0(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):g0(t,e,n,s))?s0(t,e,n,i,a,o,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),i0(t,e,n,s))};function g0(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&So.test(e)&&ht(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||So.test(e)&&xt(r)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Eu(t,e){const r=Or(t);class n extends Qi{constructor(i){super(r,i,e)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const p0=t=>Eu(t,Lu),v0=typeof HTMLElement<"u"?HTMLElement:class{};class Qi extends v0{constructor(e,r={},n){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Li(()=>{this._connected||(js(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,s=!1)=>{const{props:i,styles:a}=n;let o;if(i&&!at(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=mi(this._props[l])),(o||(o=Object.create(null)))[qt(l)]=!0)}this._numberProps=o,s&&this._resolveProps(n),this._applyStyles(a),this._update()},r=this._def.__asyncLoader;r?r().then(n=>e(n,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,n=at(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of n.map(qt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i)}})}_setAttr(e){let r=this.getAttribute(e);const n=qt(e);this._numberProps&&this._numberProps[n]&&(r=mi(r)),this._setProp(n,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,s=!0){r!==this._props[e]&&(this._props[e]=r,s&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Jt(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Jt(e),r+""):r||this.removeAttribute(Jt(e))))}_update(){js(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Ct(this._def,Et({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const n=(i,a)=>{this.dispatchEvent(new CustomEvent(i,{detail:a}))};r.emit=(i,...a)=>{n(i,a),Jt(i)!==i&&n(Jt(i),a)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Qi){r.parent=s._instance,r.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function m0(t="$style"){{const e=Se();if(!e)return bt;const r=e.type.__cssModules;if(!r)return bt;const n=r[t];return n||bt}}function _0(t){const e=Se();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>qs(i,s))},n=()=>{const s=t(e.proxy);Hs(e.subTree,s),r(s)};Mc(n),Xn(()=>{const s=new MutationObserver(n);s.observe(e.subTree.el.parentNode,{childList:!0}),Ki(()=>s.disconnect())})}function Hs(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Hs(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)qs(t.el,e);else if(t.type===Mt)t.children.forEach(r=>Hs(r,e));else if(t.type===tr){let{el:r,anchor:n}=t;for(;r&&(qs(r,e),r!==n);)r=r.nextSibling}}function qs(t,e){if(t.nodeType===1){const r=t.style;for(const n in e)r.setProperty(`--${n}`,e[n])}}const xu=new WeakMap,Tu=new WeakMap,Pi=Symbol("_moveCb"),wo=Symbol("_enterCb"),Au={name:"TransitionGroup",props:Et({},Xd,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Se(),n=va();let s,i;return qi(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!P0(s[0].el,r.vnode.el,a))return;s.forEach(C0),s.forEach(S0);const o=s.filter(w0);wu(),o.forEach(l=>{const u=l.el,h=u.style;pe(u,a),h.transform=h.webkitTransform=h.transitionDuration="";const f=u[Pi]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",f),u[Pi]=null,Te(u,a))};u.addEventListener("transitionend",f)})}),()=>{const a=vt(t),o=Cu(a);let l=a.tag||Mt;s=i,i=e.default?Vi(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&rr(h,br(h,o,n,r))}if(s)for(let u=0;u<s.length;u++){const h=s[u];rr(h,br(h,o,n,r)),xu.set(h,h.el.getBoundingClientRect())}return Ct(l,null,i)}}},y0=t=>delete t.mode;Au.props;const b0=Au;function C0(t){const e=t.el;e[Pi]&&e[Pi](),e[wo]&&e[wo]()}function S0(t){Tu.set(t,t.el.getBoundingClientRect())}function w0(t){const e=xu.get(t),r=Tu.get(t),n=e.left-r.left,s=e.top-r.top;if(n||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",t}}function P0(t,e,r){const n=t.cloneNode(),s=t[wr];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:a}=Su(n);return i.removeChild(n),a}const Ve=t=>{const e=t.props["onUpdate:modelValue"]||!1;return at(e)?r=>pr(e,r):e};function E0(t){t.target.composing=!0}function Po(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const te=Symbol("_assign"),Ei={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[te]=Ve(s);const i=n||s.props&&s.props.type==="number";me(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),i&&(o=vi(o)),t[te](o)}),r&&me(t,"change",()=>{t.value=t.value.trim()}),e||(me(t,"compositionstart",E0),me(t,"compositionend",Po),me(t,"change",Po))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:s}},i){if(t[te]=Ve(i),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(s||t.type==="number")&&vi(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},Oa={deep:!0,created(t,e,r){t[te]=Ve(r),me(t,"change",()=>{const n=t._modelValue,s=Pr(t),i=t.checked,a=t[te];if(at(n)){const o=Fi(n,s),l=o!==-1;if(i&&!l)a(n.concat(s));else if(!i&&l){const u=[...n];u.splice(o,1),a(u)}}else if(sr(n)){const o=new Set(n);i?o.add(s):o.delete(s),a(o)}else a(Ou(t,i))})},mounted:Eo,beforeUpdate(t,e,r){t[te]=Ve(r),Eo(t,e,r)}};function Eo(t,{value:e,oldValue:r},n){t._modelValue=e,at(e)?t.checked=Fi(e,n.props.value)>-1:sr(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=Ie(e,Ou(t,!0)))}const Fa={created(t,{value:e},r){t.checked=Ie(e,r.props.value),t[te]=Ve(r),me(t,"change",()=>{t[te](Pr(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[te]=Ve(n),e!==r&&(t.checked=Ie(e,n.props.value))}},Ru={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=sr(e);me(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?vi(Pr(a)):Pr(a));t[te](t.multiple?s?new Set(i):i:i[0])}),t[te]=Ve(n)},mounted(t,{value:e}){xo(t,e)},beforeUpdate(t,e,r){t[te]=Ve(r)},updated(t,{value:e}){xo(t,e)}};function xo(t,e){const r=t.multiple;if(!(r&&!at(e)&&!sr(e))){for(let n=0,s=t.options.length;n<s;n++){const i=t.options[n],a=Pr(i);if(r)at(e)?i.selected=Fi(e,a)>-1:i.selected=e.has(a);else if(Ie(Pr(i),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Pr(t){return"_value"in t?t._value:t.value}function Ou(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Fu={created(t,e,r){ui(t,e,r,null,"created")},mounted(t,e,r){ui(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){ui(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){ui(t,e,r,n,"updated")}};function Mu(t,e){switch(t){case"SELECT":return Ru;case"TEXTAREA":return Ei;default:switch(e){case"checkbox":return Oa;case"radio":return Fa;default:return Ei}}}function ui(t,e,r,n,s){const a=Mu(t.tagName,r.props&&r.props.type)[s];a&&a(t,e,r,n)}function x0(){Ei.getSSRProps=({value:t})=>({value:t}),Fa.getSSRProps=({value:t},e)=>{if(e.props&&Ie(e.props.value,t))return{checked:!0}},Oa.getSSRProps=({value:t},e)=>{if(at(t)){if(e.props&&Fi(t,e.props.value)>-1)return{checked:!0}}else if(sr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Fu.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Mu(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const T0=["ctrl","shift","alt","meta"],A0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>T0.some(r=>t[`${r}Key`]&&!e.includes(r))},R0=(t,e)=>(r,...n)=>{for(let s=0;s<e.length;s++){const i=A0[e[s]];if(i&&i(r,e))return}return t(r,...n)},O0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},F0=(t,e)=>r=>{if(!("key"in r))return;const n=Jt(r.key);if(e.some(s=>s===n||O0[s]===n))return t(r)},ku=Et({patchProp:d0},Qd);let Mn,To=!1;function Nu(){return Mn||(Mn=eu(ku))}function Du(){return Mn=To?Mn:ru(ku),To=!0,Mn}const js=(...t)=>{Nu().render(...t)},Lu=(...t)=>{Du().hydrate(...t)},Iu=(...t)=>{const e=Nu().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Gu(n);if(!s)return;const i=e._component;!ht(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const a=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e},M0=(...t)=>{const e=Du().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Gu(n);if(s)return r(s,!0,s instanceof SVGElement)},e};function Gu(t){return xt(t)?document.querySelector(t):t}let Ao=!1;const k0=()=>{Ao||(Ao=!0,x0(),e0())},N0=()=>{},D0=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Nc,BaseTransitionPropsValidators:ma,Comment:It,EffectScope:na,Fragment:Mt,KeepAlive:qf,ReactiveEffect:yr,Static:tr,Suspense:Of,Teleport:Fd,Text:nr,Transition:Aa,TransitionGroup:b0,VueElement:Qi,assertNumber:vf,callWithAsyncErrorHandling:Qt,callWithErrorHandling:be,camelize:qt,capitalize:Kn,cloneVNode:he,compatUtils:$d,compile:N0,computed:Zt,createApp:Iu,createBlock:Ea,createCommentVNode:Dd,createElementBlock:Pa,createElementVNode:Cr,createHydrationRenderer:ru,createPropsRestProxy:hd,createRenderer:eu,createSSRApp:M0,createSlots:Yf,createStaticVNode:Nd,createTextVNode:zi,createVNode:Ct,customRef:lf,defineAsyncComponent:Vf,defineComponent:Or,defineCustomElement:Eu,defineEmits:td,defineExpose:ed,defineModel:id,defineOptions:rd,defineProps:Zf,defineSSRCustomElement:p0,defineSlots:nd,get devtools(){return ur},effect:Nh,effectScope:Oh,getCurrentInstance:Se,getCurrentScope:cc,getTransitionRawChildren:Vi,guardReactiveProps:cu,h:Yi,handleError:ar,hasInjectionContext:bd,hydrate:Lu,initCustomFormatter:qd,initDirectivesForSSR:k0,inject:ae,isMemoSame:_u,isProxy:la,isReactive:Je,isReadonly:er,isRef:At,isRuntimeOnly:Bd,isShallow:Dn,isVNode:Ue,markRaw:ca,mergeDefaults:cd,mergeModels:ud,mergeProps:uu,nextTick:Li,normalizeClass:zn,normalizeProps:Eh,normalizeStyle:Wn,onActivated:Lc,onBeforeMount:Uc,onBeforeUnmount:ji,onBeforeUpdate:Bc,onDeactivated:Ic,onErrorCaptured:jc,onMounted:Xn,onRenderTracked:qc,onRenderTriggered:Hc,onScopeDispose:Fh,onServerPrefetch:Vc,onUnmounted:Ki,onUpdated:qi,openBlock:Fr,popScopeId:wf,provide:Rn,proxyRefs:fa,pushScopeId:Sf,queuePostFlushCb:yi,reactive:$n,readonly:oa,ref:ke,registerRuntimeCompiler:Ud,render:js,renderList:$f,renderSlot:Qf,resolveComponent:ya,resolveDirective:zf,resolveDynamicComponent:Wf,resolveFilter:zd,resolveTransitionHooks:br,setBlockTracking:Is,setDevtoolsHook:Ac,setTransitionHooks:rr,shallowReactive:aa,shallowReadonly:ef,shallowRef:Sc,ssrContextKey:vu,ssrUtils:Wd,stop:Dh,toDisplayString:Rh,toHandlerKey:Tn,toHandlers:Xf,toRaw:vt,toRef:ff,toRefs:cf,toValue:sf,transformVNodeArgs:Md,triggerRef:nf,unref:ye,useAttrs:od,useCssModule:m0,useCssVars:_0,useModel:ld,useSSRContext:mu,useSlots:ad,useTransitionState:va,vModelCheckbox:Oa,vModelDynamic:Fu,vModelRadio:Fa,vModelSelect:Ru,vModelText:Ei,vShow:Pu,version:yu,warn:pf,watch:Ne,watchEffect:Lf,watchPostEffect:Mc,watchSyncEffect:If,withAsyncContext:fd,withCtx:Bi,withDefaults:sd,withDirectives:Uf,withKeys:F0,withMemo:jd,withModifiers:R0,withScopeId:Pf},Symbol.toStringTag,{value:"Module"}));const L0=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},I0={},G0={class:"bg-white/80 border-b-2 backdrop-blur"},U0={class:"max-w-screen-xl px-4 py-2 mx-auto"},B0={class:"text-2xl font-bold text-primary"};function V0(t,e){const r=ya("RouterLink");return Fr(),Pa("header",G0,[Cr("nav",U0,[Cr("h1",B0,[Ct(r,{to:"/"},{default:Bi(()=>[zi(" Федоров Е.В, Lab #4, 7878 ")]),_:1})])])])}const H0=L0(I0,[["render",V0]]),q0=Or({__name:"App",setup(t){return(e,r)=>{const n=ya("RouterView");return Fr(),Pa(Mt,null,[Ct(H0),Cr("main",null,[Ct(n)])],64)}}}),j0="modulepreload",K0=function(t){return"http://localhost:8080/"+t},Ro={},cr=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=K0(i),i in Ro)return;Ro[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===i&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":j0,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Oo=[{path:"/",name:"/",component:()=>cr(()=>import("./index-298d7810.js"),["assets/index-298d7810.js","assets/api-f187c826.js","assets/createLucideIcon-97e7f368.js","assets/Button.vue_vue_type_script_setup_true_lang-0db4ac5a.js"])},{path:"/main",name:"/main",component:()=>cr(()=>import("./main-b46815b9.js"),["assets/main-b46815b9.js","assets/Label.vue_vue_type_script_setup_true_lang-8bff7503.js","assets/Button.vue_vue_type_script_setup_true_lang-0db4ac5a.js","assets/api-f187c826.js","assets/useMutation-a9edc2b0.js","assets/createLucideIcon-97e7f368.js","assets/main-044f19b4.css"])},{path:"/oauth",children:[{path:"google",name:"/oauth/google",component:()=>cr(()=>import("./google-bed9a20e.js"),["assets/google-bed9a20e.js","assets/api-f187c826.js","assets/useMutation-a9edc2b0.js"])},{path:"vk",name:"/oauth/vk",component:()=>cr(()=>import("./vk-19e1a26f.js"),["assets/vk-19e1a26f.js","assets/api-f187c826.js","assets/useMutation-a9edc2b0.js"])}]},{path:"/signin",name:"/signin",component:()=>cr(()=>import("./signin-2a6b9151.js"),["assets/signin-2a6b9151.js","assets/Label.vue_vue_type_script_setup_true_lang-8bff7503.js","assets/Button.vue_vue_type_script_setup_true_lang-0db4ac5a.js","assets/api-f187c826.js","assets/useMutation-a9edc2b0.js","assets/signin-075cd081.css"])},{path:"/signup",name:"/signup",component:()=>cr(()=>import("./signup-122a053c.js"),["assets/signup-122a053c.js","assets/Label.vue_vue_type_script_setup_true_lang-8bff7503.js","assets/Button.vue_vue_type_script_setup_true_lang-0db4ac5a.js","assets/api-f187c826.js","assets/useMutation-a9edc2b0.js","assets/signup-b854bf28.css"])}];/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hr=typeof window<"u";function W0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const yt=Object.assign;function ds(t,e){const r={};for(const n in e){const s=e[n];r[n]=oe(s)?s.map(t):t(s)}return r}const kn=()=>{},oe=Array.isArray,z0=/\/$/,$0=t=>t.replace(z0,"");function gs(t,e,r="/"){let n,s={},i="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,o>-1?o:e.length),s=t(i)),o>-1&&(n=n||e.slice(0,o),a=e.slice(o,e.length)),n=J0(n??e,r),{fullPath:n+(i&&"?")+i+a,path:n,query:s,hash:a}}function Y0(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Fo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Q0(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Er(e.matched[n],r.matched[s])&&Uu(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Er(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Uu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!X0(t[r],e[r]))return!1;return!0}function X0(t,e){return oe(t)?Mo(t,e):oe(e)?Mo(e,t):t===e}function Mo(t,e){return oe(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function J0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,a,o;for(a=0;a<n.length;a++)if(o=n[a],o!==".")if(o==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(a-(a===n.length?1:0)).join("/")}var qn;(function(t){t.pop="pop",t.push="push"})(qn||(qn={}));var Nn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Nn||(Nn={}));function Z0(t){if(!t)if(hr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$0(t)}const t1=/^[^#]+#/;function e1(t,e){return t.replace(t1,"#")+e}function r1(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Xi=()=>({left:window.pageXOffset,top:window.pageYOffset});function n1(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=r1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ko(t,e){return(history.state?history.state.position-e:-1)+t}const Ks=new Map;function i1(t,e){Ks.set(t,e)}function s1(t){const e=Ks.get(t);return Ks.delete(t),e}let a1=()=>location.protocol+"//"+location.host;function Bu(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),Fo(l,"")}return Fo(r,t)+n+s}function o1(t,e,r,n){let s=[],i=[],a=null;const o=({state:p})=>{const v=Bu(t,location),m=r.value,y=e.value;let b=0;if(p){if(r.value=v,e.value=p,a&&a===m){a=null;return}b=y?p.position-y.position:0}else n(v);s.forEach(E=>{E(r.value,m,{delta:b,type:qn.pop,direction:b?b>0?Nn.forward:Nn.back:Nn.unknown})})};function l(){a=r.value}function u(p){s.push(p);const v=()=>{const m=s.indexOf(p);m>-1&&s.splice(m,1)};return i.push(v),v}function h(){const{history:p}=window;p.state&&p.replaceState(yt({},p.state,{scroll:Xi()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function No(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?Xi():null}}function l1(t){const{history:e,location:r}=window,n={value:Bu(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const f=t.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:a1()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(v){console.error(v),r[h?"replace":"assign"](p)}}function a(l,u){const h=yt({},e.state,No(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),n.value=l}function o(l,u){const h=yt({},s.value,e.state,{forward:l,scroll:Xi()});i(h.current,h,!0);const f=yt({},No(n.value,l,null),{position:h.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:s,push:o,replace:a}}function c1(t){t=Z0(t);const e=l1(t),r=o1(t,e.state,e.location,e.replace);function n(i,a=!0){a||r.pauseListeners(),history.go(i)}const s=yt({location:"",base:t,go:n,createHref:e1.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function u1(t){return typeof t=="string"||t&&typeof t=="object"}function Vu(t){return typeof t=="string"||typeof t=="symbol"}const xe={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hu=Symbol("");var Do;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Do||(Do={}));function xr(t,e){return yt(new Error,{type:t,[Hu]:!0},e)}function fe(t,e){return t instanceof Error&&Hu in t&&(e==null||!!(t.type&e))}const Lo="[^/]+?",h1={sensitive:!1,strict:!1,start:!0,end:!0},f1=/[.+*?^${}()[\]/\\]/g;function d1(t,e){const r=yt({},h1,e),n=[];let s=r.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];r.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let v=40+(r.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(f1,"\\$&"),v+=40;else if(p.type===1){const{value:m,repeatable:y,optional:b,regexp:E}=p;i.push({name:m,repeatable:y,optional:b});const g=E||Lo;if(g!==Lo){v+=10;try{new RegExp(`(${g})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${m}" (${g}): `+d.message)}}let c=y?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;f||(c=b&&u.length<2?`(?:/${c})`:"/"+c),b&&(c+="?"),s+=c,v+=20,b&&(v+=-8),y&&(v+=-20),g===".*"&&(v+=-50)}h.push(v)}n.push(h)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const a=new RegExp(s,r.sensitive?"":"i");function o(u){const h=u.match(a),f={};if(!h)return null;for(let p=1;p<h.length;p++){const v=h[p]||"",m=i[p-1];f[m.name]=v&&m.repeatable?v.split("/"):v}return f}function l(u){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const v of p)if(v.type===0)h+=v.value;else if(v.type===1){const{value:m,repeatable:y,optional:b}=v,E=m in u?u[m]:"";if(oe(E)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const g=oe(E)?E.join("/"):E;if(!g)if(b)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);h+=g}}return h||"/"}return{re:a,score:n,keys:i,parse:o,stringify:l}}function g1(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function p1(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=g1(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(Io(n))return 1;if(Io(s))return-1}return s.length-n.length}function Io(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const v1={type:0,value:""},m1=/[a-zA-Z0-9_]/;function _1(t){if(!t)return[[]];if(t==="/")return[[v1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${r})/"${u}": ${v}`)}let r=0,n=r;const s=[];let i;function a(){i&&s.push(i),i=[]}let o=0,l,u="",h="";function f(){u&&(r===0?i.push({type:0,value:u}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),a()):l===":"?(f(),r=1):p();break;case 4:p(),r=n;break;case 1:l==="("?r=2:m1.test(l)?p():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=3:h+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),a(),s}function y1(t,e,r){const n=d1(_1(t.path),r),s=yt(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function b1(t,e){const r=[],n=new Map;e=Bo({strict:!1,end:!0,sensitive:!1},e);function s(h){return n.get(h)}function i(h,f,p){const v=!p,m=C1(h);m.aliasOf=p&&p.record;const y=Bo(e,h),b=[m];if("alias"in h){const c=typeof h.alias=="string"?[h.alias]:h.alias;for(const d of c)b.push(yt({},m,{components:p?p.record.components:m.components,path:d,aliasOf:p?p.record:m}))}let E,g;for(const c of b){const{path:d}=c;if(f&&d[0]!=="/"){const C=f.record.path,T=C[C.length-1]==="/"?"":"/";c.path=f.record.path+(d&&T+d)}if(E=y1(c,f,y),p?p.alias.push(E):(g=g||E,g!==E&&g.alias.push(E),v&&h.name&&!Uo(E)&&a(h.name)),m.children){const C=m.children;for(let T=0;T<C.length;T++)i(C[T],E,p&&p.children[T])}p=p||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&l(E)}return g?()=>{a(g)}:kn}function a(h){if(Vu(h)){const f=n.get(h);f&&(n.delete(h),r.splice(r.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=r.indexOf(h);f>-1&&(r.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function o(){return r}function l(h){let f=0;for(;f<r.length&&p1(h,r[f])>=0&&(h.record.path!==r[f].record.path||!qu(h,r[f]));)f++;r.splice(f,0,h),h.record.name&&!Uo(h)&&n.set(h.record.name,h)}function u(h,f){let p,v={},m,y;if("name"in h&&h.name){if(p=n.get(h.name),!p)throw xr(1,{location:h});y=p.record.name,v=yt(Go(f.params,p.keys.filter(g=>!g.optional).map(g=>g.name)),h.params&&Go(h.params,p.keys.map(g=>g.name))),m=p.stringify(v)}else if("path"in h)m=h.path,p=r.find(g=>g.re.test(m)),p&&(v=p.parse(m),y=p.record.name);else{if(p=f.name?n.get(f.name):r.find(g=>g.re.test(f.path)),!p)throw xr(1,{location:h,currentLocation:f});y=p.record.name,v=yt({},f.params,h.params),m=p.stringify(v)}const b=[];let E=p;for(;E;)b.unshift(E.record),E=E.parent;return{name:y,path:m,params:v,matched:b,meta:w1(b)}}return t.forEach(h=>i(h)),{addRoute:i,resolve:u,removeRoute:a,getRoutes:o,getRecordMatcher:s}}function Go(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function C1(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:S1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function S1(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Uo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function w1(t){return t.reduce((e,r)=>yt(e,r.meta),{})}function Bo(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function qu(t,e){return e.children.some(r=>r===t||qu(t,r))}const ju=/#/g,P1=/&/g,E1=/\//g,x1=/=/g,T1=/\?/g,Ku=/\+/g,A1=/%5B/g,R1=/%5D/g,Wu=/%5E/g,O1=/%60/g,zu=/%7B/g,F1=/%7C/g,$u=/%7D/g,M1=/%20/g;function Ma(t){return encodeURI(""+t).replace(F1,"|").replace(A1,"[").replace(R1,"]")}function k1(t){return Ma(t).replace(zu,"{").replace($u,"}").replace(Wu,"^")}function Ws(t){return Ma(t).replace(Ku,"%2B").replace(M1,"+").replace(ju,"%23").replace(P1,"%26").replace(O1,"`").replace(zu,"{").replace($u,"}").replace(Wu,"^")}function N1(t){return Ws(t).replace(x1,"%3D")}function D1(t){return Ma(t).replace(ju,"%23").replace(T1,"%3F")}function L1(t){return t==null?"":D1(t).replace(E1,"%2F")}function xi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function I1(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Ku," "),a=i.indexOf("="),o=xi(a<0?i:i.slice(0,a)),l=a<0?null:xi(i.slice(a+1));if(o in e){let u=e[o];oe(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function Vo(t){let e="";for(let r in t){const n=t[r];if(r=N1(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(oe(n)?n.map(i=>i&&Ws(i)):[n&&Ws(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function G1(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=oe(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const U1=Symbol(""),Ho=Symbol(""),Ji=Symbol(""),Yu=Symbol(""),zs=Symbol("");function Nr(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Oe(t,e,r,n,s){const i=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,o)=>{const l=f=>{f===!1?o(xr(4,{from:r,to:e})):f instanceof Error?o(f):u1(f)?o(xr(2,{from:e,to:f})):(i&&n.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),a())},u=t.call(n&&n.instances[s],e,r,l);let h=Promise.resolve(u);t.length<3&&(h=h.then(l)),h.catch(f=>o(f))})}function ps(t,e,r,n){const s=[];for(const i of t)for(const a in i.components){let o=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(B1(o)){const u=(o.__vccOpts||o)[e];u&&s.push(Oe(u,r,n,i,a))}else{let l=o();s.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const h=W0(u)?u.default:u;i.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Oe(p,r,n,i,a)()}))}}return s}function B1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qo(t){const e=ae(Ji),r=ae(Yu),n=Zt(()=>e.resolve(ye(t.to))),s=Zt(()=>{const{matched:l}=n.value,{length:u}=l,h=l[u-1],f=r.matched;if(!h||!f.length)return-1;const p=f.findIndex(Er.bind(null,h));if(p>-1)return p;const v=jo(l[u-2]);return u>1&&jo(h)===v&&f[f.length-1].path!==v?f.findIndex(Er.bind(null,l[u-2])):p}),i=Zt(()=>s.value>-1&&j1(r.params,n.value.params)),a=Zt(()=>s.value>-1&&s.value===r.matched.length-1&&Uu(r.params,n.value.params));function o(l={}){return q1(l)?e[ye(t.replace)?"replace":"push"](ye(t.to)).catch(kn):Promise.resolve()}return{route:n,href:Zt(()=>n.value.href),isActive:i,isExactActive:a,navigate:o}}const V1=Or({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qo,setup(t,{slots:e}){const r=$n(qo(t)),{options:n}=ae(Ji),s=Zt(()=>({[Ko(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Ko(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&e.default(r);return t.custom?i:Yi("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),H1=V1;function q1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function j1(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!oe(s)||s.length!==n.length||n.some((i,a)=>i!==s[a]))return!1}return!0}function jo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ko=(t,e,r)=>t??e??r,K1=Or({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=ae(zs),s=Zt(()=>t.route||n.value),i=ae(Ho,0),a=Zt(()=>{let u=ye(i);const{matched:h}=s.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),o=Zt(()=>s.value.matched[a.value]);Rn(Ho,Zt(()=>a.value+1)),Rn(U1,o),Rn(zs,s);const l=ke();return Ne(()=>[l.value,o.value,t.name],([u,h,f],[p,v,m])=>{h&&(h.instances[f]=u,v&&v!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=v.leaveGuards),h.updateGuards.size||(h.updateGuards=v.updateGuards))),u&&h&&(!v||!Er(h,v)||!p)&&(h.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,f=o.value,p=f&&f.components[h];if(!p)return Wo(r.default,{Component:p,route:u});const v=f.props[h],m=v?v===!0?u.params:typeof v=="function"?v(u):v:null,b=Yi(p,yt({},m,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Wo(r.default,{Component:b,route:u})||b}}});function Wo(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const W1=K1;function z1(t){const e=b1(t.routes,t),r=t.parseQuery||I1,n=t.stringifyQuery||Vo,s=t.history,i=Nr(),a=Nr(),o=Nr(),l=Sc(xe);let u=xe;hr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ds.bind(null,O=>""+O),f=ds.bind(null,L1),p=ds.bind(null,xi);function v(O,G){let V,Y;return Vu(O)?(V=e.getRecordMatcher(O),Y=G):Y=O,e.addRoute(Y,V)}function m(O){const G=e.getRecordMatcher(O);G&&e.removeRoute(G)}function y(){return e.getRoutes().map(O=>O.record)}function b(O){return!!e.getRecordMatcher(O)}function E(O,G){if(G=yt({},G||l.value),typeof O=="string"){const B=gs(r,O,G.path),q=e.resolve({path:B.path},G),W=s.createHref(B.fullPath);return yt(B,q,{params:p(q.params),hash:xi(B.hash),redirectedFrom:void 0,href:W})}let V;if("path"in O)V=yt({},O,{path:gs(r,O.path,G.path).path});else{const B=yt({},O.params);for(const q in B)B[q]==null&&delete B[q];V=yt({},O,{params:f(B)}),G.params=f(G.params)}const Y=e.resolve(V,G),et=O.hash||"";Y.params=h(p(Y.params));const k=Y0(n,yt({},O,{hash:k1(et),path:Y.path})),L=s.createHref(k);return yt({fullPath:k,hash:et,query:n===Vo?G1(O.query):O.query||{}},Y,{redirectedFrom:void 0,href:L})}function g(O){return typeof O=="string"?gs(r,O,l.value.path):yt({},O)}function c(O,G){if(u!==O)return xr(8,{from:G,to:O})}function d(O){return M(O)}function C(O){return d(yt(g(O),{replace:!0}))}function T(O){const G=O.matched[O.matched.length-1];if(G&&G.redirect){const{redirect:V}=G;let Y=typeof V=="function"?V(O):V;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=g(Y):{path:Y},Y.params={}),yt({query:O.query,hash:O.hash,params:"path"in Y?{}:O.params},Y)}}function M(O,G){const V=u=E(O),Y=l.value,et=O.state,k=O.force,L=O.replace===!0,B=T(V);if(B)return M(yt(g(B),{state:typeof B=="object"?yt({},et,B.state):et,force:k,replace:L}),G||V);const q=V;q.redirectedFrom=G;let W;return!k&&Q0(n,Y,V)&&(W=xr(16,{to:q,from:Y}),Q(Y,Y,!0,!1)),(W?Promise.resolve(W):P(q,Y)).catch($=>fe($)?fe($,2)?$:j($):I($,q,Y)).then($=>{if($){if(fe($,2))return M(yt({replace:L},g($.to),{state:typeof $.to=="object"?yt({},et,$.to.state):et,force:k}),G||q)}else $=D(q,Y,!0,L,et);return F(q,Y,$),$})}function w(O,G){const V=c(O,G);return V?Promise.reject(V):Promise.resolve()}function A(O){const G=J.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(O):O()}function P(O,G){let V;const[Y,et,k]=$1(O,G);V=ps(Y.reverse(),"beforeRouteLeave",O,G);for(const B of Y)B.leaveGuards.forEach(q=>{V.push(Oe(q,O,G))});const L=w.bind(null,O,G);return V.push(L),nt(V).then(()=>{V=[];for(const B of i.list())V.push(Oe(B,O,G));return V.push(L),nt(V)}).then(()=>{V=ps(et,"beforeRouteUpdate",O,G);for(const B of et)B.updateGuards.forEach(q=>{V.push(Oe(q,O,G))});return V.push(L),nt(V)}).then(()=>{V=[];for(const B of k)if(B.beforeEnter)if(oe(B.beforeEnter))for(const q of B.beforeEnter)V.push(Oe(q,O,G));else V.push(Oe(B.beforeEnter,O,G));return V.push(L),nt(V)}).then(()=>(O.matched.forEach(B=>B.enterCallbacks={}),V=ps(k,"beforeRouteEnter",O,G),V.push(L),nt(V))).then(()=>{V=[];for(const B of a.list())V.push(Oe(B,O,G));return V.push(L),nt(V)}).catch(B=>fe(B,8)?B:Promise.reject(B))}function F(O,G,V){o.list().forEach(Y=>A(()=>Y(O,G,V)))}function D(O,G,V,Y,et){const k=c(O,G);if(k)return k;const L=G===xe,B=hr?history.state:{};V&&(Y||L?s.replace(O.fullPath,yt({scroll:L&&B&&B.scroll},et)):s.push(O.fullPath,et)),l.value=O,Q(O,G,V,L),j()}let _;function S(){_||(_=s.listen((O,G,V)=>{if(!rt.listening)return;const Y=E(O),et=T(Y);if(et){M(yt(et,{replace:!0}),Y).catch(kn);return}u=Y;const k=l.value;hr&&i1(ko(k.fullPath,V.delta),Xi()),P(Y,k).catch(L=>fe(L,12)?L:fe(L,2)?(M(L.to,Y).then(B=>{fe(B,20)&&!V.delta&&V.type===qn.pop&&s.go(-1,!1)}).catch(kn),Promise.reject()):(V.delta&&s.go(-V.delta,!1),I(L,Y,k))).then(L=>{L=L||D(Y,k,!1),L&&(V.delta&&!fe(L,8)?s.go(-V.delta,!1):V.type===qn.pop&&fe(L,20)&&s.go(-1,!1)),F(Y,k,L)}).catch(kn)}))}let x=Nr(),R=Nr(),N;function I(O,G,V){j(O);const Y=R.list();return Y.length?Y.forEach(et=>et(O,G,V)):console.error(O),Promise.reject(O)}function U(){return N&&l.value!==xe?Promise.resolve():new Promise((O,G)=>{x.add([O,G])})}function j(O){return N||(N=!O,S(),x.list().forEach(([G,V])=>O?V(O):G()),x.reset()),O}function Q(O,G,V,Y){const{scrollBehavior:et}=t;if(!hr||!et)return Promise.resolve();const k=!V&&s1(ko(O.fullPath,0))||(Y||!V)&&history.state&&history.state.scroll||null;return Li().then(()=>et(O,G,k)).then(L=>L&&n1(L)).catch(L=>I(L,O,G))}const H=O=>s.go(O);let K;const J=new Set,rt={currentRoute:l,listening:!0,addRoute:v,removeRoute:m,hasRoute:b,getRoutes:y,resolve:E,options:t,push:d,replace:C,go:H,back:()=>H(-1),forward:()=>H(1),beforeEach:i.add,beforeResolve:a.add,afterEach:o.add,onError:R.add,isReady:U,install(O){const G=this;O.component("RouterLink",H1),O.component("RouterView",W1),O.config.globalProperties.$router=G,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(l)}),hr&&!K&&l.value===xe&&(K=!0,d(s.location).catch(et=>{}));const V={};for(const et in xe)Object.defineProperty(V,et,{get:()=>l.value[et],enumerable:!0});O.provide(Ji,G),O.provide(Yu,aa(V)),O.provide(zs,l);const Y=O.unmount;J.add(O),O.unmount=function(){J.delete(O),J.size<1&&(u=xe,_&&_(),_=null,l.value=xe,K=!1,N=!1),Y()}}};function nt(O){return O.reduce((G,V)=>G.then(()=>A(V)),Promise.resolve())}return rt}function $1(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const o=e.matched[a];o&&(t.matched.find(u=>Er(u,o))?n.push(o):r.push(o));const l=t.matched[a];l&&(e.matched.find(u=>Er(u,l))||s.push(l))}return[r,n,s]}function u2(){return ae(Ji)}function Y1(t){const{extendRoutes:e}=t;return z1(Object.assign(t,{routes:typeof e=="function"?e(Oo):Oo}))}class Zi{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ts=typeof window>"u"||"Deno"in window;function re(){}function Q1(t,e){return typeof t=="function"?t(e):t}function X1(t){return typeof t=="number"&&t>=0&&t!==1/0}function J1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hi(t,e,r){return es(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Fe(t,e,r){return es(t)?[{...e,queryKey:t},r]:[t||{},e]}function zo(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(es(a)){if(n){if(e.queryHash!==ka(a,e.options))return!1}else if(!Ti(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function $o(t,e){const{exact:r,fetching:n,predicate:s,mutationKey:i}=t;if(es(i)){if(!e.options.mutationKey)return!1;if(r){if(Qe(e.options.mutationKey)!==Qe(i))return!1}else if(!Ti(e.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||s&&!s(e))}function ka(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qe)(t)}function Qe(t){return JSON.stringify(t,(e,r)=>$s(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ti(t,e){return Qu(t,e)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Qu(t[r],e[r])):!1}function Xu(t,e){if(t===e)return t;const r=Yo(t)&&Yo(e);if(r||$s(t)&&$s(e)){const n=r?t.length:Object.keys(t).length,s=r?e:Object.keys(e),i=s.length,a=r?[]:{};let o=0;for(let l=0;l<i;l++){const u=r?l:s[l];a[u]=Xu(t[u],e[u]),a[u]===t[u]&&o++}return n===i&&o===n?t:a}return e}function h2(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Yo(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $s(t){if(!Qo(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Qo(r)||!r.hasOwnProperty("isPrototypeOf"))}function Qo(t){return Object.prototype.toString.call(t)==="[object Object]"}function es(t){return Array.isArray(t)}function Ju(t){return new Promise(e=>{setTimeout(e,t)})}function Xo(t){Ju(0).then(t)}function Z1(){if(typeof AbortController=="function")return new AbortController}function tg(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Xu(t,e):e}class eg extends Zi{constructor(){super(),this.setup=e=>{if(!ts&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Ys=new eg,Jo=["online","offline"];class rg extends Zi{constructor(){super(),this.setup=e=>{if(!ts&&window.addEventListener){const r=()=>e();return Jo.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{Jo.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Ai=new rg;function ng(t){return Math.min(1e3*2**t,3e4)}function Na(t){return(t??"online")==="online"?Ai.isOnline():!0}class Zu{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function vs(t){return t instanceof Zu}function th(t){let e=!1,r=0,n=!1,s,i,a;const o=new Promise((b,E)=>{i=b,a=E}),l=b=>{n||(v(new Zu(b)),t.abort==null||t.abort())},u=()=>{e=!0},h=()=>{e=!1},f=()=>!Ys.isFocused()||t.networkMode!=="always"&&!Ai.isOnline(),p=b=>{n||(n=!0,t.onSuccess==null||t.onSuccess(b),s==null||s(),i(b))},v=b=>{n||(n=!0,t.onError==null||t.onError(b),s==null||s(),a(b))},m=()=>new Promise(b=>{s=E=>{const g=n||!f();return g&&b(E),g},t.onPause==null||t.onPause()}).then(()=>{s=void 0,n||t.onContinue==null||t.onContinue()}),y=()=>{if(n)return;let b;try{b=t.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(p).catch(E=>{var g,c;if(n)return;const d=(g=t.retry)!=null?g:3,C=(c=t.retryDelay)!=null?c:ng,T=typeof C=="function"?C(r,E):C,M=d===!0||typeof d=="number"&&r<d||typeof d=="function"&&d(r,E);if(e||!M){v(E);return}r++,t.onFail==null||t.onFail(r,E),Ju(T).then(()=>{if(f())return m()}).then(()=>{e?v(E):y()})})};return Na(t.networkMode)?y():m().then(y),{promise:o,cancel:l,continue:()=>(s==null?void 0:s())?o:Promise.resolve(),cancelRetry:u,continueRetry:h}}const Da=console;function ig(){let t=[],e=0,r=h=>{h()},n=h=>{h()};const s=h=>{let f;e++;try{f=h()}finally{e--,e||o()}return f},i=h=>{e?t.push(h):Xo(()=>{r(h)})},a=h=>(...f)=>{i(()=>{h(...f)})},o=()=>{const h=t;t=[],h.length&&Xo(()=>{n(()=>{h.forEach(f=>{r(f)})})})};return{batch:s,batchCalls:a,schedule:i,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{n=h}}}const Ut=ig();class eh{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X1(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ts?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class sg extends eh{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Da,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||ag(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=tg(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(re).catch(re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!J1(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(m=>m.options.queryFn);v&&this.setOptions(v.options)}const a=Z1(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};l(o);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(h),(n=this.options.behavior)==null||n.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=h.fetchOptions)==null?void 0:s.meta)){var f;this.dispatch({type:"fetch",meta:(f=h.fetchOptions)==null?void 0:f.meta})}const p=v=>{if(vs(v)&&v.silent||this.dispatch({type:"error",error:v}),!vs(v)){var m,y,b,E;(m=(y=this.cache.config).onError)==null||m.call(y,v,this),(b=(E=this.cache.config).onSettled)==null||b.call(E,this.state.data,v,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=th({fn:h.fetchFn,abort:a==null?void 0:a.abort.bind(a),onSuccess:v=>{var m,y,b,E;if(typeof v>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(v),(m=(y=this.cache.config).onSuccess)==null||m.call(y,v,this),(b=(E=this.cache.config).onSettled)==null||b.call(E,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(v,m)=>{this.dispatch({type:"failed",failureCount:v,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var s,i;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:Na(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return vs(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function ag(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}let rh=class extends Zi{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var s;const i=r.queryKey,a=(s=r.queryHash)!=null?s:ka(i,r);let o=this.get(a);return o||(o=new sg({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=Fe(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(s=>zo(n,s))}findAll(e,r){const[n]=Fe(e,r);return Object.keys(n).length>0?this.queries.filter(s=>zo(n,s)):this.queries}notify(e){Ut.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){Ut.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}};class og extends eh{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Da,this.observers=[],this.state=e.state||lg(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var M;return this.retryer=th({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(w,A)=>{this.dispatch({type:"failed",failureCount:w,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(M=this.options.retry)!=null?M:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,s,i,a,o,l,u,h;if(!r){var f,p,v,m;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(p=this.mutationCache.config).onMutate)==null?void 0:f.call(p,this.state.variables,this));const w=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,this.state.variables));w!==this.state.context&&this.dispatch({type:"loading",context:w,variables:this.state.variables})}const M=await e();return await((n=(s=this.mutationCache.config).onSuccess)==null?void 0:n.call(s,M,this.state.variables,this.state.context,this)),await((i=(a=this.options).onSuccess)==null?void 0:i.call(a,M,this.state.variables,this.state.context)),await((o=(l=this.mutationCache.config).onSettled)==null?void 0:o.call(l,M,null,this.state.variables,this.state.context,this)),await((u=(h=this.options).onSettled)==null?void 0:u.call(h,M,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:M}),M}catch(M){try{var y,b,E,g,c,d,C,T;throw await((y=(b=this.mutationCache.config).onError)==null?void 0:y.call(b,M,this.state.variables,this.state.context,this)),await((E=(g=this.options).onError)==null?void 0:E.call(g,M,this.state.variables,this.state.context)),await((c=(d=this.mutationCache.config).onSettled)==null?void 0:c.call(d,void 0,M,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,M,this.state.variables,this.state.context)),M}finally{this.dispatch({type:"error",error:M})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Na(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function lg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}let nh=class extends Zi{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const s=new og({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){Ut.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>$o(e,r))}findAll(e){return this.mutations.filter(r=>$o(e,r))}notify(e){Ut.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return Ut.batch(()=>r.reduce((n,s)=>n.then(()=>s.continue().catch(re)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}};function cg(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,s,i,a;const o=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,l=(n=t.fetchOptions)==null||(s=n.meta)==null?void 0:s.fetchMore,u=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",p=((i=t.state.data)==null?void 0:i.pages)||[],v=((a=t.state.data)==null?void 0:a.pageParams)||[];let m=v,y=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>{var M;if((M=t.signal)!=null&&M.aborted)y=!0;else{var w;(w=t.signal)==null||w.addEventListener("abort",()=>{y=!0})}return t.signal}})},E=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),g=(T,M,w,A)=>(m=A?[M,...m]:[...m,M],A?[w,...T]:[...T,w]),c=(T,M,w,A)=>{if(y)return Promise.reject("Cancelled");if(typeof w>"u"&&!M&&T.length)return Promise.resolve(T);const P={queryKey:t.queryKey,pageParam:w,meta:t.options.meta};b(P);const F=E(P);return Promise.resolve(F).then(_=>g(T,w,_,A))};let d;if(!p.length)d=c([]);else if(h){const T=typeof u<"u",M=T?u:Zo(t.options,p);d=c(p,T,M)}else if(f){const T=typeof u<"u",M=T?u:ug(t.options,p);d=c(p,T,M,!0)}else{m=[];const T=typeof t.options.getNextPageParam>"u";d=(o&&p[0]?o(p[0],0,p):!0)?c([],T,v[0]):Promise.resolve(g([],v[0],p[0]));for(let w=1;w<p.length;w++)d=d.then(A=>{if(o&&p[w]?o(p[w],w,p):!0){const F=T?v[w]:Zo(t.options,A);return c(A,T,F)}return Promise.resolve(g(A,v[w],p[w]))})}return d.then(T=>({pages:T,pageParams:m}))}}}}function Zo(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function ug(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}let hg=class{constructor(e={}){this.queryCache=e.queryCache||new rh,this.mutationCache=e.mutationCache||new nh,this.logger=e.logger||Da,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Ys.subscribe(()=>{Ys.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Ai.subscribe(()=>{Ai.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=Fe(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const s=hi(e,r,n),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const s=n.data;return[r,s]})}setQueryData(e,r,n){const s=this.queryCache.find(e),i=s==null?void 0:s.state.data,a=Q1(r,i);if(typeof a>"u")return;const o=hi(e),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,{...n,manual:!0})}setQueriesData(e,r,n){return Ut.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=Fe(e,r),s=this.queryCache;Ut.batch(()=>{s.findAll(n).forEach(i=>{s.remove(i)})})}resetQueries(e,r,n){const[s,i]=Fe(e,r,n),a=this.queryCache,o={type:"active",...s};return Ut.batch(()=>(a.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(o,i)))}cancelQueries(e,r,n){const[s,i={}]=Fe(e,r,n);typeof i.revert>"u"&&(i.revert=!0);const a=Ut.batch(()=>this.queryCache.findAll(s).map(o=>o.cancel(i)));return Promise.all(a).then(re).catch(re)}invalidateQueries(e,r,n){const[s,i]=Fe(e,r,n);return Ut.batch(()=>{var a,o;if(this.queryCache.findAll(s).forEach(u=>{u.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(a=(o=s.refetchType)!=null?o:s.type)!=null?a:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,r,n){const[s,i]=Fe(e,r,n),a=Ut.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:s.refetchPage}})}));let o=Promise.all(a).then(re);return i!=null&&i.throwOnError||(o=o.catch(re)),o}fetchQuery(e,r,n){const s=hi(e,r,n),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(re).catch(re)}fetchInfiniteQuery(e,r,n){const s=hi(e,r,n);return s.behavior=cg(),this.fetchQuery(s)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(re).catch(re)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(s=>Qe(e)===Qe(s.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>Ti(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(s=>Qe(e)===Qe(s.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>Ti(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=ka(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};const fg="VUE_QUERY_CLIENT";function dg(t){const e=t?":"+t:"";return""+fg+e}function ee(t){return Array.isArray(t)}function p2(t){return Array.isArray(t)}function v2(t,e){Object.keys(t).forEach(r=>{t[r]=e[r]})}function Qs(t,e){if(e){const r=e(t);if(r!==void 0||At(t))return r}if(Array.isArray(t))return t.map(r=>Qs(r,e));if(typeof t=="object"&&gg(t)){const r=Object.entries(t).map(([n,s])=>[n,Qs(s,e)]);return Object.fromEntries(r)}return t}function ct(t){return Qs(t,e=>{if(At(e))return ct(ye(e))})}function gg(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function m2(t,e){return typeof t=="function"?t(...e):!!t}class pg extends rh{find(e,r){const n=ct(e),s=ct(r);return super.find(n,s)}findAll(e,r){const n=ct(e),s=ct(r);return ee(n)?super.findAll(n,s):super.findAll(n)}}class vg extends nh{find(e){return super.find(ct(e))}findAll(e){return super.findAll(ct(e))}}class tl extends hg{constructor(e={}){const r=ct(e),n={logger:ct(r.logger),defaultOptions:ct(r.defaultOptions),queryCache:r.queryCache||new pg,mutationCache:r.mutationCache||new vg};super(n),this.isRestoring=ke(!1)}isFetching(e,r){const n=ct(e),s=ct(r);return ee(n)?super.isFetching(n,s):super.isFetching(n)}isMutating(e){return super.isMutating(ct(e))}getQueryData(e,r){return super.getQueryData(ct(e),ct(r))}getQueriesData(e){const r=ct(e);return ee(r)?super.getQueriesData(r):super.getQueriesData(r)}setQueryData(e,r,n){return super.setQueryData(ct(e),r,ct(n))}setQueriesData(e,r,n){const s=ct(e),i=ct(n);return ee(s)?super.setQueriesData(s,r,i):super.setQueriesData(s,r,i)}getQueryState(e,r){return super.getQueryState(ct(e),ct(r))}removeQueries(e,r){const n=ct(e);return ee(n)?super.removeQueries(n,ct(r)):super.removeQueries(n)}resetQueries(e,r,n){const s=ct(e),i=ct(r);return ee(s)?super.resetQueries(s,i,ct(n)):super.resetQueries(s,i)}cancelQueries(e,r,n){const s=ct(e),i=ct(r);return ee(s)?super.cancelQueries(s,i,ct(n)):super.cancelQueries(s,i)}invalidateQueries(e,r,n){const s=ct(e),i=ct(r);return ee(s)?super.invalidateQueries(s,i,ct(n)):super.invalidateQueries(s,i)}refetchQueries(e,r,n){const s=ct(e),i=ct(r);return ee(s)?super.refetchQueries(s,i,ct(n)):super.refetchQueries(s,i)}fetchQuery(e,r,n){const s=ct(e),i=ct(r);return ee(s)?super.fetchQuery(s,i,ct(n)):super.fetchQuery(s)}prefetchQuery(e,r,n){return super.prefetchQuery(ct(e),ct(r),ct(n))}fetchInfiniteQuery(e,r,n){const s=ct(e),i=ct(r);return ee(s)?super.fetchInfiniteQuery(s,i,ct(n)):super.fetchInfiniteQuery(s)}prefetchInfiniteQuery(e,r,n){return super.prefetchInfiniteQuery(ct(e),ct(r),ct(n))}setDefaultOptions(e){super.setDefaultOptions(ct(e))}setQueryDefaults(e,r){super.setQueryDefaults(ct(e),ct(r))}getQueryDefaults(e){return super.getQueryDefaults(ct(e))}setMutationDefaults(e,r){super.setMutationDefaults(ct(e),ct(r))}getMutationDefaults(e){return super.getMutationDefaults(ct(e))}}const mg={install:(t,e={})=>{const r=dg(e.queryClientKey);let n;if("queryClient"in e&&e.queryClient)n=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)n=window.__VUE_QUERY_CONTEXT__;else{const a="queryClientConfig"in e?e.queryClientConfig:void 0;n=new tl(a),window.__VUE_QUERY_CONTEXT__=n}else{const a="queryClientConfig"in e?e.queryClientConfig:void 0;n=new tl(a)}ts||n.mount();let s=()=>{};if(e.clientPersister){n.isRestoring.value=!0;const[a,o]=e.clientPersister(n);s=a,o.then(()=>{n.isRestoring.value=!1,e.clientPersisterOnSuccess==null||e.clientPersisterOnSuccess(n)})}const i=()=>{n.unmount(),s()};if(t.onUnmount)t.onUnmount(i);else{const a=t.unmount;t.unmount=function(){i(),a()}}t.provide(r,n)}};var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ih={exports:{}};const bg=yg(D0);var gi={exports:{}},Dr={},ms={},_s={},el;function dt(){return el||(el=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Xs<"u"?Xs:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.2.2",isBrowser:r(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return t.Konva.angleDeg?s*e:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(s){t.glob.Konva=s}};const n=s=>{t.Konva[s.prototype.getClassName()]=s};t._registerNode=n,t.Konva._injectGlobal(t.Konva)}(_s)),_s}var ys={},rl;function Tt(){return rl||(rl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=dt();class r{constructor(d=[1,0,0,1,0,0]){this.dirty=!1,this.m=d&&d.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(d){d.m[0]=this.m[0],d.m[1]=this.m[1],d.m[2]=this.m[2],d.m[3]=this.m[3],d.m[4]=this.m[4],d.m[5]=this.m[5]}point(d){var C=this.m;return{x:C[0]*d.x+C[2]*d.y+C[4],y:C[1]*d.x+C[3]*d.y+C[5]}}translate(d,C){return this.m[4]+=this.m[0]*d+this.m[2]*C,this.m[5]+=this.m[1]*d+this.m[3]*C,this}scale(d,C){return this.m[0]*=d,this.m[1]*=d,this.m[2]*=C,this.m[3]*=C,this}rotate(d){var C=Math.cos(d),T=Math.sin(d),M=this.m[0]*C+this.m[2]*T,w=this.m[1]*C+this.m[3]*T,A=this.m[0]*-T+this.m[2]*C,P=this.m[1]*-T+this.m[3]*C;return this.m[0]=M,this.m[1]=w,this.m[2]=A,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(d,C){var T=this.m[0]+this.m[2]*C,M=this.m[1]+this.m[3]*C,w=this.m[2]+this.m[0]*d,A=this.m[3]+this.m[1]*d;return this.m[0]=T,this.m[1]=M,this.m[2]=w,this.m[3]=A,this}multiply(d){var C=this.m[0]*d.m[0]+this.m[2]*d.m[1],T=this.m[1]*d.m[0]+this.m[3]*d.m[1],M=this.m[0]*d.m[2]+this.m[2]*d.m[3],w=this.m[1]*d.m[2]+this.m[3]*d.m[3],A=this.m[0]*d.m[4]+this.m[2]*d.m[5]+this.m[4],P=this.m[1]*d.m[4]+this.m[3]*d.m[5]+this.m[5];return this.m[0]=C,this.m[1]=T,this.m[2]=M,this.m[3]=w,this.m[4]=A,this.m[5]=P,this}invert(){var d=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*d,T=-this.m[1]*d,M=-this.m[2]*d,w=this.m[0]*d,A=d*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=d*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=T,this.m[2]=M,this.m[3]=w,this.m[4]=A,this.m[5]=P,this}getMatrix(){return this.m}decompose(){var d=this.m[0],C=this.m[1],T=this.m[2],M=this.m[3],w=this.m[4],A=this.m[5],P=d*M-C*T;let F={x:w,y:A,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(d!=0||C!=0){var D=Math.sqrt(d*d+C*C);F.rotation=C>0?Math.acos(d/D):-Math.acos(d/D),F.scaleX=D,F.scaleY=P/D,F.skewX=(d*T+C*M)/P,F.skewY=0}else if(T!=0||M!=0){var _=Math.sqrt(T*T+M*M);F.rotation=Math.PI/2-(M>0?Math.acos(-T/_):-Math.acos(T/_)),F.scaleX=P/_,F.scaleY=_,F.skewX=0,F.skewY=(d*T+C*M)/P}return F.rotation=t.Util._getRotation(F.rotation),F}}t.Transform=r;var n="[object Array]",s="[object Number]",i="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,u="#",h="",f="0",p="Konva warning: ",v="Konva error: ",m="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,E=[];const g=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(c){setTimeout(c,60)};t.Util={_isElement(c){return!!(c&&c.nodeType==1)},_isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)},_isPlainObject(c){return!!c&&c.constructor===Object},_isArray(c){return Object.prototype.toString.call(c)===n},_isNumber(c){return Object.prototype.toString.call(c)===s&&!isNaN(c)&&isFinite(c)},_isString(c){return Object.prototype.toString.call(c)===i},_isBoolean(c){return Object.prototype.toString.call(c)===a},isObject(c){return c instanceof Object},isValidSelector(c){if(typeof c!="string")return!1;var d=c[0];return d==="#"||d==="."||d===d.toUpperCase()},_sign(c){return c===0||c>0?1:-1},requestAnimFrame(c){E.push(c),E.length===1&&g(function(){const d=E;E=[],d.forEach(function(C){C()})})},createCanvasElement(){var c=document.createElement("canvas");try{c.style=c.style||{}}catch{}return c},createImageElement(){return document.createElement("img")},_isInDocument(c){for(;c=c.parentNode;)if(c==document)return!0;return!1},_urlToImage(c,d){var C=t.Util.createImageElement();C.onload=function(){d(C)},C.src=c},_rgbToHex(c,d,C){return((1<<24)+(c<<16)+(d<<8)+C).toString(16).slice(1)},_hexToRgb(c){c=c.replace(u,h);var d=parseInt(c,16);return{r:d>>16&255,g:d>>8&255,b:d&255}},getRandomColor(){for(var c=(Math.random()*16777215<<0).toString(16);c.length<6;)c=f+c;return u+c},getRGB(c){var d;return c in y?(d=y[c],{r:d[0],g:d[1],b:d[2]}):c[0]===u?this._hexToRgb(c.substring(1)):c.substr(0,4)===m?(d=b.exec(c.replace(/ /g,"")),{r:parseInt(d[1],10),g:parseInt(d[2],10),b:parseInt(d[3],10)}):{r:0,g:0,b:0}},colorToRGBA(c){return c=c||"black",t.Util._namedColorToRBA(c)||t.Util._hex3ColorToRGBA(c)||t.Util._hex4ColorToRGBA(c)||t.Util._hex6ColorToRGBA(c)||t.Util._hex8ColorToRGBA(c)||t.Util._rgbColorToRGBA(c)||t.Util._rgbaColorToRGBA(c)||t.Util._hslColorToRGBA(c)},_namedColorToRBA(c){var d=y[c.toLowerCase()];return d?{r:d[0],g:d[1],b:d[2],a:1}:null},_rgbColorToRGBA(c){if(c.indexOf("rgb(")===0){c=c.match(/rgb\(([^)]+)\)/)[1];var d=c.split(/ *, */).map(Number);return{r:d[0],g:d[1],b:d[2],a:1}}},_rgbaColorToRGBA(c){if(c.indexOf("rgba(")===0){c=c.match(/rgba\(([^)]+)\)/)[1];var d=c.split(/ *, */).map((C,T)=>C.slice(-1)==="%"?T===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:d[0],g:d[1],b:d[2],a:d[3]}}},_hex8ColorToRGBA(c){if(c[0]==="#"&&c.length===9)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:parseInt(c.slice(7,9),16)/255}},_hex6ColorToRGBA(c){if(c[0]==="#"&&c.length===7)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:1}},_hex4ColorToRGBA(c){if(c[0]==="#"&&c.length===5)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255}},_hex3ColorToRGBA(c){if(c[0]==="#"&&c.length===4)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:1}},_hslColorToRGBA(c){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(c)){const[d,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(c),T=Number(C[0])/360,M=Number(C[1])/100,w=Number(C[2])/100;let A,P,F;if(M===0)return F=w*255,{r:Math.round(F),g:Math.round(F),b:Math.round(F),a:1};w<.5?A=w*(1+M):A=w+M-w*M;const D=2*w-A,_=[0,0,0];for(let S=0;S<3;S++)P=T+1/3*-(S-1),P<0&&P++,P>1&&P--,6*P<1?F=D+(A-D)*6*P:2*P<1?F=A:3*P<2?F=D+(A-D)*(2/3-P)*6:F=D,_[S]=F*255;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection(c,d){return!(d.x>c.x+c.width||d.x+d.width<c.x||d.y>c.y+c.height||d.y+d.height<c.y)},cloneObject(c){var d={};for(var C in c)this._isPlainObject(c[C])?d[C]=this.cloneObject(c[C]):this._isArray(c[C])?d[C]=this.cloneArray(c[C]):d[C]=c[C];return d},cloneArray(c){return c.slice(0)},degToRad(c){return c*o},radToDeg(c){return c*l},_degToRad(c){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(c)},_radToDeg(c){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(c)},_getRotation(c){return e.Konva.angleDeg?t.Util.radToDeg(c):c},_capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)},throw(c){throw new Error(v+c)},error(c){console.error(v+c)},warn(c){e.Konva.showWarnings&&console.warn(p+c)},each(c,d){for(var C in c)d(C,c[C])},_inRange(c,d,C){return d<=c&&c<C},_getProjectionToSegment(c,d,C,T,M,w){var A,P,F,D=(c-C)*(c-C)+(d-T)*(d-T);if(D==0)A=c,P=d,F=(M-C)*(M-C)+(w-T)*(w-T);else{var _=((M-c)*(C-c)+(w-d)*(T-d))/D;_<0?(A=c,P=d,F=(c-M)*(c-M)+(d-w)*(d-w)):_>1?(A=C,P=T,F=(C-M)*(C-M)+(T-w)*(T-w)):(A=c+_*(C-c),P=d+_*(T-d),F=(A-M)*(A-M)+(P-w)*(P-w))}return[A,P,F]},_getProjectionToLine(c,d,C){var T=t.Util.cloneObject(c),M=Number.MAX_VALUE;return d.forEach(function(w,A){if(!(!C&&A===d.length-1)){var P=d[(A+1)%d.length],F=t.Util._getProjectionToSegment(w.x,w.y,P.x,P.y,c.x,c.y),D=F[0],_=F[1],S=F[2];S<M&&(T.x=D,T.y=_,M=S)}}),T},_prepareArrayForTween(c,d,C){var T,M=[],w=[];if(c.length>d.length){var A=d;d=c,c=A}for(T=0;T<c.length;T+=2)M.push({x:c[T],y:c[T+1]});for(T=0;T<d.length;T+=2)w.push({x:d[T],y:d[T+1]});var P=[];return w.forEach(function(F){var D=t.Util._getProjectionToLine(F,M,C);P.push(D.x),P.push(D.y)}),P},_prepareToStringify(c){var d;c.visitedByCircularReferenceRemoval=!0;for(var C in c)if(c.hasOwnProperty(C)&&c[C]&&typeof c[C]=="object"){if(d=Object.getOwnPropertyDescriptor(c,C),c[C].visitedByCircularReferenceRemoval||t.Util._isElement(c[C]))if(d.configurable)delete c[C];else return null;else if(t.Util._prepareToStringify(c[C])===null)if(d.configurable)delete c[C];else return null}return delete c.visitedByCircularReferenceRemoval,c},_assign(c,d){for(var C in d)c[C]=d[C];return c},_getFirstPointerId(c){return c.touches?c.changedTouches[0].identifier:c.pointerId||999},releaseCanvas(...c){e.Konva.releaseCanvasOnDestroy&&c.forEach(d=>{d.width=0,d.height=0})},drawRoundedRectPath(c,d,C,T){let M=0,w=0,A=0,P=0;typeof T=="number"?M=w=A=P=Math.min(T,d/2,C/2):(M=Math.min(T[0]||0,d/2,C/2),w=Math.min(T[1]||0,d/2,C/2),P=Math.min(T[2]||0,d/2,C/2),A=Math.min(T[3]||0,d/2,C/2)),c.moveTo(M,0),c.lineTo(d-w,0),c.arc(d-w,w,w,Math.PI*3/2,0,!1),c.lineTo(d,C-P),c.arc(d-P,C-P,P,0,Math.PI/2,!1),c.lineTo(A,C),c.arc(A,C-A,A,Math.PI/2,Math.PI,!1),c.lineTo(0,M),c.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}}(ys)),ys}var Lr={},bs={},Pt={},nl;function gt(){if(nl)return Pt;nl=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.getComponentValidator=Pt.getBooleanValidator=Pt.getNumberArrayValidator=Pt.getFunctionValidator=Pt.getStringOrGradientValidator=Pt.getStringValidator=Pt.getNumberOrAutoValidator=Pt.getNumberOrArrayOfNumbersValidator=Pt.getNumberValidator=Pt.alphaComponent=Pt.RGBComponent=void 0;const t=dt(),e=Tt();function r(m){return e.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||e.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function n(m){return m>255?255:m<0?0:Math.round(m)}Pt.RGBComponent=n;function s(m){return m>1?1:m<1e-4?1e-4:m}Pt.alphaComponent=s;function i(){if(t.Konva.isUnminified)return function(m,y){return e.Util._isNumber(m)||e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),m}}Pt.getNumberValidator=i;function a(m){if(t.Konva.isUnminified)return function(y,b){let E=e.Util._isNumber(y),g=e.Util._isArray(y)&&y.length==m;return!E&&!g&&e.Util.warn(r(y)+' is a not valid value for "'+b+'" attribute. The value should be a number or Array<number>('+m+")"),y}}Pt.getNumberOrArrayOfNumbersValidator=a;function o(){if(t.Konva.isUnminified)return function(m,y){var b=e.Util._isNumber(m),E=m==="auto";return b||E||e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),m}}Pt.getNumberOrAutoValidator=o;function l(){if(t.Konva.isUnminified)return function(m,y){return e.Util._isString(m)||e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),m}}Pt.getStringValidator=l;function u(){if(t.Konva.isUnminified)return function(m,y){const b=e.Util._isString(m),E=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return b||E||e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),m}}Pt.getStringOrGradientValidator=u;function h(){if(t.Konva.isUnminified)return function(m,y){return e.Util._isFunction(m)||e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),m}}Pt.getFunctionValidator=h;function f(){if(t.Konva.isUnminified)return function(m,y){const b=Int8Array?Object.getPrototypeOf(Int8Array):null;return b&&m instanceof b||(e.Util._isArray(m)?m.forEach(function(E){e.Util._isNumber(E)||e.Util.warn('"'+y+'" attribute has non numeric element '+E+". Make sure that all elements are numbers.")}):e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),m}}Pt.getNumberArrayValidator=f;function p(){if(t.Konva.isUnminified)return function(m,y){var b=m===!0||m===!1;return b||e.Util.warn(r(m)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),m}}Pt.getBooleanValidator=p;function v(m){if(t.Konva.isUnminified)return function(y,b){return y==null||e.Util.isObject(y)||e.Util.warn(r(y)+' is a not valid value for "'+b+'" attribute. The value should be an object with properties '+m),y}}return Pt.getComponentValidator=v,Pt}var il;function ft(){return il||(il=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Tt(),r=gt();var n="get",s="set";t.Factory={addGetterSetter(i,a,o,l,u){t.Factory.addGetter(i,a,o),t.Factory.addSetter(i,a,l,u),t.Factory.addOverloadedGetterSetter(i,a)},addGetter(i,a,o){var l=n+e.Util._capitalize(a);i.prototype[l]=i.prototype[l]||function(){var u=this.attrs[a];return u===void 0?o:u}},addSetter(i,a,o,l){var u=s+e.Util._capitalize(a);i.prototype[u]||t.Factory.overWriteSetter(i,a,o,l)},overWriteSetter(i,a,o,l){var u=s+e.Util._capitalize(a);i.prototype[u]=function(h){return o&&h!==void 0&&h!==null&&(h=o.call(this,h,a)),this._setAttr(a,h),l&&l.call(this),this}},addComponentsGetterSetter(i,a,o,l,u){var h=o.length,f=e.Util._capitalize,p=n+f(a),v=s+f(a),m,y;i.prototype[p]=function(){var E={};for(m=0;m<h;m++)y=o[m],E[y]=this.getAttr(a+f(y));return E};var b=(0,r.getComponentValidator)(o);i.prototype[v]=function(E){var g=this.attrs[a],c;l&&(E=l.call(this,E)),b&&b.call(this,E,a);for(c in E)E.hasOwnProperty(c)&&this._setAttr(a+f(c),E[c]);return E||o.forEach(d=>{this._setAttr(a+f(d),void 0)}),this._fireChangeEvent(a,g,E),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(i,a)},addOverloadedGetterSetter(i,a){var o=e.Util._capitalize(a),l=s+o,u=n+o;i.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(i,a,o,l){e.Util.error("Adding deprecated "+a);var u=n+e.Util._capitalize(a),h=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[u]=function(){e.Util.error(h);var f=this.attrs[a];return f===void 0?o:f},t.Factory.addSetter(i,a,l,function(){e.Util.error(h)}),t.Factory.addOverloadedGetterSetter(i,a)},backCompat(i,a){e.Util.each(a,function(o,l){var u=i.prototype[l],h=n+e.Util._capitalize(o),f=s+e.Util._capitalize(o);function p(){u.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}i.prototype[o]=p,i.prototype[h]=p,i.prototype[f]=p})},afterSetFilter(){this._filterUpToDate=!1}}}(bs)),bs}var de={},ge={},sl;function sh(){if(sl)return ge;sl=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.HitContext=ge.SceneContext=ge.Context=void 0;const t=Tt(),e=dt();function r(E){var g=[],c=E.length,d=t.Util,C,T;for(C=0;C<c;C++)T=E[C],d._isNumber(T)?T=Math.round(T*1e3)/1e3:d._isString(T)||(T=T+""),g.push(T);return g}var n=",",s="(",i=")",a="([",o="])",l=";",u="()",h="=",f=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],p=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const v=100;let m=class{constructor(g){this.canvas=g,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(g){g.fillEnabled()&&this._fill(g)}_fill(g){}strokeShape(g){g.hasStroke()&&this._stroke(g)}_stroke(g){}fillStrokeShape(g){g.attrs.fillAfterStrokeEnabled?(this.strokeShape(g),this.fillShape(g)):(this.fillShape(g),this.strokeShape(g))}getTrace(g,c){var d=this.traceArr,C=d.length,T="",M,w,A,P;for(M=0;M<C;M++)w=d[M],A=w.method,A?(P=w.args,T+=A,g?T+=u:t.Util._isArray(P[0])?T+=a+P.join(n)+o:(c&&(P=P.map(F=>typeof F=="number"?Math.floor(F):F)),T+=s+P.join(n)+i)):(T+=w.property,g||(T+=h+w.val)),T+=l;return T}clearTrace(){this.traceArr=[]}_trace(g){var c=this.traceArr,d;c.push(g),d=c.length,d>=v&&c.shift()}reset(){var g=this.getCanvas().getPixelRatio();this.setTransform(1*g,0,0,1*g,0,0)}getCanvas(){return this.canvas}clear(g){var c=this.getCanvas();g?this.clearRect(g.x||0,g.y||0,g.width||0,g.height||0):this.clearRect(0,0,c.getWidth()/c.pixelRatio,c.getHeight()/c.pixelRatio)}_applyLineCap(g){const c=g.attrs.lineCap;c&&this.setAttr("lineCap",c)}_applyOpacity(g){var c=g.getAbsoluteOpacity();c!==1&&this.setAttr("globalAlpha",c)}_applyLineJoin(g){const c=g.attrs.lineJoin;c&&this.setAttr("lineJoin",c)}setAttr(g,c){this._context[g]=c}arc(g,c,d,C,T,M){this._context.arc(g,c,d,C,T,M)}arcTo(g,c,d,C,T){this._context.arcTo(g,c,d,C,T)}beginPath(){this._context.beginPath()}bezierCurveTo(g,c,d,C,T,M){this._context.bezierCurveTo(g,c,d,C,T,M)}clearRect(g,c,d,C){this._context.clearRect(g,c,d,C)}clip(...g){this._context.clip.apply(this._context,g)}closePath(){this._context.closePath()}createImageData(g,c){var d=arguments;if(d.length===2)return this._context.createImageData(g,c);if(d.length===1)return this._context.createImageData(g)}createLinearGradient(g,c,d,C){return this._context.createLinearGradient(g,c,d,C)}createPattern(g,c){return this._context.createPattern(g,c)}createRadialGradient(g,c,d,C,T,M){return this._context.createRadialGradient(g,c,d,C,T,M)}drawImage(g,c,d,C,T,M,w,A,P){var F=arguments,D=this._context;F.length===3?D.drawImage(g,c,d):F.length===5?D.drawImage(g,c,d,C,T):F.length===9&&D.drawImage(g,c,d,C,T,M,w,A,P)}ellipse(g,c,d,C,T,M,w,A){this._context.ellipse(g,c,d,C,T,M,w,A)}isPointInPath(g,c,d,C){return d?this._context.isPointInPath(d,g,c,C):this._context.isPointInPath(g,c,C)}fill(...g){this._context.fill.apply(this._context,g)}fillRect(g,c,d,C){this._context.fillRect(g,c,d,C)}strokeRect(g,c,d,C){this._context.strokeRect(g,c,d,C)}fillText(g,c,d,C){C?this._context.fillText(g,c,d,C):this._context.fillText(g,c,d)}measureText(g){return this._context.measureText(g)}getImageData(g,c,d,C){return this._context.getImageData(g,c,d,C)}lineTo(g,c){this._context.lineTo(g,c)}moveTo(g,c){this._context.moveTo(g,c)}rect(g,c,d,C){this._context.rect(g,c,d,C)}putImageData(g,c,d){this._context.putImageData(g,c,d)}quadraticCurveTo(g,c,d,C){this._context.quadraticCurveTo(g,c,d,C)}restore(){this._context.restore()}rotate(g){this._context.rotate(g)}save(){this._context.save()}scale(g,c){this._context.scale(g,c)}setLineDash(g){this._context.setLineDash?this._context.setLineDash(g):"mozDash"in this._context?this._context.mozDash=g:"webkitLineDash"in this._context&&(this._context.webkitLineDash=g)}getLineDash(){return this._context.getLineDash()}setTransform(g,c,d,C,T,M){this._context.setTransform(g,c,d,C,T,M)}stroke(g){g?this._context.stroke(g):this._context.stroke()}strokeText(g,c,d,C){this._context.strokeText(g,c,d,C)}transform(g,c,d,C,T,M){this._context.transform(g,c,d,C,T,M)}translate(g,c){this._context.translate(g,c)}_enableTrace(){var g=this,c=f.length,d=this.setAttr,C,T,M=function(w){var A=g[w],P;g[w]=function(){return T=r(Array.prototype.slice.call(arguments,0)),P=A.apply(g,arguments),g._trace({method:w,args:T}),P}};for(C=0;C<c;C++)M(f[C]);g.setAttr=function(){d.apply(g,arguments);var w=arguments[0],A=arguments[1];(w==="shadowOffsetX"||w==="shadowOffsetY"||w==="shadowBlur")&&(A=A/this.canvas.getPixelRatio()),g._trace({property:w,val:A})}}_applyGlobalCompositeOperation(g){const c=g.attrs.globalCompositeOperation;var d=!c||c==="source-over";d||this.setAttr("globalCompositeOperation",c)}};ge.Context=m,p.forEach(function(E){Object.defineProperty(m.prototype,E,{get(){return this._context[E]},set(g){this._context[E]=g}})});class y extends m{constructor(g,{willReadFrequently:c=!1}={}){super(g),this._context=g._canvas.getContext("2d",{willReadFrequently:c})}_fillColor(g){var c=g.fill();this.setAttr("fillStyle",c),g._fillFunc(this)}_fillPattern(g){this.setAttr("fillStyle",g._getFillPattern()),g._fillFunc(this)}_fillLinearGradient(g){var c=g._getLinearGradient();c&&(this.setAttr("fillStyle",c),g._fillFunc(this))}_fillRadialGradient(g){const c=g._getRadialGradient();c&&(this.setAttr("fillStyle",c),g._fillFunc(this))}_fill(g){const c=g.fill(),d=g.getFillPriority();if(c&&d==="color"){this._fillColor(g);return}const C=g.getFillPatternImage();if(C&&d==="pattern"){this._fillPattern(g);return}const T=g.getFillLinearGradientColorStops();if(T&&d==="linear-gradient"){this._fillLinearGradient(g);return}const M=g.getFillRadialGradientColorStops();if(M&&d==="radial-gradient"){this._fillRadialGradient(g);return}c?this._fillColor(g):C?this._fillPattern(g):T?this._fillLinearGradient(g):M&&this._fillRadialGradient(g)}_strokeLinearGradient(g){const c=g.getStrokeLinearGradientStartPoint(),d=g.getStrokeLinearGradientEndPoint(),C=g.getStrokeLinearGradientColorStops(),T=this.createLinearGradient(c.x,c.y,d.x,d.y);if(C){for(var M=0;M<C.length;M+=2)T.addColorStop(C[M],C[M+1]);this.setAttr("strokeStyle",T)}}_stroke(g){var c=g.dash(),d=g.getStrokeScaleEnabled();if(g.hasStroke()){if(!d){this.save();var C=this.getCanvas().getPixelRatio();this.setTransform(C,0,0,C,0,0)}this._applyLineCap(g),c&&g.dashEnabled()&&(this.setLineDash(c),this.setAttr("lineDashOffset",g.dashOffset())),this.setAttr("lineWidth",g.strokeWidth()),g.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var T=g.getStrokeLinearGradientColorStops();T?this._strokeLinearGradient(g):this.setAttr("strokeStyle",g.stroke()),g._strokeFunc(this),d||this.restore()}}_applyShadow(g){var c,d,C,T=(c=g.getShadowRGBA())!==null&&c!==void 0?c:"black",M=(d=g.getShadowBlur())!==null&&d!==void 0?d:5,w=(C=g.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},A=g.getAbsoluteScale(),P=this.canvas.getPixelRatio(),F=A.x*P,D=A.y*P;this.setAttr("shadowColor",T),this.setAttr("shadowBlur",M*Math.min(Math.abs(F),Math.abs(D))),this.setAttr("shadowOffsetX",w.x*F),this.setAttr("shadowOffsetY",w.y*D)}}ge.SceneContext=y;class b extends m{constructor(g){super(g),this._context=g._canvas.getContext("2d",{willReadFrequently:!0})}_fill(g){this.save(),this.setAttr("fillStyle",g.colorKey),g._fillFuncHit(this),this.restore()}strokeShape(g){g.hasHitStroke()&&this._stroke(g)}_stroke(g){if(g.hasHitStroke()){const T=g.getStrokeScaleEnabled();if(!T){this.save();var c=this.getCanvas().getPixelRatio();this.setTransform(c,0,0,c,0,0)}this._applyLineCap(g);var d=g.hitStrokeWidth(),C=d==="auto"?g.strokeWidth():d;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",g.colorKey),g._strokeFuncHit(this),T||this.restore()}}}return ge.HitContext=b,ge}var al;function rs(){if(al)return de;al=1,Object.defineProperty(de,"__esModule",{value:!0}),de.HitCanvas=de.SceneCanvas=de.Canvas=void 0;const t=Tt(),e=sh(),r=dt(),n=ft(),s=gt();var i;function a(){if(i)return i;var h=t.Util.createCanvasElement(),f=h.getContext("2d");return i=function(){var p=r.Konva._global.devicePixelRatio||1,v=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return p/v}(),t.Util.releaseCanvas(h),i}let o=class{constructor(f){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var p=f||{},v=p.pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=v,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(f){var p=this.pixelRatio;this.pixelRatio=f,this.setSize(this.getWidth()/p,this.getHeight()/p)}setWidth(f){this.width=this._canvas.width=f*this.pixelRatio,this._canvas.style.width=f+"px";var p=this.pixelRatio,v=this.getContext()._context;v.scale(p,p)}setHeight(f){this.height=this._canvas.height=f*this.pixelRatio,this._canvas.style.height=f+"px";var p=this.pixelRatio,v=this.getContext()._context;v.scale(p,p)}getWidth(){return this.width}getHeight(){return this.height}setSize(f,p){this.setWidth(f||0),this.setHeight(p||0)}toDataURL(f,p){try{return this._canvas.toDataURL(f,p)}catch{try{return this._canvas.toDataURL()}catch(m){return t.Util.error("Unable to get data URL. "+m.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};de.Canvas=o,n.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,s.getNumberValidator)());class l extends o{constructor(f={width:0,height:0,willReadFrequently:!1}){super(f),this.context=new e.SceneContext(this,{willReadFrequently:f.willReadFrequently}),this.setSize(f.width,f.height)}}de.SceneCanvas=l;class u extends o{constructor(f={width:0,height:0}){super(f),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(f.width,f.height)}}return de.HitCanvas=u,de}var Cs={},ol;function La(){return ol||(ol=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=dt(),r=Tt();t.DD={get isDragging(){var n=!1;return t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return t.DD._dragElements.forEach(s=>{n=s.node}),n},_dragElements:new Map,_drag(n){const s=[];t.DD._dragElements.forEach((i,a)=>{const{node:o}=i,l=o.getStage();l.setPointersPositions(n),i.pointerId===void 0&&(i.pointerId=r.Util._getFirstPointerId(n));const u=l._changedPointerPositions.find(p=>p.id===i.pointerId);if(u){if(i.dragStatus!=="dragging"){var h=o.dragDistance(),f=Math.max(Math.abs(u.x-i.startPointerPos.x),Math.abs(u.y-i.startPointerPos.y));if(f<h||(o.startDrag({evt:n}),!o.isDragging()))return}o._setDragPosition(n,i),s.push(o)}}),s.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:n},!0)})},_endDragBefore(n){const s=[];t.DD._dragElements.forEach(i=>{const{node:a}=i,o=a.getStage();if(n&&o.setPointersPositions(n),!o._changedPointerPositions.find(h=>h.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,i.dragStatus="stopped");const u=i.node.getLayer()||i.node instanceof e.Konva.Stage&&i.node;u&&s.indexOf(u)===-1&&s.push(u)}),s.forEach(i=>{i.draw()})},_endDragAfter(n){t.DD._dragElements.forEach((s,i)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:n},!0),s.dragStatus!=="dragging"&&t.DD._dragElements.delete(i)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(Cs)),Cs}var ll;function Rt(){if(ll)return Lr;ll=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Node=void 0;const t=Tt(),e=ft(),r=rs(),n=dt(),s=La(),i=gt();var a="absoluteOpacity",o="allEventListeners",l="absoluteTransform",u="absoluteScale",h="canvas",f="Change",p="children",v="konva",m="listening",y="mouseenter",b="mouseleave",E="set",g="Shape",c=" ",d="stage",C="transform",T="Stage",M="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(c);let A=1,P=class Js{constructor(_){this._id=A++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_){(_===C||_===l)&&this._cache.get(_)?this._cache.get(_).dirty=!0:_?this._cache.delete(_):this._cache.clear()}_getCache(_,S){var x=this._cache.get(_),R=_===C||_===l,N=x===void 0||R&&x.dirty===!0;return N&&(x=S.call(this),this._cache.set(_,x)),x}_calculate(_,S,x){if(!this._attachedDepsListeners.get(_)){const R=S.map(N=>N+"Change.konva").join(c);this.on(R,()=>{this._clearCache(_)}),this._attachedDepsListeners.set(_,!0)}return this._getCache(_,x)}_getCanvasCache(){return this._cache.get(h)}_clearSelfAndDescendantCache(_){this._clearCache(_),_===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(h)){const{scene:_,filter:S,hit:x}=this._cache.get(h);t.Util.releaseCanvas(_,S,x),this._cache.delete(h)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_){var S=_||{},x={};(S.x===void 0||S.y===void 0||S.width===void 0||S.height===void 0)&&(x=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var R=Math.ceil(S.width||x.width),N=Math.ceil(S.height||x.height),I=S.pixelRatio,U=S.x===void 0?Math.floor(x.x):S.x,j=S.y===void 0?Math.floor(x.y):S.y,Q=S.offset||0,H=S.drawBorder||!1,K=S.hitCanvasPixelRatio||1;if(!R||!N){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}R+=Q*2+1,N+=Q*2+1,U-=Q,j-=Q;var J=new r.SceneCanvas({pixelRatio:I,width:R,height:N}),rt=new r.SceneCanvas({pixelRatio:I,width:0,height:0,willReadFrequently:!0}),nt=new r.HitCanvas({pixelRatio:K,width:R,height:N}),O=J.getContext(),G=nt.getContext();return nt.isCache=!0,J.isCache=!0,this._cache.delete(h),this._filterUpToDate=!1,S.imageSmoothingEnabled===!1&&(J.getContext()._context.imageSmoothingEnabled=!1,rt.getContext()._context.imageSmoothingEnabled=!1),O.save(),G.save(),O.translate(-U,-j),G.translate(-U,-j),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this.drawScene(J,this),this.drawHit(nt,this),this._isUnderCache=!1,O.restore(),G.restore(),H&&(O.save(),O.beginPath(),O.rect(0,0,R,N),O.closePath(),O.setAttr("strokeStyle","red"),O.setAttr("lineWidth",5),O.stroke(),O.restore()),this._cache.set(h,{scene:J,filter:rt,hit:nt,x:U,y:j}),this._requestDraw(),this}isCached(){return this._cache.has(h)}getClientRect(_){throw new Error('abstract "getClientRect" method call')}_transformedRect(_,S){var x=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}],R=1/0,N=1/0,I=-1/0,U=-1/0,j=this.getAbsoluteTransform(S);return x.forEach(function(Q){var H=j.point(Q);R===void 0&&(R=I=H.x,N=U=H.y),R=Math.min(R,H.x),N=Math.min(N,H.y),I=Math.max(I,H.x),U=Math.max(U,H.y)}),{x:R,y:N,width:I-R,height:U-N}}_drawCachedSceneCanvas(_){_.save(),_._applyOpacity(this),_._applyGlobalCompositeOperation(this);const S=this._getCanvasCache();_.translate(S.x,S.y);var x=this._getCachedSceneCanvas(),R=x.pixelRatio;_.drawImage(x._canvas,0,0,x.width/R,x.height/R),_.restore()}_drawCachedHitCanvas(_){var S=this._getCanvasCache(),x=S.hit;_.save(),_.translate(S.x,S.y),_.drawImage(x._canvas,0,0,x.width/x.pixelRatio,x.height/x.pixelRatio),_.restore()}_getCachedSceneCanvas(){var _=this.filters(),S=this._getCanvasCache(),x=S.scene,R=S.filter,N=R.getContext(),I,U,j,Q;if(_){if(!this._filterUpToDate){var H=x.pixelRatio;R.setSize(x.width/x.pixelRatio,x.height/x.pixelRatio);try{for(I=_.length,N.clear(),N.drawImage(x._canvas,0,0,x.getWidth()/H,x.getHeight()/H),U=N.getImageData(0,0,R.getWidth(),R.getHeight()),j=0;j<I;j++){if(Q=_[j],typeof Q!="function"){t.Util.error("Filter should be type of function, but got "+typeof Q+" instead. Please check correct filters");continue}Q.call(this,U),N.putImageData(U,0,0)}}catch(K){t.Util.error("Unable to apply filter. "+K.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return R}return x}on(_,S){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var x=_.split(c),R=x.length,N,I,U,j,Q;for(N=0;N<R;N++)I=x[N],U=I.split("."),j=U[0],Q=U[1]||"",this.eventListeners[j]||(this.eventListeners[j]=[]),this.eventListeners[j].push({name:Q,handler:S});return this}off(_,S){var x=(_||"").split(c),R=x.length,N,I,U,j,Q,H;if(this._cache&&this._cache.delete(o),!_)for(I in this.eventListeners)this._off(I);for(N=0;N<R;N++)if(U=x[N],j=U.split("."),Q=j[0],H=j[1],Q)this.eventListeners[Q]&&this._off(Q,H,S);else for(I in this.eventListeners)this._off(I,H,S);return this}dispatchEvent(_){var S={target:this,type:_.type,evt:_};return this.fire(_.type,S),this}addEventListener(_,S){return this.on(_,function(x){S.call(this,x.evt)}),this}removeEventListener(_){return this.off(_),this}_delegate(_,S,x){var R=this;this.on(_,function(N){for(var I=N.target.findAncestors(S,!0,R),U=0;U<I.length;U++)N=t.Util.cloneObject(N),N.currentTarget=I[U],x.call(I[U],N)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(M),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();var _=this.getParent();_&&_.children&&(_.children.splice(this.index,1),_._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_){var S="get"+t.Util._capitalize(_);return t.Util._isFunction(this[S])?this[S]():this.attrs[_]}getAncestors(){for(var _=this.getParent(),S=[];_;)S.push(_),_=_.getParent();return S}getAttrs(){return this.attrs||{}}setAttrs(_){return this._batchTransformChanges(()=>{var S,x;if(!_)return this;for(S in _)S!==p&&(x=E+t.Util._capitalize(S),t.Util._isFunction(this[x])?this[x](_[S]):this._setAttr(S,_[S]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(_){if(!this.listening())return!1;const x=this.getParent();return x&&x!==_&&this!==_?x._isListening(_):!0}isVisible(){return this._getCache(M,this._isVisible)}_isVisible(_){if(!this.visible())return!1;const x=this.getParent();return x&&x!==_&&this!==_?x._isVisible(_):!0}shouldDrawHit(_,S=!1){if(_)return this._isVisible(_)&&this._isListening(_);var x=this.getLayer(),R=!1;s.DD._dragElements.forEach(I=>{I.dragStatus==="dragging"&&(I.node.nodeType==="Stage"||I.node.getLayer()===x)&&(R=!0)});var N=!S&&!n.Konva.hitOnDragEnabled&&R;return this.isListening()&&this.isVisible()&&!N}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var _=this.getDepth(),S=this,x=0,R,N,I,U;function j(H){for(R=[],N=H.length,I=0;I<N;I++)U=H[I],x++,U.nodeType!==g&&(R=R.concat(U.getChildren().slice())),U._id===S._id&&(I=N);R.length>0&&R[0].getDepth()<=_&&j(R)}const Q=this.getStage();return S.nodeType!==T&&Q&&j(Q.getChildren()),x}getDepth(){for(var _=0,S=this.parent;S;)_++,S=S.parent;return _}_batchTransformChanges(_){this._batchingTransformChange=!0,_(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(_){return this._batchTransformChanges(()=>{this.x(_.x),this.y(_.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const _=this.getStage();if(!_)return null;var S=_.getPointerPosition();if(!S)return null;var x=this.getAbsoluteTransform().copy();return x.invert(),x.point(S)}getAbsolutePosition(_){let S=!1,x=this.parent;for(;x;){if(x.isCached()){S=!0;break}x=x.parent}S&&!_&&(_=!0);var R=this.getAbsoluteTransform(_).getMatrix(),N=new t.Transform,I=this.offset();return N.m=R.slice(),N.translate(I.x,I.y),N.getTranslation()}setAbsolutePosition(_){const{x:S,y:x,...R}=this._clearTransform();this.attrs.x=S,this.attrs.y=x,this._clearCache(C);var N=this._getAbsoluteTransform().copy();return N.invert(),N.translate(_.x,_.y),_={x:this.attrs.x+N.getTranslation().x,y:this.attrs.y+N.getTranslation().y},this._setTransform(R),this.setPosition({x:_.x,y:_.y}),this._clearCache(C),this._clearSelfAndDescendantCache(l),this}_setTransform(_){var S;for(S in _)this.attrs[S]=_[S]}_clearTransform(){var _={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_}move(_){var S=_.x,x=_.y,R=this.x(),N=this.y();return S!==void 0&&(R+=S),x!==void 0&&(N+=x),this.setPosition({x:R,y:N}),this}_eachAncestorReverse(_,S){var x=[],R=this.getParent(),N,I;if(!(S&&S._id===this._id)){for(x.unshift(this);R&&(!S||R._id!==S._id);)x.unshift(R),R=R.parent;for(N=x.length,I=0;I<N;I++)_(x[I])}}rotate(_){return this.rotation(this.rotation()+_),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var _=this.index,S=this.parent.getChildren().length;return _<S-1?(this.parent.children.splice(_,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var _=this.index,S=this.parent.getChildren().length;return _<S-1?(this.parent.children.splice(_,1),this.parent.children.splice(_+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.splice(_-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(_){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(_<0||_>=this.parent.children.length)&&t.Util.warn("Unexpected value "+_+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var S=this.index;return this.parent.children.splice(S,1),this.parent.children.splice(_,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var _=this.opacity(),S=this.getParent();return S&&!S._isUnderCache&&(_*=S.getAbsoluteOpacity()),_}moveTo(_){return this.getParent()!==_&&(this._remove(),_.add(this)),this}toObject(){var _={},S=this.getAttrs(),x,R,N,I,U;_.attrs={};for(x in S)R=S[x],U=t.Util.isObject(R)&&!t.Util._isPlainObject(R)&&!t.Util._isArray(R),!U&&(N=typeof this[x]=="function"&&this[x],delete S[x],I=N?N.call(this):null,S[x]=R,I!==R&&(_.attrs[x]=R));return _.className=this.getClassName(),t.Util._prepareToStringify(_)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_,S,x){var R=[];S&&this._isMatch(_)&&R.push(this);for(var N=this.parent;N;){if(N===x)return R;N._isMatch(_)&&R.push(N),N=N.parent}return R}isAncestorOf(_){return!1}findAncestor(_,S,x){return this.findAncestors(_,S,x)[0]}_isMatch(_){if(!_)return!1;if(typeof _=="function")return _(this);var S=_.replace(/ /g,"").split(","),x=S.length,R,N;for(R=0;R<x;R++)if(N=S[R],t.Util.isValidSelector(N)||(t.Util.warn('Selector "'+N+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),N.charAt(0)==="#"){if(this.id()===N.slice(1))return!0}else if(N.charAt(0)==="."){if(this.hasName(N.slice(1)))return!0}else if(this.className===N||this.nodeType===N)return!0;return!1}getLayer(){var _=this.getParent();return _?_.getLayer():null}getStage(){return this._getCache(d,this._getStage)}_getStage(){var _=this.getParent();return _?_.getStage():null}fire(_,S={},x){return S.target=S.target||this,x?this._fireAndBubble(_,S):this._fire(_,S),this}getAbsoluteTransform(_){return _?this._getAbsoluteTransform(_):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(_){var S;if(_)return S=new t.Transform,this._eachAncestorReverse(function(R){var N=R.transformsEnabled();N==="all"?S.multiply(R.getTransform()):N==="position"&&S.translate(R.x()-R.offsetX(),R.y()-R.offsetY())},_),S;S=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(S):S.reset();var x=this.transformsEnabled();if(x==="all")S.multiply(this.getTransform());else if(x==="position"){const R=this.attrs.x||0,N=this.attrs.y||0,I=this.attrs.offsetX||0,U=this.attrs.offsetY||0;S.translate(R-I,N-U)}return S.dirty=!1,S}getAbsoluteScale(_){for(var S=this;S;)S._isUnderCache&&(_=S),S=S.getParent();const R=this.getAbsoluteTransform(_).decompose();return{x:R.scaleX,y:R.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var _,S,x=this._cache.get(C)||new t.Transform;x.reset();var R=this.x(),N=this.y(),I=n.Konva.getAngle(this.rotation()),U=(_=this.attrs.scaleX)!==null&&_!==void 0?_:1,j=(S=this.attrs.scaleY)!==null&&S!==void 0?S:1,Q=this.attrs.skewX||0,H=this.attrs.skewY||0,K=this.attrs.offsetX||0,J=this.attrs.offsetY||0;return(R!==0||N!==0)&&x.translate(R,N),I!==0&&x.rotate(I),(Q!==0||H!==0)&&x.skew(Q,H),(U!==1||j!==1)&&x.scale(U,j),(K!==0||J!==0)&&x.translate(-1*K,-1*J),x.dirty=!1,x}clone(_){var S=t.Util.cloneObject(this.attrs),x,R,N,I,U;for(x in _)S[x]=_[x];var j=new this.constructor(S);for(x in this.eventListeners)for(R=this.eventListeners[x],N=R.length,I=0;I<N;I++)U=R[I],U.name.indexOf(v)<0&&(j.eventListeners[x]||(j.eventListeners[x]=[]),j.eventListeners[x].push(U));return j}_toKonvaCanvas(_){_=_||{};var S=this.getClientRect(),x=this.getStage(),R=_.x!==void 0?_.x:Math.floor(S.x),N=_.y!==void 0?_.y:Math.floor(S.y),I=_.pixelRatio||1,U=new r.SceneCanvas({width:_.width||Math.ceil(S.width)||(x?x.width():0),height:_.height||Math.ceil(S.height)||(x?x.height():0),pixelRatio:I}),j=U.getContext();return _.imageSmoothingEnabled===!1&&(j._context.imageSmoothingEnabled=!1),j.save(),(R||N)&&j.translate(-1*R,-1*N),this.drawScene(U),j.restore(),U}toCanvas(_){return this._toKonvaCanvas(_)._canvas}toDataURL(_){_=_||{};var S=_.mimeType||null,x=_.quality||null,R=this._toKonvaCanvas(_).toDataURL(S,x);return _.callback&&_.callback(R),R}toImage(_){return new Promise((S,x)=>{try{const R=_==null?void 0:_.callback;R&&delete _.callback,t.Util._urlToImage(this.toDataURL(_),function(N){S(N),R==null||R(N)})}catch(R){x(R)}})}toBlob(_){return new Promise((S,x)=>{try{const R=_==null?void 0:_.callback;R&&delete _.callback,this.toCanvas(_).toBlob(N=>{S(N),R==null||R(N)})}catch(R){x(R)}})}setSize(_){return this.width(_.width),this.height(_.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(_,S,x){var R=this.eventListeners[_],N,I,U;for(N=0;N<R.length;N++)if(I=R[N].name,U=R[N].handler,(I!=="konva"||S==="konva")&&(!S||I===S)&&(!x||x===U)){if(R.splice(N,1),R.length===0){delete this.eventListeners[_];break}N--}}_fireChangeEvent(_,S,x){this._fire(_+f,{oldVal:S,newVal:x})}addName(_){if(!this.hasName(_)){var S=this.name(),x=S?S+" "+_:_;this.name(x)}return this}hasName(_){if(!_)return!1;const S=this.name();if(!S)return!1;var x=(S||"").split(/\s/g);return x.indexOf(_)!==-1}removeName(_){var S=(this.name()||"").split(/\s/g),x=S.indexOf(_);return x!==-1&&(S.splice(x,1),this.name(S.join(" "))),this}setAttr(_,S){var x=this[E+t.Util._capitalize(_)];return t.Util._isFunction(x)?x.call(this,S):this._setAttr(_,S),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const _=this.getLayer()||this.getStage();_==null||_.batchDraw()}}_setAttr(_,S){var x=this.attrs[_];x===S&&!t.Util.isObject(S)||(S==null?delete this.attrs[_]:this.attrs[_]=S,this._shouldFireChangeEvents&&this._fireChangeEvent(_,x,S),this._requestDraw())}_setComponentAttr(_,S,x){var R;x!==void 0&&(R=this.attrs[_],R||(this.attrs[_]=this.getAttr(_)),this.attrs[_][S]=x,this._fireChangeEvent(_,R,x))}_fireAndBubble(_,S,x){S&&this.nodeType===g&&(S.target=this);var R=(_===y||_===b)&&(x&&(this===x||this.isAncestorOf&&this.isAncestorOf(x))||this.nodeType==="Stage"&&!x);if(!R){this._fire(_,S);var N=(_===y||_===b)&&x&&x.isAncestorOf&&x.isAncestorOf(this)&&!x.isAncestorOf(this.parent);(S&&!S.cancelBubble||!S)&&this.parent&&this.parent.isListening()&&!N&&(x&&x.parent?this._fireAndBubble.call(this.parent,_,S,x):this._fireAndBubble.call(this.parent,_,S))}}_getProtoListeners(_){var S,x,R;const N=(S=this._cache.get(o))!==null&&S!==void 0?S:{};let I=N==null?void 0:N[_];if(I===void 0){I=[];let U=Object.getPrototypeOf(this);for(;U;){const j=(R=(x=U.eventListeners)===null||x===void 0?void 0:x[_])!==null&&R!==void 0?R:[];I.push(...j),U=Object.getPrototypeOf(U)}N[_]=I,this._cache.set(o,N)}return I}_fire(_,S){S=S||{},S.currentTarget=this,S.type=_;const x=this._getProtoListeners(_);if(x)for(var R=0;R<x.length;R++)x[R].handler.call(this,S);const N=this.eventListeners[_];if(N)for(var R=0;R<N.length;R++)N[R].handler.call(this,S)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_){var S=_?_.pointerId:void 0,x=this.getStage(),R=this.getAbsolutePosition();if(x){var N=x._getPointerById(S)||x._changedPointerPositions[0]||R;s.DD._dragElements.set(this._id,{node:this,startPointerPos:N,offset:{x:N.x-R.x,y:N.y-R.y},dragStatus:"ready",pointerId:S})}}startDrag(_,S=!0){s.DD._dragElements.has(this._id)||this._createDragElement(_);const x=s.DD._dragElements.get(this._id);x.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_&&_.evt},S)}_setDragPosition(_,S){const x=this.getStage()._getPointerById(S.pointerId);if(x){var R={x:x.x-S.offset.x,y:x.y-S.offset.y},N=this.dragBoundFunc();if(N!==void 0){const I=N.call(this,R,_);I?R=I:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==R.x||this._lastPos.y!==R.y)&&(this.setAbsolutePosition(R),this._requestDraw()),this._lastPos=R}}stopDrag(_){const S=s.DD._dragElements.get(this._id);S&&(S.dragStatus="stopped"),s.DD._endDragBefore(_),s.DD._endDragAfter(_)}setDraggable(_){this._setAttr("draggable",_),this._dragChange()}isDragging(){const _=s.DD._dragElements.get(this._id);return _?_.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_){var S=_.evt.button!==void 0,x=!S||n.Konva.dragButtons.indexOf(_.evt.button)>=0;if(x&&!this.isDragging()){var R=!1;s.DD._dragElements.forEach(N=>{this.isAncestorOf(N.node)&&(R=!0)}),R||this._createDragElement(_)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var _=this.getStage();if(!_)return;const S=s.DD._dragElements.get(this._id),x=S&&S.dragStatus==="dragging",R=S&&S.dragStatus==="ready";x?this.stopDrag():R&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_={x:0,y:0}){const S=this.getStage();if(!S)return!1;const x={x:-_.x,y:-_.y,width:S.width()+2*_.x,height:S.height()+2*_.y};return t.Util.haveIntersection(x,this.getClientRect())}static create(_,S){return t.Util._isString(_)&&(_=JSON.parse(_)),this._createNode(_,S)}static _createNode(_,S){var x=Js.prototype.getClassName.call(_),R=_.children,N,I,U;S&&(_.attrs.container=S),n.Konva[x]||(t.Util.warn('Can not find a node with class name "'+x+'". Fallback to "Shape".'),x="Shape");const j=n.Konva[x];if(N=new j(_.attrs),R)for(I=R.length,U=0;U<I;U++)N.add(Js._createNode(R[U]));return N}};Lr.Node=P,P.prototype.nodeType="Node",P.prototype._attrsAffectingSize=[],P.prototype.eventListeners={},P.prototype.on.call(P.prototype,w,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(l)}),P.prototype.on.call(P.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(M)}),P.prototype.on.call(P.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),P.prototype.on.call(P.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const F=e.Factory.addGetterSetter;return F(P,"zIndex"),F(P,"absolutePosition"),F(P,"position"),F(P,"x",0,(0,i.getNumberValidator)()),F(P,"y",0,(0,i.getNumberValidator)()),F(P,"globalCompositeOperation","source-over",(0,i.getStringValidator)()),F(P,"opacity",1,(0,i.getNumberValidator)()),F(P,"name","",(0,i.getStringValidator)()),F(P,"id","",(0,i.getStringValidator)()),F(P,"rotation",0,(0,i.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"scale",["x","y"]),F(P,"scaleX",1,(0,i.getNumberValidator)()),F(P,"scaleY",1,(0,i.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"skew",["x","y"]),F(P,"skewX",0,(0,i.getNumberValidator)()),F(P,"skewY",0,(0,i.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"offset",["x","y"]),F(P,"offsetX",0,(0,i.getNumberValidator)()),F(P,"offsetY",0,(0,i.getNumberValidator)()),F(P,"dragDistance",null,(0,i.getNumberValidator)()),F(P,"width",0,(0,i.getNumberValidator)()),F(P,"height",0,(0,i.getNumberValidator)()),F(P,"listening",!0,(0,i.getBooleanValidator)()),F(P,"preventDefault",!0,(0,i.getBooleanValidator)()),F(P,"filters",null,function(D){return this._filterUpToDate=!1,D}),F(P,"visible",!0,(0,i.getBooleanValidator)()),F(P,"transformsEnabled","all",(0,i.getStringValidator)()),F(P,"size"),F(P,"dragBoundFunc"),F(P,"draggable",!1,(0,i.getBooleanValidator)()),e.Factory.backCompat(P,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Lr}var Ir={},cl;function ns(){if(cl)return Ir;cl=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Container=void 0;const t=ft(),e=Rt(),r=gt();let n=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const a=this.children||[];var o=[];return a.forEach(function(l){i(l)&&o.push(l)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(var a=0;a<i.length;a++)this.add(i[a]);return this}const o=i[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){var a=this._generalFind(i,!0);return a.length>0?a[0]:void 0}_generalFind(i,a){var o=[];return this._descendants(l=>{const u=l._isMatch(i);return u&&o.push(l),!!(u&&a)}),o}_descendants(i){let a=!1;const o=this.getChildren();for(const l of o){if(a=i(l),a)return!0;if(l.hasChildren()&&(a=l._descendants(i),a))return!0}return!1}toObject(){var i=e.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(a=>{i.children.push(a.toObject())}),i}isAncestorOf(i){for(var a=i.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(i){var a=e.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(o){a.add(o.clone())}),a}getAllIntersections(i){var a=[];return this.find("Shape").forEach(o=>{o.isVisible()&&o.intersects(i)&&a.push(o)}),a}_clearSelfAndDescendantCache(i){var a;super._clearSelfAndDescendantCache(i),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(o){o._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(a,o){a.index=o}),this._requestDraw()}drawScene(i,a){var o=this.getLayer(),l=i||o&&o.getCanvas(),u=l&&l.getContext(),h=this._getCanvasCache(),f=h&&h.scene,p=l&&l.isCache;if(!this.isVisible()&&!p)return this;if(f){u.save();var v=this.getAbsoluteTransform(a).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,a);return this}drawHit(i,a){if(!this.shouldDrawHit(a))return this;var o=this.getLayer(),l=i||o&&o.hitCanvas,u=l&&l.getContext(),h=this._getCanvasCache(),f=h&&h.hit;if(f){u.save();var p=this.getAbsoluteTransform(a).getMatrix();u.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,a);return this}_drawChildren(i,a,o){var l,u=a&&a.getContext(),h=this.clipWidth(),f=this.clipHeight(),p=this.clipFunc(),v=h&&f||p;const m=o===this;if(v){u.save();var y=this.getAbsoluteTransform(o),b=y.getMatrix();u.transform(b[0],b[1],b[2],b[3],b[4],b[5]),u.beginPath();let d;if(p)d=p.call(this,u,this);else{var E=this.clipX(),g=this.clipY();u.rect(E,g,h,f)}u.clip.apply(u,d),b=y.copy().invert().getMatrix(),u.transform(b[0],b[1],b[2],b[3],b[4],b[5])}var c=!m&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";c&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(d){d[i](a,o)}),c&&u.restore(),v&&u.restore()}getClientRect(i={}){var a,o=i.skipTransform,l=i.relativeTo,u,h,f,p,v={x:1/0,y:1/0,width:0,height:0},m=this;(a=this.children)===null||a===void 0||a.forEach(function(c){if(c.visible()){var d=c.getClientRect({relativeTo:m,skipShadow:i.skipShadow,skipStroke:i.skipStroke});d.width===0&&d.height===0||(u===void 0?(u=d.x,h=d.y,f=d.x+d.width,p=d.y+d.height):(u=Math.min(u,d.x),h=Math.min(h,d.y),f=Math.max(f,d.x+d.width),p=Math.max(p,d.y+d.height)))}});for(var y=this.find("Shape"),b=!1,E=0;E<y.length;E++){var g=y[E];if(g._isVisible(this)){b=!0;break}}return b&&u!==void 0?v={x:u,y:h,width:f-u,height:p-h}:v={x:0,y:0,width:0,height:0},o?v:this._transformedRect(v,l)}};return Ir.Container=n,t.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(n,"clipX",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipY",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipWidth",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipHeight",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipFunc"),Ir}var Ss={},zt={},ul;function ah(){if(ul)return zt;ul=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.releaseCapture=zt.setPointerCapture=zt.hasPointerCapture=zt.createEvent=zt.getCapturedShape=void 0;const t=dt(),e=new Map,r=t.Konva._global.PointerEvent!==void 0;function n(l){return e.get(l)}zt.getCapturedShape=n;function s(l){return{evt:l,pointerId:l.pointerId}}zt.createEvent=s;function i(l,u){return e.get(l)===u}zt.hasPointerCapture=i;function a(l,u){o(l),u.getStage()&&(e.set(l,u),r&&u._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}zt.setPointerCapture=a;function o(l,u){const h=e.get(l);if(!h)return;const f=h.getStage();f&&f.content,e.delete(l),r&&h._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return zt.releaseCapture=o,zt}var hl;function Cg(){return hl||(hl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Tt(),r=ft(),n=ns(),s=dt(),i=rs(),a=La(),o=dt(),l=ah();var u="Stage",h="string",f="px",p="mouseout",v="mouseleave",m="mouseover",y="mouseenter",b="mousemove",E="mousedown",g="mouseup",c="pointermove",d="pointerdown",C="pointerup",T="pointercancel",M="lostpointercapture",w="pointerout",A="pointerleave",P="pointerover",F="pointerenter",D="contextmenu",_="touchstart",S="touchend",x="touchmove",R="touchcancel",N="wheel",I=5,U=[[y,"_pointerenter"],[E,"_pointerdown"],[b,"_pointermove"],[g,"_pointerup"],[v,"_pointerleave"],[_,"_pointerdown"],[x,"_pointermove"],[S,"_pointerup"],[R,"_pointercancel"],[m,"_pointerover"],[N,"_wheel"],[D,"_contextmenu"],[d,"_pointerdown"],[c,"_pointermove"],[C,"_pointerup"],[T,"_pointercancel"],[M,"_lostpointercapture"]];const j={mouse:{[w]:p,[A]:v,[P]:m,[F]:y,[c]:b,[d]:E,[C]:g,[T]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[A]:"touchleave",[P]:"touchover",[F]:"touchenter",[c]:x,[d]:_,[C]:S,[T]:R,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[A]:A,[P]:P,[F]:F,[c]:c,[d]:d,[C]:C,[T]:T,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Q=nt=>nt.indexOf("pointer")>=0?"pointer":nt.indexOf("touch")>=0?"touch":"mouse",H=nt=>{const O=Q(nt);if(O==="pointer")return s.Konva.pointerEventsEnabled&&j.pointer;if(O==="touch")return j.touch;if(O==="mouse")return j.mouse};function K(nt={}){return(nt.clipFunc||nt.clipWidth||nt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),nt}const J="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class rt extends n.Container{constructor(O){super(K(O)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{K(this.attrs)}),this._checkVisibility()}_validateAdd(O){const G=O.getType()==="Layer",V=O.getType()==="FastLayer";G||V||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const O=this.visible()?"":"none";this.content.style.display=O}setContainer(O){if(typeof O===h){if(O.charAt(0)==="."){var G=O.slice(1);O=document.getElementsByClassName(G)[0]}else{var V;O.charAt(0)!=="#"?V=O:V=O.slice(1),O=document.getElementById(V)}if(!O)throw"Can not find container in document with id "+V}return this._setAttr("container",O),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),O.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var O=this.children,G=O.length,V;for(V=0;V<G;V++)O[V].clear();return this}clone(O){return O||(O={}),O.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,O)}destroy(){super.destroy();var O=this.content;O&&e.Util._isInDocument(O)&&this.container().removeChild(O);var G=t.stages.indexOf(this);return G>-1&&t.stages.splice(G,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const O=this._pointerPositions[0]||this._changedPointerPositions[0];return O?{x:O.x,y:O.y}:(e.Util.warn(J),null)}_getPointerById(O){return this._pointerPositions.find(G=>G.id===O)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(O){O=O||{},O.x=O.x||0,O.y=O.y||0,O.width=O.width||this.width(),O.height=O.height||this.height();var G=new i.SceneCanvas({width:O.width,height:O.height,pixelRatio:O.pixelRatio||1}),V=G.getContext()._context,Y=this.children;return(O.x||O.y)&&V.translate(-1*O.x,-1*O.y),Y.forEach(function(et){if(et.isVisible()){var k=et._toKonvaCanvas(O);V.drawImage(k._canvas,O.x,O.y,k.getWidth()/k.getPixelRatio(),k.getHeight()/k.getPixelRatio())}}),G}getIntersection(O){if(!O)return null;var G=this.children,V=G.length,Y=V-1,et;for(et=Y;et>=0;et--){const k=G[et].getIntersection(O);if(k)return k}return null}_resizeDOM(){var O=this.width(),G=this.height();this.content&&(this.content.style.width=O+f,this.content.style.height=G+f),this.bufferCanvas.setSize(O,G),this.bufferHitCanvas.setSize(O,G),this.children.forEach(V=>{V.setSize({width:O,height:G}),V.draw()})}add(O,...G){if(arguments.length>1){for(var V=0;V<arguments.length;V++)this.add(arguments[V]);return this}super.add(O);var Y=this.children.length;return Y>I&&e.Util.warn("The stage has "+Y+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),O.setSize({width:this.width(),height:this.height()}),O.draw(),s.Konva.isBrowser&&this.content.appendChild(O.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(O){return l.hasPointerCapture(O,this)}setPointerCapture(O){l.setPointerCapture(O,this)}releaseCapture(O){l.releaseCapture(O,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&U.forEach(([O,G])=>{this.content.addEventListener(O,V=>{this[G](V)},{passive:!1})})}_pointerenter(O){this.setPointersPositions(O);const G=H(O.type);G&&this._fire(G.pointerenter,{evt:O,target:this,currentTarget:this})}_pointerover(O){this.setPointersPositions(O);const G=H(O.type);G&&this._fire(G.pointerover,{evt:O,target:this,currentTarget:this})}_getTargetShape(O){let G=this[O+"targetShape"];return G&&!G.getStage()&&(G=null),G}_pointerleave(O){const G=H(O.type),V=Q(O.type);if(G){this.setPointersPositions(O);var Y=this._getTargetShape(V),et=!a.DD.isDragging||s.Konva.hitOnDragEnabled;Y&&et?(Y._fireAndBubble(G.pointerout,{evt:O}),Y._fireAndBubble(G.pointerleave,{evt:O}),this._fire(G.pointerleave,{evt:O,target:this,currentTarget:this}),this[V+"targetShape"]=null):et&&(this._fire(G.pointerleave,{evt:O,target:this,currentTarget:this}),this._fire(G.pointerout,{evt:O,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(O){const G=H(O.type),V=Q(O.type);if(G){this.setPointersPositions(O);var Y=!1;this._changedPointerPositions.forEach(et=>{var k=this.getIntersection(et);if(a.DD.justDragged=!1,s.Konva["_"+V+"ListenClick"]=!0,!k||!k.isListening())return;s.Konva.capturePointerEventsEnabled&&k.setPointerCapture(et.id),this[V+"ClickStartShape"]=k,k._fireAndBubble(G.pointerdown,{evt:O,pointerId:et.id}),Y=!0;const L=O.type.indexOf("touch")>=0;k.preventDefault()&&O.cancelable&&L&&O.preventDefault()}),Y||this._fire(G.pointerdown,{evt:O,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(O){const G=H(O.type),V=Q(O.type);if(!G)return;a.DD.isDragging&&a.DD.node.preventDefault()&&O.cancelable&&O.preventDefault(),this.setPointersPositions(O);var Y=!a.DD.isDragging||s.Konva.hitOnDragEnabled;if(!Y)return;var et={};let k=!1;var L=this._getTargetShape(V);this._changedPointerPositions.forEach(B=>{const q=l.getCapturedShape(B.id)||this.getIntersection(B),W=B.id,$={evt:O,pointerId:W};var tt=L!==q;if(tt&&L&&(L._fireAndBubble(G.pointerout,{...$},q),L._fireAndBubble(G.pointerleave,{...$},q)),q){if(et[q._id])return;et[q._id]=!0}q&&q.isListening()?(k=!0,tt&&(q._fireAndBubble(G.pointerover,{...$},L),q._fireAndBubble(G.pointerenter,{...$},L),this[V+"targetShape"]=q),q._fireAndBubble(G.pointermove,{...$})):L&&(this._fire(G.pointerover,{evt:O,target:this,currentTarget:this,pointerId:W}),this[V+"targetShape"]=null)}),k||this._fire(G.pointermove,{evt:O,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(O){const G=H(O.type),V=Q(O.type);if(!G)return;this.setPointersPositions(O);const Y=this[V+"ClickStartShape"],et=this[V+"ClickEndShape"];var k={};let L=!1;this._changedPointerPositions.forEach(B=>{const q=l.getCapturedShape(B.id)||this.getIntersection(B);if(q){if(q.releaseCapture(B.id),k[q._id])return;k[q._id]=!0}const W=B.id,$={evt:O,pointerId:W};let tt=!1;s.Konva["_"+V+"InDblClickWindow"]?(tt=!0,clearTimeout(this[V+"DblTimeout"])):a.DD.justDragged||(s.Konva["_"+V+"InDblClickWindow"]=!0,clearTimeout(this[V+"DblTimeout"])),this[V+"DblTimeout"]=setTimeout(function(){s.Konva["_"+V+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),q&&q.isListening()?(L=!0,this[V+"ClickEndShape"]=q,q._fireAndBubble(G.pointerup,{...$}),s.Konva["_"+V+"ListenClick"]&&Y&&Y===q&&(q._fireAndBubble(G.pointerclick,{...$}),tt&&et&&et===q&&q._fireAndBubble(G.pointerdblclick,{...$}))):(this[V+"ClickEndShape"]=null,s.Konva["_"+V+"ListenClick"]&&this._fire(G.pointerclick,{evt:O,target:this,currentTarget:this,pointerId:W}),tt&&this._fire(G.pointerdblclick,{evt:O,target:this,currentTarget:this,pointerId:W}))}),L||this._fire(G.pointerup,{evt:O,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+V+"ListenClick"]=!1,O.cancelable&&V!=="touch"&&O.preventDefault()}_contextmenu(O){this.setPointersPositions(O);var G=this.getIntersection(this.getPointerPosition());G&&G.isListening()?G._fireAndBubble(D,{evt:O}):this._fire(D,{evt:O,target:this,currentTarget:this})}_wheel(O){this.setPointersPositions(O);var G=this.getIntersection(this.getPointerPosition());G&&G.isListening()?G._fireAndBubble(N,{evt:O}):this._fire(N,{evt:O,target:this,currentTarget:this})}_pointercancel(O){this.setPointersPositions(O);const G=l.getCapturedShape(O.pointerId)||this.getIntersection(this.getPointerPosition());G&&G._fireAndBubble(C,l.createEvent(O)),l.releaseCapture(O.pointerId)}_lostpointercapture(O){l.releaseCapture(O.pointerId)}setPointersPositions(O){var G=this._getContentPosition(),V=null,Y=null;O=O||window.event,O.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(O.touches,et=>{this._pointerPositions.push({id:et.identifier,x:(et.clientX-G.left)/G.scaleX,y:(et.clientY-G.top)/G.scaleY})}),Array.prototype.forEach.call(O.changedTouches||O.touches,et=>{this._changedPointerPositions.push({id:et.identifier,x:(et.clientX-G.left)/G.scaleX,y:(et.clientY-G.top)/G.scaleY})})):(V=(O.clientX-G.left)/G.scaleX,Y=(O.clientY-G.top)/G.scaleY,this.pointerPos={x:V,y:Y},this._pointerPositions=[{x:V,y:Y,id:e.Util._getFirstPointerId(O)}],this._changedPointerPositions=[{x:V,y:Y,id:e.Util._getFirstPointerId(O)}])}_setPointerPosition(O){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(O)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var O=this.content.getBoundingClientRect();return{top:O.top,left:O.left,scaleX:O.width/this.content.clientWidth||1,scaleY:O.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!s.Konva.isBrowser){var O=this.container();if(!O)throw"Stage has no container. A container is required.";O.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),O.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(O){O.batchDraw()}),this}}t.Stage=rt,rt.prototype.nodeType=u,(0,o._registerNode)(rt),r.Factory.addGetterSetter(rt,"container")}(Ss)),Ss}var Gr={},ws={},fl;function Nt(){return fl||(fl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=dt(),r=Tt(),n=ft(),s=Rt(),i=gt(),a=dt(),o=ah();var l="hasShadow",u="shadowRGBA",h="patternImage",f="linearGradient",p="radialGradient";let v;function m(){return v||(v=r.Util.createCanvasElement().getContext("2d"),v)}t.shapes={};function y(A){const P=this.attrs.fillRule;P?A.fill(P):A.fill()}function b(A){A.stroke()}function E(A){A.fill()}function g(A){A.stroke()}function c(){this._clearCache(l)}function d(){this._clearCache(u)}function C(){this._clearCache(h)}function T(){this._clearCache(f)}function M(){this._clearCache(p)}class w extends s.Node{constructor(P){super(P);let F;for(;F=r.Util.getRandomColor(),!(F&&!(F in t.shapes)););this.colorKey=F,t.shapes[F]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var P=m();const F=P.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(F&&F.setTransform){const D=new r.Transform;D.translate(this.fillPatternX(),this.fillPatternY()),D.rotate(e.Konva.getAngle(this.fillPatternRotation())),D.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),D.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const _=D.getMatrix(),S=typeof DOMMatrix>"u"?{a:_[0],b:_[1],c:_[2],d:_[3],e:_[4],f:_[5]}:new DOMMatrix(_);F.setTransform(S)}return F}}_getLinearGradient(){return this._getCache(f,this.__getLinearGradient)}__getLinearGradient(){var P=this.fillLinearGradientColorStops();if(P){for(var F=m(),D=this.fillLinearGradientStartPoint(),_=this.fillLinearGradientEndPoint(),S=F.createLinearGradient(D.x,D.y,_.x,_.y),x=0;x<P.length;x+=2)S.addColorStop(P[x],P[x+1]);return S}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){var P=this.fillRadialGradientColorStops();if(P){for(var F=m(),D=this.fillRadialGradientStartPoint(),_=this.fillRadialGradientEndPoint(),S=F.createRadialGradient(D.x,D.y,this.fillRadialGradientStartRadius(),_.x,_.y,this.fillRadialGradientEndRadius()),x=0;x<P.length;x+=2)S.addColorStop(P[x],P[x+1]);return S}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var P=r.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){var F=this.getStage();if(!F)return!1;const D=F.bufferHitCanvas;return D.getContext().clear(),this.drawHit(D,void 0,!0),D.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var F;if(!this.getStage()||!((F=this.attrs.perfectDrawEnabled)!==null&&F!==void 0?F:!0))return!1;const _=P||this.hasFill(),S=this.hasStroke(),x=this.getAbsoluteOpacity()!==1;if(_&&S&&x)return!0;const R=this.hasShadow(),N=this.shadowForStrokeEnabled();return!!(_&&S&&R&&N)}setStrokeHitEnabled(P){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){const F=P.skipTransform,D=P.relativeTo,_=this.getSelfRect(),x=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,R=_.width+x,N=_.height+x,I=!P.skipShadow&&this.hasShadow(),U=I?this.shadowOffsetX():0,j=I?this.shadowOffsetY():0,Q=R+Math.abs(U),H=N+Math.abs(j),K=I&&this.shadowBlur()||0,J=Q+K*2,rt=H+K*2,nt={width:J,height:rt,x:-(x/2+K)+Math.min(U,0)+_.x,y:-(x/2+K)+Math.min(j,0)+_.y};return F?nt:this._transformedRect(nt,D)}drawScene(P,F){var D=this.getLayer(),_=P||D.getCanvas(),S=_.getContext(),x=this._getCanvasCache(),R=this.getSceneFunc(),N=this.hasShadow(),I,U,j,Q=_.isCache,H=F===this;if(!this.isVisible()&&!H)return this;if(x){S.save();var K=this.getAbsoluteTransform(F).getMatrix();return S.transform(K[0],K[1],K[2],K[3],K[4],K[5]),this._drawCachedSceneCanvas(S),S.restore(),this}if(!R)return this;if(S.save(),this._useBufferCanvas()&&!Q){I=this.getStage(),U=I.bufferCanvas,j=U.getContext(),j.clear(),j.save(),j._applyLineJoin(this);var J=this.getAbsoluteTransform(F).getMatrix();j.transform(J[0],J[1],J[2],J[3],J[4],J[5]),R.call(this,j,this),j.restore();var rt=U.pixelRatio;N&&S._applyShadow(this),S._applyOpacity(this),S._applyGlobalCompositeOperation(this),S.drawImage(U._canvas,0,0,U.width/rt,U.height/rt)}else{if(S._applyLineJoin(this),!H){var J=this.getAbsoluteTransform(F).getMatrix();S.transform(J[0],J[1],J[2],J[3],J[4],J[5]),S._applyOpacity(this),S._applyGlobalCompositeOperation(this)}N&&S._applyShadow(this),R.call(this,S,this)}return S.restore(),this}drawHit(P,F,D=!1){if(!this.shouldDrawHit(F,D))return this;var _=this.getLayer(),S=P||_.hitCanvas,x=S&&S.getContext(),R=this.hitFunc()||this.sceneFunc(),N=this._getCanvasCache(),I=N&&N.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){x.save();var U=this.getAbsoluteTransform(F).getMatrix();return x.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(x),x.restore(),this}if(!R)return this;if(x.save(),x._applyLineJoin(this),!(this===F)){var Q=this.getAbsoluteTransform(F).getMatrix();x.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}return R.call(this,x,this),x.restore(),this}drawHitFromCache(P=0){var F=this._getCanvasCache(),D=this._getCachedSceneCanvas(),_=F.hit,S=_.getContext(),x=_.getWidth(),R=_.getHeight(),N,I,U,j,Q,H;S.clear(),S.drawImage(D._canvas,0,0,x,R);try{for(N=S.getImageData(0,0,x,R),I=N.data,U=I.length,j=r.Util._hexToRgb(this.colorKey),Q=0;Q<U;Q+=4)H=I[Q+3],H>P?(I[Q]=j.r,I[Q+1]=j.g,I[Q+2]=j.b,I[Q+3]=255):I[Q+3]=0;S.putImageData(N,0,0)}catch(K){r.Util.error("Unable to draw hit graph from cached scene canvas. "+K.message)}return this}hasPointerCapture(P){return o.hasPointerCapture(P,this)}setPointerCapture(P){o.setPointerCapture(P,this)}releaseCapture(P){o.releaseCapture(P,this)}}t.Shape=w,w.prototype._fillFunc=y,w.prototype._strokeFunc=b,w.prototype._fillFuncHit=E,w.prototype._strokeFuncHit=g,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,a._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",d),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",T),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),n.Factory.addGetterSetter(w,"stroke",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(w,"strokeWidth",2,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(w,"lineJoin"),n.Factory.addGetterSetter(w,"lineCap"),n.Factory.addGetterSetter(w,"sceneFunc"),n.Factory.addGetterSetter(w,"hitFunc"),n.Factory.addGetterSetter(w,"dash"),n.Factory.addGetterSetter(w,"dashOffset",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowColor",void 0,(0,i.getStringValidator)()),n.Factory.addGetterSetter(w,"shadowBlur",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowOpacity",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternImage"),n.Factory.addGetterSetter(w,"fill",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(w,"fillPatternX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(w,"fillEnabled",!0),n.Factory.addGetterSetter(w,"strokeEnabled",!0),n.Factory.addGetterSetter(w,"shadowEnabled",!0),n.Factory.addGetterSetter(w,"dashEnabled",!0),n.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(w,"fillPriority","color"),n.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(w,"fillPatternRotation",0),n.Factory.addGetterSetter(w,"fillRule",void 0,(0,i.getStringValidator)()),n.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(ws)),ws}var dl;function oh(){if(dl)return Gr;dl=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Layer=void 0;const t=Tt(),e=ns(),r=Rt(),n=ft(),s=rs(),i=gt(),a=Nt(),o=dt();var l="#",u="beforeDraw",h="draw",f=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=f.length;let v=class extends e.Container{constructor(y){super(y),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),y<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[y+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=r.Node.prototype.moveUp.call(this);if(!y)return!1;var b=this.getStage();return!b||!b.content?!1:(b.content.removeChild(this.getNativeCanvasElement()),this.index<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var b=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),b[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var b=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),b[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:b}){return this.canvas.setSize(y,b),this.hitCanvas.setSize(y,b),this._setSmoothEnabled(),this}_validateAdd(y){var b=y.getType();b!=="Group"&&b!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var b=1,E=!1;;){for(let g=0;g<p;g++){const c=f[g],d=this._getIntersection({x:y.x+c.x*b,y:y.y+c.y*b}),C=d.shape;if(C)return C;if(E=!!d.antialiased,!d.antialiased)break}if(E)b+=1;else return null}}_getIntersection(y){const b=this.hitCanvas.pixelRatio,E=this.hitCanvas.context.getImageData(Math.round(y.x*b),Math.round(y.y*b),1,1).data,g=E[3];if(g===255){const c=t.Util._rgbToHex(E[0],E[1],E[2]),d=a.shapes[l+c];return d?{shape:d}:{antialiased:!0}}else if(g>0)return{antialiased:!0};return{}}drawScene(y,b){var E=this.getLayer(),g=y||E&&E.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&g.getContext().clear(),e.Container.prototype.drawScene.call(this,g,b),this._fire(h,{node:this}),this}drawHit(y,b){var E=this.getLayer(),g=y||E&&E.hitCanvas;return E&&E.clearBeforeDraw()&&E.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,g,b),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,b=!!this.hitCanvas._canvas.parentNode;b?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Gr.Layer=v,v.prototype.nodeType="Layer",(0,o._registerNode)(v),n.Factory.addGetterSetter(v,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(v,"clearBeforeDraw",!0),n.Factory.addGetterSetter(v,"hitGraphEnabled",!0,(0,i.getBooleanValidator)()),Gr}var Ur={},gl;function Sg(){if(gl)return Ur;gl=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.FastLayer=void 0;const t=Tt(),e=oh(),r=dt();let n=class extends e.Layer{constructor(i){super(i),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Ur.FastLayer=n,n.prototype.nodeType="FastLayer",(0,r._registerNode)(n),Ur}var Br={},pl;function Ia(){if(pl)return Br;pl=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Group=void 0;const t=Tt(),e=ns(),r=dt();let n=class extends e.Container{_validateAdd(i){var a=i.getType();a!=="Group"&&a!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Br.Group=n,n.prototype.nodeType="Group",(0,r._registerNode)(n),Br}var Vr={},vl;function Ga(){if(vl)return Vr;vl=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Animation=void 0;const t=dt(),e=Tt(),r=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class fr{constructor(i,a){this.id=fr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=i,this.setLayers(a)}setLayers(i){let a=[];return i&&(a=Array.isArray(i)?i:[i]),this.layers=a,this}getLayers(){return this.layers}addLayer(i){const a=this.layers,o=a.length;for(let l=0;l<o;l++)if(a[l]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){const a=fr.animations,o=a.length;for(let l=0;l<o;l++)if(a[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),fr._addAnimation(this),this}stop(){return fr._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){const a=i.id,o=this.animations,l=o.length;for(let u=0;u<l;u++)if(o[u].id===a){this.animations.splice(u,1);break}}static _runFrames(){const i={},a=this.animations;for(let o=0;o<a.length;o++){const l=a[o],u=l.layers,h=l.func;l._updateFrameObject(r());const f=u.length;let p;if(h?p=h.call(l,l.frame)!==!1:p=!0,!!p)for(let v=0;v<f;v++){const m=u[v];m._id!==void 0&&(i[m._id]=m)}}for(let o in i)i.hasOwnProperty(o)&&i[o].batchDraw()}static _animationLoop(){const i=fr;i.animations.length?(i._runFrames(),e.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Vr.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,Vr}var Ps={},ml;function wg(){return ml||(ml=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Tt(),r=Ga(),n=Rt(),s=dt();var i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,u=0,h=["fill","stroke","shadowColor"];class f{constructor(m,y,b,E,g,c,d){this.prop=m,this.propFunc=y,this.begin=E,this._pos=E,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=g-this.begin,this.pause()}fire(m){var y=this[m];y&&y()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var m=this.getTimer()-this._startTime;this.state===o?this.setTime(m):this.state===l&&this.setTime(this.duration-m)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(m){var y=this,b=m.node,E=b._id,g,c=m.easing||t.Easings.Linear,d=!!m.yoyo,C;typeof m.duration>"u"?g=.3:m.duration===0?g=.001:g=m.duration,this.node=b,this._id=u++;var T=b.getLayer()||(b instanceof s.Konva.Stage?b.getLayers():null);T||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},T),this.tween=new f(C,function(M){y._tweenFunc(M)},c,0,1,g*1e3,d),this._addListeners(),p.attrs[E]||(p.attrs[E]={}),p.attrs[E][this._id]||(p.attrs[E][this._id]={}),p.tweens[E]||(p.tweens[E]={});for(C in m)i[C]===void 0&&this._addAttr(C,m[C]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,y){var b=this.node,E=b._id,g,c,d,C,T,M,w,A;if(d=p.tweens[E][m],d&&delete p.attrs[E][d][m],g=b.getAttr(m),e.Util._isArray(y))if(c=[],T=Math.max(y.length,g.length),m==="points"&&y.length!==g.length&&(y.length>g.length?(w=g,g=e.Util._prepareArrayForTween(g,y,b.closed())):(M=y,y=e.Util._prepareArrayForTween(y,g,b.closed()))),m.indexOf("fill")===0)for(C=0;C<T;C++)if(C%2===0)c.push(y[C]-g[C]);else{var P=e.Util.colorToRGBA(g[C]);A=e.Util.colorToRGBA(y[C]),g[C]=P,c.push({r:A.r-P.r,g:A.g-P.g,b:A.b-P.b,a:A.a-P.a})}else for(C=0;C<T;C++)c.push(y[C]-g[C]);else h.indexOf(m)!==-1?(g=e.Util.colorToRGBA(g),A=e.Util.colorToRGBA(y),c={r:A.r-g.r,g:A.g-g.g,b:A.b-g.b,a:A.a-g.a}):c=y-g;p.attrs[E][this._id][m]={start:g,diff:c,end:y,trueEnd:M,trueStart:w},p.tweens[E][m]=this._id}_tweenFunc(m){var y=this.node,b=p.attrs[y._id][this._id],E,g,c,d,C,T,M,w;for(E in b){if(g=b[E],c=g.start,d=g.diff,w=g.end,e.Util._isArray(c))if(C=[],M=Math.max(c.length,w.length),E.indexOf("fill")===0)for(T=0;T<M;T++)T%2===0?C.push((c[T]||0)+d[T]*m):C.push("rgba("+Math.round(c[T].r+d[T].r*m)+","+Math.round(c[T].g+d[T].g*m)+","+Math.round(c[T].b+d[T].b*m)+","+(c[T].a+d[T].a*m)+")");else for(T=0;T<M;T++)C.push((c[T]||0)+d[T]*m);else h.indexOf(E)!==-1?C="rgba("+Math.round(c.r+d.r*m)+","+Math.round(c.g+d.g*m)+","+Math.round(c.b+d.b*m)+","+(c.a+d.a*m)+")":C=c+d*m;y.setAttr(E,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var m=this.node,y=p.attrs[m._id][this._id];y.points&&y.points.trueEnd&&m.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var m=this.node,y=p.attrs[m._id][this._id];y.points&&y.points.trueStart&&m.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var m=this.node._id,y=this._id,b=p.tweens[m],E;this.pause();for(E in b)delete p.tweens[m][E];delete p.attrs[m][y]}}t.Tween=p,p.attrs={},p.tweens={},n.Node.prototype.to=function(v){var m=v.onFinish;v.node=this,v.onFinish=function(){this.destroy(),m&&m()};var y=new p(v);y.play()},t.Easings={BackEaseIn(v,m,y,b){var E=1.70158;return y*(v/=b)*v*((E+1)*v-E)+m},BackEaseOut(v,m,y,b){var E=1.70158;return y*((v=v/b-1)*v*((E+1)*v+E)+1)+m},BackEaseInOut(v,m,y,b){var E=1.70158;return(v/=b/2)<1?y/2*(v*v*(((E*=1.525)+1)*v-E))+m:y/2*((v-=2)*v*(((E*=1.525)+1)*v+E)+2)+m},ElasticEaseIn(v,m,y,b,E,g){var c=0;return v===0?m:(v/=b)===1?m+y:(g||(g=b*.3),!E||E<Math.abs(y)?(E=y,c=g/4):c=g/(2*Math.PI)*Math.asin(y/E),-(E*Math.pow(2,10*(v-=1))*Math.sin((v*b-c)*(2*Math.PI)/g))+m)},ElasticEaseOut(v,m,y,b,E,g){var c=0;return v===0?m:(v/=b)===1?m+y:(g||(g=b*.3),!E||E<Math.abs(y)?(E=y,c=g/4):c=g/(2*Math.PI)*Math.asin(y/E),E*Math.pow(2,-10*v)*Math.sin((v*b-c)*(2*Math.PI)/g)+y+m)},ElasticEaseInOut(v,m,y,b,E,g){var c=0;return v===0?m:(v/=b/2)===2?m+y:(g||(g=b*(.3*1.5)),!E||E<Math.abs(y)?(E=y,c=g/4):c=g/(2*Math.PI)*Math.asin(y/E),v<1?-.5*(E*Math.pow(2,10*(v-=1))*Math.sin((v*b-c)*(2*Math.PI)/g))+m:E*Math.pow(2,-10*(v-=1))*Math.sin((v*b-c)*(2*Math.PI)/g)*.5+y+m)},BounceEaseOut(v,m,y,b){return(v/=b)<1/2.75?y*(7.5625*v*v)+m:v<2/2.75?y*(7.5625*(v-=1.5/2.75)*v+.75)+m:v<2.5/2.75?y*(7.5625*(v-=2.25/2.75)*v+.9375)+m:y*(7.5625*(v-=2.625/2.75)*v+.984375)+m},BounceEaseIn(v,m,y,b){return y-t.Easings.BounceEaseOut(b-v,0,y,b)+m},BounceEaseInOut(v,m,y,b){return v<b/2?t.Easings.BounceEaseIn(v*2,0,y,b)*.5+m:t.Easings.BounceEaseOut(v*2-b,0,y,b)*.5+y*.5+m},EaseIn(v,m,y,b){return y*(v/=b)*v+m},EaseOut(v,m,y,b){return-y*(v/=b)*(v-2)+m},EaseInOut(v,m,y,b){return(v/=b/2)<1?y/2*v*v+m:-y/2*(--v*(v-2)-1)+m},StrongEaseIn(v,m,y,b){return y*(v/=b)*v*v*v*v+m},StrongEaseOut(v,m,y,b){return y*((v=v/b-1)*v*v*v*v+1)+m},StrongEaseInOut(v,m,y,b){return(v/=b/2)<1?y/2*v*v*v*v*v+m:y/2*((v-=2)*v*v*v*v+2)+m},Linear(v,m,y,b){return y*v/b+m}}}(Ps)),Ps}var _l;function Pg(){return _l||(_l=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=dt(),r=Tt(),n=Rt(),s=ns(),i=Cg(),a=oh(),o=Sg(),l=Ia(),u=La(),h=Nt(),f=Ga(),p=wg(),v=sh(),m=rs();t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:s.Container,Stage:i.Stage,stages:i.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:u.DD,Shape:h.Shape,shapes:h.shapes,Animation:f.Animation,Tween:p.Tween,Easings:p.Easings,Context:v.Context,Canvas:m.Canvas}),t.default=t.Konva}(ms)),ms}var Hr={},yl;function Eg(){if(yl)return Hr;yl=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Arc=void 0;const t=ft(),e=Nt(),r=dt(),n=gt(),s=dt();let i=class extends e.Shape{_sceneFunc(o){var l=r.Konva.getAngle(this.angle()),u=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,l,u),o.arc(0,0,this.innerRadius(),l,0,!u),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),h=r.Konva.getAngle(u?360-this.angle():this.angle()),f=Math.cos(Math.min(h,Math.PI)),p=1,v=Math.sin(Math.min(Math.max(Math.PI,h),3*Math.PI/2)),m=Math.sin(Math.min(h,Math.PI/2)),y=f*(f>0?o:l),b=p*l,E=v*(v>0?o:l),g=m*(m>0?l:o);return{x:y,y:u?-1*g:E,width:b-y,height:g-E}}};return Hr.Arc=i,i.prototype._centroid=!0,i.prototype.className="Arc",i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"angle",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"clockwise",!1,(0,n.getBooleanValidator)()),Hr}var qr={},jr={},bl;function lh(){if(bl)return jr;bl=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Line=void 0;const t=ft(),e=Nt(),r=gt(),n=dt();function s(o,l,u,h,f,p,v){var m=Math.sqrt(Math.pow(u-o,2)+Math.pow(h-l,2)),y=Math.sqrt(Math.pow(f-u,2)+Math.pow(p-h,2)),b=v*m/(m+y),E=v*y/(m+y),g=u-b*(f-o),c=h-b*(p-l),d=u+E*(f-o),C=h+E*(p-l);return[g,c,d,C]}function i(o,l){var u=o.length,h=[],f,p;for(f=2;f<u-2;f+=2)p=s(o[f-2],o[f-1],o[f],o[f+1],o[f+2],o[f+3],l),!isNaN(p[0])&&(h.push(p[0]),h.push(p[1]),h.push(o[f]),h.push(o[f+1]),h.push(p[2]),h.push(p[3]));return h}let a=class extends e.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){var u=this.points(),h=u.length,f=this.tension(),p=this.closed(),v=this.bezier(),m,y,b;if(h){if(l.beginPath(),l.moveTo(u[0],u[1]),f!==0&&h>4){for(m=this.getTensionPoints(),y=m.length,b=p?0:4,p||l.quadraticCurveTo(m[0],m[1],m[2],m[3]);b<y-2;)l.bezierCurveTo(m[b++],m[b++],m[b++],m[b++],m[b++],m[b++]);p||l.quadraticCurveTo(m[y-2],m[y-1],u[h-2],u[h-1])}else if(v)for(b=2;b<h;)l.bezierCurveTo(u[b++],u[b++],u[b++],u[b++],u[b++],u[b++]);else for(b=2;b<h;b+=2)l.lineTo(u[b],u[b+1]);p?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():i(this.points(),this.tension())}_getTensionPointsClosed(){var l=this.points(),u=l.length,h=this.tension(),f=s(l[u-2],l[u-1],l[0],l[1],l[2],l[3],h),p=s(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],h),v=i(l,h),m=[f[2],f[3]].concat(v).concat([p[0],p[1],l[u-2],l[u-1],p[2],p[3],f[0],f[1],l[0],l[1]]);return m}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();for(var u=l[0],h=l[0],f=l[1],p=l[1],v,m,y=0;y<l.length/2;y++)v=l[y*2],m=l[y*2+1],u=Math.min(u,v),h=Math.max(h,v),f=Math.min(f,m),p=Math.max(p,m);return{x:u,y:f,width:h-u,height:p-f}}};return jr.Line=a,a.prototype.className="Line",a.prototype._attrsAffectingSize=["points","bezier","tension"],(0,n._registerNode)(a),t.Factory.addGetterSetter(a,"closed",!1),t.Factory.addGetterSetter(a,"bezier",!1),t.Factory.addGetterSetter(a,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"points",[],(0,r.getNumberArrayValidator)()),jr}var Kr={},Es={},Cl;function xg(){return Cl||(Cl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,l)=>{let u,h,f;u=l/2,h=0;for(let v=0;v<20;v++)f=u*t.tValues[20][v]+u,h+=t.cValues[20][v]*n(a,o,f);return u*h};t.getCubicArcLength=e;const r=(a,o,l)=>{l===void 0&&(l=1);const u=a[0]-2*a[1]+a[2],h=o[0]-2*o[1]+o[2],f=2*a[1]-2*a[0],p=2*o[1]-2*o[0],v=4*(u*u+h*h),m=4*(u*f+h*p),y=f*f+p*p;if(v===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const b=m/(2*v),E=y/v,g=l+b,c=E-b*b,d=g*g+c>0?Math.sqrt(g*g+c):0,C=b*b+c>0?Math.sqrt(b*b+c):0,T=b+Math.sqrt(b*b+c)!==0?c*Math.log(Math.abs((g+d)/(b+C))):0;return Math.sqrt(v)/2*(g*d-b*C+T)};t.getQuadraticArcLength=r;function n(a,o,l){const u=s(1,l,a),h=s(1,l,o),f=u*u+h*h;return Math.sqrt(f)}const s=(a,o,l)=>{const u=l.length-1;let h,f;if(u===0)return 0;if(a===0){f=0;for(let p=0;p<=u;p++)f+=t.binomialCoefficients[u][p]*Math.pow(1-o,u-p)*Math.pow(o,p)*l[p];return f}else{h=new Array(u);for(let p=0;p<u;p++)h[p]=u*(l[p+1]-l[p]);return s(a-1,o,h)}},i=(a,o,l)=>{let u=1,h=a/o,f=(a-l(h))/o,p=0;for(;u>.001;){const v=l(h+f),m=Math.abs(a-v)/o;if(m<u)u=m,h+=f;else{const y=l(h-f),b=Math.abs(a-y)/o;b<u?(u=b,h-=f):f/=2}if(p++,p>500)break}return h};t.t2length=i}(Es)),Es}var Sl;function Ua(){if(Sl)return Kr;Sl=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Path=void 0;const t=ft(),e=Nt(),r=dt(),n=xg();let s=class Bt extends e.Shape{constructor(a){super(a),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Bt.parsePathData(this.data()),this.pathLength=Bt.getPathLength(this.dataArray)}_sceneFunc(a){var o=this.dataArray;a.beginPath();for(var l=!1,u=0;u<o.length;u++){var h=o[u].command,f=o[u].points;switch(h){case"L":a.lineTo(f[0],f[1]);break;case"M":a.moveTo(f[0],f[1]);break;case"C":a.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]);break;case"Q":a.quadraticCurveTo(f[0],f[1],f[2],f[3]);break;case"A":var p=f[0],v=f[1],m=f[2],y=f[3],b=f[4],E=f[5],g=f[6],c=f[7],d=m>y?m:y,C=m>y?1:m/y,T=m>y?y/m:1;a.translate(p,v),a.rotate(g),a.scale(C,T),a.arc(0,0,d,b,b+E,1-c),a.scale(1/C,1/T),a.rotate(-g),a.translate(-p,-v);break;case"z":l=!0,a.closePath();break}}!l&&!this.hasFill()?a.strokeShape(this):a.fillStrokeShape(this)}getSelfRect(){var a=[];this.dataArray.forEach(function(m){if(m.command==="A"){var y=m.points[4],b=m.points[5],E=m.points[4]+b,g=Math.PI/180;if(Math.abs(y-E)<g&&(g=Math.abs(y-E)),b<0)for(let c=y-g;c>E;c-=g){const d=Bt.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],c,0);a.push(d.x,d.y)}else for(let c=y+g;c<E;c+=g){const d=Bt.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],c,0);a.push(d.x,d.y)}}else if(m.command==="C")for(let c=0;c<=1;c+=.01){const d=Bt.getPointOnCubicBezier(c,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);a.push(d.x,d.y)}else a=a.concat(m.points)});for(var o=a[0],l=a[0],u=a[1],h=a[1],f,p,v=0;v<a.length/2;v++)f=a[v*2],p=a[v*2+1],isNaN(f)||(o=Math.min(o,f),l=Math.max(l,f)),isNaN(p)||(u=Math.min(u,p),h=Math.max(h,p));return{x:o,y:u,width:l-o,height:h-u}}getLength(){return this.pathLength}getPointAtLength(a){return Bt.getPointAtLengthOfDataArray(a,this.dataArray)}static getLineLength(a,o,l,u){return Math.sqrt((l-a)*(l-a)+(u-o)*(u-o))}static getPathLength(a){let o=0;for(var l=0;l<a.length;++l)o+=a[l].pathLength;return o}static getPointAtLengthOfDataArray(a,o){var l,u=0,h=o.length;if(!h)return null;for(;u<h&&a>o[u].pathLength;)a-=o[u].pathLength,++u;if(u===h)return l=o[u-1].points.slice(-2),{x:l[0],y:l[1]};if(a<.01)return l=o[u].points.slice(0,2),{x:l[0],y:l[1]};var f=o[u],p=f.points;switch(f.command){case"L":return Bt.getPointOnLine(a,f.start.x,f.start.y,p[0],p[1]);case"C":return Bt.getPointOnCubicBezier((0,n.t2length)(a,Bt.getPathLength(o),d=>(0,n.getCubicArcLength)([f.start.x,p[0],p[2],p[4]],[f.start.y,p[1],p[3],p[5]],d)),f.start.x,f.start.y,p[0],p[1],p[2],p[3],p[4],p[5]);case"Q":return Bt.getPointOnQuadraticBezier((0,n.t2length)(a,Bt.getPathLength(o),d=>(0,n.getQuadraticArcLength)([f.start.x,p[0],p[2]],[f.start.y,p[1],p[3]],d)),f.start.x,f.start.y,p[0],p[1],p[2],p[3]);case"A":var v=p[0],m=p[1],y=p[2],b=p[3],E=p[4],g=p[5],c=p[6];return E+=g*a/f.pathLength,Bt.getPointOnEllipticalArc(v,m,y,b,E,c)}return null}static getPointOnLine(a,o,l,u,h,f,p){f===void 0&&(f=o),p===void 0&&(p=l);var v=(h-l)/(u-o+1e-8),m=Math.sqrt(a*a/(1+v*v));u<o&&(m*=-1);var y=v*m,b;if(u===o)b={x:f,y:p+y};else if((p-l)/(f-o+1e-8)===v)b={x:f+m,y:p+y};else{var E,g,c=this.getLineLength(o,l,u,h),d=(f-o)*(u-o)+(p-l)*(h-l);d=d/(c*c),E=o+d*(u-o),g=l+d*(h-l);var C=this.getLineLength(f,p,E,g),T=Math.sqrt(a*a-C*C);m=Math.sqrt(T*T/(1+v*v)),u<o&&(m*=-1),y=v*m,b={x:E+m,y:g+y}}return b}static getPointOnCubicBezier(a,o,l,u,h,f,p,v,m){function y(C){return C*C*C}function b(C){return 3*C*C*(1-C)}function E(C){return 3*C*(1-C)*(1-C)}function g(C){return(1-C)*(1-C)*(1-C)}var c=v*y(a)+f*b(a)+u*E(a)+o*g(a),d=m*y(a)+p*b(a)+h*E(a)+l*g(a);return{x:c,y:d}}static getPointOnQuadraticBezier(a,o,l,u,h,f,p){function v(g){return g*g}function m(g){return 2*g*(1-g)}function y(g){return(1-g)*(1-g)}var b=f*v(a)+u*m(a)+o*y(a),E=p*v(a)+h*m(a)+l*y(a);return{x:b,y:E}}static getPointOnEllipticalArc(a,o,l,u,h,f){var p=Math.cos(f),v=Math.sin(f),m={x:l*Math.cos(h),y:u*Math.sin(h)};return{x:a+(m.x*p-m.y*v),y:o+(m.x*v+m.y*p)}}static parsePathData(a){if(!a)return[];var o=a,l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)o=o.replace(new RegExp(l[u],"g"),"|"+l[u]);var h=o.split("|"),f=[],p=[],v=0,m=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,b;for(u=1;u<h.length;u++){var E=h[u],g=E.charAt(0);for(E=E.slice(1),p.length=0;b=y.exec(E);)p.push(b[0]);for(var c=[],d=0,C=p.length;d<C;d++){if(p[d]==="00"){c.push(0,0);continue}var T=parseFloat(p[d]);isNaN(T)?c.push(0):c.push(T)}for(;c.length>0&&!isNaN(c[0]);){var M="",w=[],A=v,P=m,F,D,_,S,x,R,N,I,U,j;switch(g){case"l":v+=c.shift(),m+=c.shift(),M="L",w.push(v,m);break;case"L":v=c.shift(),m=c.shift(),w.push(v,m);break;case"m":var Q=c.shift(),H=c.shift();if(v+=Q,m+=H,M="M",f.length>2&&f[f.length-1].command==="z"){for(var K=f.length-2;K>=0;K--)if(f[K].command==="M"){v=f[K].points[0]+Q,m=f[K].points[1]+H;break}}w.push(v,m),g="l";break;case"M":v=c.shift(),m=c.shift(),M="M",w.push(v,m),g="L";break;case"h":v+=c.shift(),M="L",w.push(v,m);break;case"H":v=c.shift(),M="L",w.push(v,m);break;case"v":m+=c.shift(),M="L",w.push(v,m);break;case"V":m=c.shift(),M="L",w.push(v,m);break;case"C":w.push(c.shift(),c.shift(),c.shift(),c.shift()),v=c.shift(),m=c.shift(),w.push(v,m);break;case"c":w.push(v+c.shift(),m+c.shift(),v+c.shift(),m+c.shift()),v+=c.shift(),m+=c.shift(),M="C",w.push(v,m);break;case"S":D=v,_=m,F=f[f.length-1],F.command==="C"&&(D=v+(v-F.points[2]),_=m+(m-F.points[3])),w.push(D,_,c.shift(),c.shift()),v=c.shift(),m=c.shift(),M="C",w.push(v,m);break;case"s":D=v,_=m,F=f[f.length-1],F.command==="C"&&(D=v+(v-F.points[2]),_=m+(m-F.points[3])),w.push(D,_,v+c.shift(),m+c.shift()),v+=c.shift(),m+=c.shift(),M="C",w.push(v,m);break;case"Q":w.push(c.shift(),c.shift()),v=c.shift(),m=c.shift(),w.push(v,m);break;case"q":w.push(v+c.shift(),m+c.shift()),v+=c.shift(),m+=c.shift(),M="Q",w.push(v,m);break;case"T":D=v,_=m,F=f[f.length-1],F.command==="Q"&&(D=v+(v-F.points[0]),_=m+(m-F.points[1])),v=c.shift(),m=c.shift(),M="Q",w.push(D,_,v,m);break;case"t":D=v,_=m,F=f[f.length-1],F.command==="Q"&&(D=v+(v-F.points[0]),_=m+(m-F.points[1])),v+=c.shift(),m+=c.shift(),M="Q",w.push(D,_,v,m);break;case"A":S=c.shift(),x=c.shift(),R=c.shift(),N=c.shift(),I=c.shift(),U=v,j=m,v=c.shift(),m=c.shift(),M="A",w=this.convertEndpointToCenterParameterization(U,j,v,m,N,I,S,x,R);break;case"a":S=c.shift(),x=c.shift(),R=c.shift(),N=c.shift(),I=c.shift(),U=v,j=m,v+=c.shift(),m+=c.shift(),M="A",w=this.convertEndpointToCenterParameterization(U,j,v,m,N,I,S,x,R);break}f.push({command:M||g,points:w,start:{x:A,y:P},pathLength:this.calcLength(A,P,M||g,w)})}(g==="z"||g==="Z")&&f.push({command:"z",points:[],start:void 0,pathLength:0})}return f}static calcLength(a,o,l,u){var h,f,p,v,m=Bt;switch(l){case"L":return m.getLineLength(a,o,u[0],u[1]);case"C":return(0,n.getCubicArcLength)([a,u[0],u[2],u[4]],[o,u[1],u[3],u[5]],1);case"Q":return(0,n.getQuadraticArcLength)([a,u[0],u[2]],[o,u[1],u[3]],1);case"A":h=0;var y=u[4],b=u[5],E=u[4]+b,g=Math.PI/180;if(Math.abs(y-E)<g&&(g=Math.abs(y-E)),f=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),b<0)for(v=y-g;v>E;v-=g)p=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],v,0),h+=m.getLineLength(f.x,f.y,p.x,p.y),f=p;else for(v=y+g;v<E;v+=g)p=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],v,0),h+=m.getLineLength(f.x,f.y,p.x,p.y),f=p;return p=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],E,0),h+=m.getLineLength(f.x,f.y,p.x,p.y),h}return 0}static convertEndpointToCenterParameterization(a,o,l,u,h,f,p,v,m){var y=m*(Math.PI/180),b=Math.cos(y)*(a-l)/2+Math.sin(y)*(o-u)/2,E=-1*Math.sin(y)*(a-l)/2+Math.cos(y)*(o-u)/2,g=b*b/(p*p)+E*E/(v*v);g>1&&(p*=Math.sqrt(g),v*=Math.sqrt(g));var c=Math.sqrt((p*p*(v*v)-p*p*(E*E)-v*v*(b*b))/(p*p*(E*E)+v*v*(b*b)));h===f&&(c*=-1),isNaN(c)&&(c=0);var d=c*p*E/v,C=c*-v*b/p,T=(a+l)/2+Math.cos(y)*d-Math.sin(y)*C,M=(o+u)/2+Math.sin(y)*d+Math.cos(y)*C,w=function(x){return Math.sqrt(x[0]*x[0]+x[1]*x[1])},A=function(x,R){return(x[0]*R[0]+x[1]*R[1])/(w(x)*w(R))},P=function(x,R){return(x[0]*R[1]<x[1]*R[0]?-1:1)*Math.acos(A(x,R))},F=P([1,0],[(b-d)/p,(E-C)/v]),D=[(b-d)/p,(E-C)/v],_=[(-1*b-d)/p,(-1*E-C)/v],S=P(D,_);return A(D,_)<=-1&&(S=Math.PI),A(D,_)>=1&&(S=0),f===0&&S>0&&(S=S-2*Math.PI),f===1&&S<0&&(S=S+2*Math.PI),[T,M,p,v,F,S,y,f]}};return Kr.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"data"),Kr}var wl;function Tg(){if(wl)return qr;wl=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Arrow=void 0;const t=ft(),e=lh(),r=gt(),n=dt(),s=Ua();let i=class extends e.Line{_sceneFunc(o){super._sceneFunc(o);var l=Math.PI*2,u=this.points(),h=u,f=this.tension()!==0&&u.length>4;f&&(h=this.getTensionPoints());var p=this.pointerLength(),v=u.length,m,y;if(f){const g=[h[h.length-4],h[h.length-3],h[h.length-2],h[h.length-1],u[v-2],u[v-1]],c=s.Path.calcLength(h[h.length-4],h[h.length-3],"C",g),d=s.Path.getPointOnQuadraticBezier(Math.min(1,1-p/c),g[0],g[1],g[2],g[3],g[4],g[5]);m=u[v-2]-d.x,y=u[v-1]-d.y}else m=u[v-2]-u[v-4],y=u[v-1]-u[v-3];var b=(Math.atan2(y,m)+l)%l,E=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(u[v-2],u[v-1]),o.rotate(b),o.moveTo(0,0),o.lineTo(-p,E/2),o.lineTo(-p,-E/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(u[0],u[1]),f?(m=(h[0]+h[2])/2-u[0],y=(h[1]+h[3])/2-u[1]):(m=u[2]-u[0],y=u[3]-u[1]),o.rotate((Math.atan2(-y,-m)+l)%l),o.moveTo(0,0),o.lineTo(-p,E/2),o.lineTo(-p,-E/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),l=this.pointerWidth()/2;return{x:o.x-l,y:o.y-l,width:o.width+l*2,height:o.height+l*2}}};return qr.Arrow=i,i.prototype.className="Arrow",(0,n._registerNode)(i),t.Factory.addGetterSetter(i,"pointerLength",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"pointerWidth",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"pointerAtBeginning",!1),t.Factory.addGetterSetter(i,"pointerAtEnding",!0),qr}var Wr={},Pl;function Ag(){if(Pl)return Wr;Pl=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.Circle=void 0;const t=ft(),e=Nt(),r=gt(),n=dt();let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius()!==a/2&&this.radius(a/2)}setHeight(a){this.radius()!==a/2&&this.radius(a/2)}};return Wr.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),Wr}var zr={},El;function Rg(){if(El)return zr;El=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.Ellipse=void 0;const t=ft(),e=Nt(),r=gt(),n=dt();let s=class extends e.Shape{_sceneFunc(a){var o=this.radiusX(),l=this.radiusY();a.beginPath(),a.save(),o!==l&&a.scale(1,l/o),a.arc(0,0,o,0,Math.PI*2,!1),a.restore(),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(a){this.radiusX(a/2)}setHeight(a){this.radiusY(a/2)}};return zr.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(s),t.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),t.Factory.addGetterSetter(s,"radiusX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"radiusY",0,(0,r.getNumberValidator)()),zr}var $r={},xl;function Og(){if(xl)return $r;xl=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Image=void 0;const t=Tt(),e=ft(),r=Nt(),n=dt(),s=gt();let i=class ch extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const l=this.getWidth(),u=this.getHeight(),h=this.cornerRadius(),f=this.attrs.image;let p;if(f){const v=this.attrs.cropWidth,m=this.attrs.cropHeight;v&&m?p=[f,this.cropX(),this.cropY(),v,m,0,0,l,u]:p=[f,0,0,l,u]}(this.hasFill()||this.hasStroke()||h)&&(o.beginPath(),h?t.Util.drawRoundedRectPath(o,l,u,h):o.rect(0,0,l,u),o.closePath(),o.fillStrokeShape(this)),f&&(h&&o.clip(),o.drawImage.apply(o,p))}_hitFunc(o){var l=this.width(),u=this.height(),h=this.cornerRadius();o.beginPath(),h?t.Util.drawRoundedRectPath(o,l,u,h):o.rect(0,0,l,u),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,l;return(o=this.attrs.width)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var o,l;return(o=this.attrs.height)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(o,l,u=null){var h=t.Util.createImageElement();h.onload=function(){var f=new ch({image:h});l(f)},h.onerror=u,h.crossOrigin="Anonymous",h.src=o}};return $r.Image=i,i.prototype.className="Image",(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(i,"image"),e.Factory.addComponentsGetterSetter(i,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(i,"cropX",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(i,"cropY",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(i,"cropWidth",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(i,"cropHeight",0,(0,s.getNumberValidator)()),$r}var Ke={},Tl;function Fg(){if(Tl)return Ke;Tl=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Tag=Ke.Label=void 0;const t=ft(),e=Nt(),r=Ia(),n=gt(),s=dt();var i=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],a="Change.konva",o="none",l="up",u="right",h="down",f="left",p=i.length;let v=class extends r.Group{constructor(b){super(b),this.on("add.konva",function(E){this._addListeners(E.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(b){var E=this,g,c=function(){E._sync()};for(g=0;g<p;g++)b.on(i[g]+a,c)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var b=this.getText(),E=this.getTag(),g,c,d,C,T,M,w;if(b&&E){switch(g=b.width(),c=b.height(),d=E.pointerDirection(),C=E.pointerWidth(),w=E.pointerHeight(),T=0,M=0,d){case l:T=g/2,M=-1*w;break;case u:T=g+C,M=c/2;break;case h:T=g/2,M=c+w;break;case f:T=-1*C,M=c/2;break}E.setAttrs({x:-1*T,y:-1*M,width:g,height:c}),b.setAttrs({x:-1*T,y:-1*M})}}};Ke.Label=v,v.prototype.className="Label",(0,s._registerNode)(v);class m extends e.Shape{_sceneFunc(b){var E=this.width(),g=this.height(),c=this.pointerDirection(),d=this.pointerWidth(),C=this.pointerHeight(),T=this.cornerRadius();let M=0,w=0,A=0,P=0;typeof T=="number"?M=w=A=P=Math.min(T,E/2,g/2):(M=Math.min(T[0]||0,E/2,g/2),w=Math.min(T[1]||0,E/2,g/2),P=Math.min(T[2]||0,E/2,g/2),A=Math.min(T[3]||0,E/2,g/2)),b.beginPath(),b.moveTo(M,0),c===l&&(b.lineTo((E-d)/2,0),b.lineTo(E/2,-1*C),b.lineTo((E+d)/2,0)),b.lineTo(E-w,0),b.arc(E-w,w,w,Math.PI*3/2,0,!1),c===u&&(b.lineTo(E,(g-C)/2),b.lineTo(E+d,g/2),b.lineTo(E,(g+C)/2)),b.lineTo(E,g-P),b.arc(E-P,g-P,P,0,Math.PI/2,!1),c===h&&(b.lineTo((E+d)/2,g),b.lineTo(E/2,g+C),b.lineTo((E-d)/2,g)),b.lineTo(A,g),b.arc(A,g-A,A,Math.PI/2,Math.PI,!1),c===f&&(b.lineTo(0,(g+C)/2),b.lineTo(-1*d,g/2),b.lineTo(0,(g-C)/2)),b.lineTo(0,M),b.arc(M,M,M,Math.PI,Math.PI*3/2,!1),b.closePath(),b.fillStrokeShape(this)}getSelfRect(){var b=0,E=0,g=this.pointerWidth(),c=this.pointerHeight(),d=this.pointerDirection(),C=this.width(),T=this.height();return d===l?(E-=c,T+=c):d===h?T+=c:d===f?(b-=g*1.5,C+=g):d===u&&(C+=g*1.5),{x:b,y:E,width:C,height:T}}}return Ke.Tag=m,m.prototype.className="Tag",(0,s._registerNode)(m),t.Factory.addGetterSetter(m,"pointerDirection",o),t.Factory.addGetterSetter(m,"pointerWidth",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(m,"pointerHeight",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(m,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),Ke}var Yr={},Al;function uh(){if(Al)return Yr;Al=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Rect=void 0;const t=ft(),e=Nt(),r=dt(),n=Tt(),s=gt();let i=class extends e.Shape{_sceneFunc(o){var l=this.cornerRadius(),u=this.width(),h=this.height();o.beginPath(),l?n.Util.drawRoundedRectPath(o,u,h,l):o.rect(0,0,u,h),o.closePath(),o.fillStrokeShape(this)}};return Yr.Rect=i,i.prototype.className="Rect",(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Yr}var Qr={},Rl;function Mg(){if(Rl)return Qr;Rl=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.RegularPolygon=void 0;const t=ft(),e=Nt(),r=gt(),n=dt();let s=class extends e.Shape{_sceneFunc(a){const o=this._getPoints();a.beginPath(),a.moveTo(o[0].x,o[0].y);for(var l=1;l<o.length;l++)a.lineTo(o[l].x,o[l].y);a.closePath(),a.fillStrokeShape(this)}_getPoints(){const a=this.attrs.sides,o=this.attrs.radius||0,l=[];for(var u=0;u<a;u++)l.push({x:o*Math.sin(u*2*Math.PI/a),y:-1*o*Math.cos(u*2*Math.PI/a)});return l}getSelfRect(){const a=this._getPoints();var o=a[0].x,l=a[0].y,u=a[0].x,h=a[0].y;return a.forEach(f=>{o=Math.min(o,f.x),l=Math.max(l,f.x),u=Math.min(u,f.y),h=Math.max(h,f.y)}),{x:o,y:u,width:l-o,height:h-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Qr.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"sides",0,(0,r.getNumberValidator)()),Qr}var Xr={},Ol;function kg(){if(Ol)return Xr;Ol=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Ring=void 0;const t=ft(),e=Nt(),r=gt(),n=dt();var s=Math.PI*2;let i=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,s,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),s,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Xr.Ring=i,i.prototype.className="Ring",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(i),t.Factory.addGetterSetter(i,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,r.getNumberValidator)()),Xr}var Jr={},Fl;function Ng(){if(Fl)return Jr;Fl=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Sprite=void 0;const t=ft(),e=Nt(),r=Ga(),n=gt(),s=dt();let i=class extends e.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var l=this.animation(),u=this.frameIndex(),h=u*4,f=this.animations()[l],p=this.frameOffsets(),v=f[h+0],m=f[h+1],y=f[h+2],b=f[h+3],E=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,b),o.closePath(),o.fillStrokeShape(this)),E)if(p){var g=p[l],c=u*2;o.drawImage(E,v,m,y,b,g[c+0],g[c+1],y,b)}else o.drawImage(E,v,m,y,b,0,0,y,b)}_hitFunc(o){var l=this.animation(),u=this.frameIndex(),h=u*4,f=this.animations()[l],p=this.frameOffsets(),v=f[h+2],m=f[h+3];if(o.beginPath(),p){var y=p[l],b=u*2;o.rect(y[b+0],y[b+1],v,m)}else o.rect(0,0,v,m);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),l=this.animation(),u=this.animations(),h=u[l],f=h.length/4;o<f-1?this.frameIndex(o+1):this.frameIndex(0)}};return Jr.Sprite=i,i.prototype.className="Sprite",(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"animation"),t.Factory.addGetterSetter(i,"animations"),t.Factory.addGetterSetter(i,"frameOffsets"),t.Factory.addGetterSetter(i,"image"),t.Factory.addGetterSetter(i,"frameIndex",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"frameRate",17,(0,n.getNumberValidator)()),t.Factory.backCompat(i,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Jr}var Zr={},Ml;function Dg(){if(Ml)return Zr;Ml=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Star=void 0;const t=ft(),e=Nt(),r=gt(),n=dt();let s=class extends e.Shape{_sceneFunc(a){var o=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();a.beginPath(),a.moveTo(0,0-l);for(var h=1;h<u*2;h++){var f=h%2===0?l:o,p=f*Math.sin(h*Math.PI/u),v=-1*f*Math.cos(h*Math.PI/u);a.lineTo(p,v)}a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Zr.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"numPoints",5,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),Zr}var We={},kl;function hh(){if(kl)return We;kl=1,Object.defineProperty(We,"__esModule",{value:!0}),We.Text=We.stringToArray=void 0;const t=Tt(),e=ft(),r=Nt(),n=gt(),s=dt();function i(Q){return Array.from(Q)}We.stringToArray=i;var a="auto",o="center",l="inherit",u="justify",h="Change.konva",f="2d",p="-",v="left",m="text",y="Text",b="top",E="bottom",g="middle",c="normal",d="px ",C=" ",T="right",M="rtl",w="word",A="char",P="none",F="…",D=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],_=D.length;function S(Q){return Q.split(",").map(H=>{H=H.trim();const K=H.indexOf(" ")>=0,J=H.indexOf('"')>=0||H.indexOf("'")>=0;return K&&!J&&(H=`"${H}"`),H}).join(", ")}var x;function R(){return x||(x=t.Util.createCanvasElement().getContext(f),x)}function N(Q){Q.fillText(this._partialText,this._partialTextX,this._partialTextY)}function I(Q){Q.setAttr("miterLimit",2),Q.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function U(Q){return Q=Q||{},!Q.fillLinearGradientColorStops&&!Q.fillRadialGradientColorStops&&!Q.fillPatternImage&&(Q.fill=Q.fill||"black"),Q}let j=class extends r.Shape{constructor(H){super(U(H)),this._partialTextX=0,this._partialTextY=0;for(var K=0;K<_;K++)this.on(D[K]+h,this._setTextData);this._setTextData()}_sceneFunc(H){var K=this.textArr,J=K.length;if(this.text()){var rt=this.padding(),nt=this.fontSize(),O=this.lineHeight()*nt,G=this.verticalAlign(),V=this.direction(),Y=0,et=this.align(),k=this.getWidth(),L=this.letterSpacing(),B=this.fill(),q=this.textDecoration(),W=q.indexOf("underline")!==-1,$=q.indexOf("line-through")!==-1,tt;V=V===l?H.direction:V;var X=0,X=O/2,Z=0,z=0;for(V===M&&H.setAttr("direction",V),H.setAttr("font",this._getContextFont()),H.setAttr("textBaseline",g),H.setAttr("textAlign",v),G===g?Y=(this.getHeight()-J*O-rt*2)/2:G===E&&(Y=this.getHeight()-J*O-rt*2),H.translate(rt,Y+rt),tt=0;tt<J;tt++){var Z=0,z=0,st=K[tt],it=st.text,ot=st.width,lt=st.lastInParagraph,ut,mt,pt;if(H.save(),et===T?Z+=k-ot-rt*2:et===o&&(Z+=(k-ot-rt*2)/2),W){H.save(),H.beginPath(),H.moveTo(Z,X+z+Math.round(nt/2)),ut=it.split(" ").length-1,mt=ut===0,pt=et===u&&!lt?k-rt*2:ot,H.lineTo(Z+Math.round(pt),X+z+Math.round(nt/2)),H.lineWidth=nt/15;const or=this._getLinearGradient();H.strokeStyle=or||B,H.stroke(),H.restore()}if($){H.save(),H.beginPath(),H.moveTo(Z,X+z),ut=it.split(" ").length-1,mt=ut===0,pt=et===u&&lt&&!mt?k-rt*2:ot,H.lineTo(Z+Math.round(pt),X+z),H.lineWidth=nt/15;const or=this._getLinearGradient();H.strokeStyle=or||B,H.stroke(),H.restore()}if(V!==M&&(L!==0||et===u)){ut=it.split(" ").length-1;for(var wt=i(it),Ot=0;Ot<wt.length;Ot++){var Kt=wt[Ot];Kt===" "&&!lt&&et===u&&(Z+=(k-rt*2-ot)/ut),this._partialTextX=Z,this._partialTextY=X+z,this._partialText=Kt,H.fillStrokeShape(this),Z+=this.measureSize(Kt).width+L}}else L!==0&&H.setAttr("letterSpacing",`${L}px`),this._partialTextX=Z,this._partialTextY=X+z,this._partialText=it,H.fillStrokeShape(this);H.restore(),J>1&&(X+=O)}}}_hitFunc(H){var K=this.getWidth(),J=this.getHeight();H.beginPath(),H.rect(0,0,K,J),H.closePath(),H.fillStrokeShape(this)}setText(H){var K=t.Util._isString(H)?H:H==null?"":H+"";return this._setAttr(m,K),this}getWidth(){var H=this.attrs.width===a||this.attrs.width===void 0;return H?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var H=this.attrs.height===a||this.attrs.height===void 0;return H?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(H){var K=R(),J=this.fontSize(),rt;return K.save(),K.font=this._getContextFont(),rt=K.measureText(H),K.restore(),{width:rt.width,height:J}}_getContextFont(){return this.fontStyle()+C+this.fontVariant()+C+(this.fontSize()+d)+S(this.fontFamily())}_addTextLine(H){this.align()===u&&(H=H.trim());var J=this._getTextWidth(H);return this.textArr.push({text:H,width:J,lastInParagraph:!1})}_getTextWidth(H){var K=this.letterSpacing(),J=H.length;return R().measureText(H).width+(J?K*(J-1):0)}_setTextData(){var H=this.text().split(`
`),K=+this.fontSize(),J=0,rt=this.lineHeight()*K,nt=this.attrs.width,O=this.attrs.height,G=nt!==a&&nt!==void 0,V=O!==a&&O!==void 0,Y=this.padding(),et=nt-Y*2,k=O-Y*2,L=0,B=this.wrap(),q=B!==P,W=B!==A&&q,$=this.ellipsis();this.textArr=[],R().font=this._getContextFont();for(var tt=$?this._getTextWidth(F):0,X=0,Z=H.length;X<Z;++X){var z=H[X],st=this._getTextWidth(z);if(G&&st>et)for(;z.length>0;){for(var it=0,ot=z.length,lt="",ut=0;it<ot;){var mt=it+ot>>>1,pt=z.slice(0,mt+1),wt=this._getTextWidth(pt)+tt;wt<=et?(it=mt+1,lt=pt,ut=wt):ot=mt}if(lt){if(W){var Ot,Kt=z[lt.length],Jn=Kt===C||Kt===p;Jn&&ut<=et?Ot=lt.length:Ot=Math.max(lt.lastIndexOf(C),lt.lastIndexOf(p))+1,Ot>0&&(it=Ot,lt=lt.slice(0,it),ut=this._getTextWidth(lt))}lt=lt.trimRight(),this._addTextLine(lt),J=Math.max(J,ut),L+=rt;var He=this._shouldHandleEllipsis(L);if(He){this._tryToAddEllipsisToLastLine();break}if(z=z.slice(it),z=z.trimLeft(),z.length>0&&(st=this._getTextWidth(z),st<=et)){this._addTextLine(z),L+=rt,J=Math.max(J,st);break}}else break}else this._addTextLine(z),L+=rt,J=Math.max(J,st),this._shouldHandleEllipsis(L)&&X<Z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),V&&L+rt>k)break}this.textHeight=K,this.textWidth=J}_shouldHandleEllipsis(H){var K=+this.fontSize(),J=this.lineHeight()*K,rt=this.attrs.height,nt=rt!==a&&rt!==void 0,O=this.padding(),G=rt-O*2,V=this.wrap(),Y=V!==P;return!Y||nt&&H+J>G}_tryToAddEllipsisToLastLine(){var H=this.attrs.width,K=H!==a&&H!==void 0,J=this.padding(),rt=H-J*2,nt=this.ellipsis(),O=this.textArr[this.textArr.length-1];if(!(!O||!nt)){if(K){var G=this._getTextWidth(O.text+F)<rt;G||(O.text=O.text.slice(0,O.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(O.text+F)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const H=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,K=this.hasShadow();return H&&K?!0:super._useBufferCanvas()}};return We.Text=j,j.prototype._fillFunc=N,j.prototype._strokeFunc=I,j.prototype.className=y,j.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(j),e.Factory.overWriteSetter(j,"width",(0,n.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(j,"height",(0,n.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(j,"direction",l),e.Factory.addGetterSetter(j,"fontFamily","Arial"),e.Factory.addGetterSetter(j,"fontSize",12,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(j,"fontStyle",c),e.Factory.addGetterSetter(j,"fontVariant",c),e.Factory.addGetterSetter(j,"padding",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(j,"align",v),e.Factory.addGetterSetter(j,"verticalAlign",b),e.Factory.addGetterSetter(j,"lineHeight",1,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(j,"wrap",w),e.Factory.addGetterSetter(j,"ellipsis",!1,(0,n.getBooleanValidator)()),e.Factory.addGetterSetter(j,"letterSpacing",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(j,"text","",(0,n.getStringValidator)()),e.Factory.addGetterSetter(j,"textDecoration",""),We}var tn={},Nl;function Lg(){if(Nl)return tn;Nl=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.TextPath=void 0;const t=Tt(),e=ft(),r=Nt(),n=Ua(),s=hh(),i=gt(),a=dt();var o="",l="normal";function u(p){p.fillText(this.partialText,0,0)}function h(p){p.strokeText(this.partialText,0,0)}let f=class extends r.Shape{constructor(v){super(v),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(v){if(!this.attrs.data)return null;const m=this.pathLength;return v-1>m?null:n.Path.getPointAtLengthOfDataArray(v,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(v){v.setAttr("font",this._getContextFont()),v.setAttr("textBaseline",this.textBaseline()),v.setAttr("textAlign","left"),v.save();var m=this.textDecoration(),y=this.fill(),b=this.fontSize(),E=this.glyphInfo;m==="underline"&&v.beginPath();for(var g=0;g<E.length;g++){v.save();var c=E[g].p0;v.translate(c.x,c.y),v.rotate(E[g].rotation),this.partialText=E[g].text,v.fillStrokeShape(this),m==="underline"&&(g===0&&v.moveTo(0,b/2+1),v.lineTo(b,b/2+1)),v.restore()}m==="underline"&&(v.strokeStyle=y,v.lineWidth=b/20,v.stroke()),v.restore()}_hitFunc(v){v.beginPath();var m=this.glyphInfo;if(m.length>=1){var y=m[0].p0;v.moveTo(y.x,y.y)}for(var b=0;b<m.length;b++){var E=m[b].p1;v.lineTo(E.x,E.y)}v.setAttr("lineWidth",this.fontSize()),v.setAttr("strokeStyle",this.colorKey),v.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(v){return s.Text.prototype.setText.call(this,v)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(v){var m=this.dummyCanvas,y=m.getContext("2d");y.save(),y.font=this._getContextFont();var b=y.measureText(v);return y.restore(),{width:b.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:v,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=v,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),b=this.align(),E=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let c=0;b==="center"&&(c=Math.max(0,this.pathLength/2-g/2)),b==="right"&&(c=Math.max(0,this.pathLength-g));const d=(0,s.stringToArray)(this.text());let C=c;for(var T=0;T<d.length;T++){const M=this._getPointAtLength(C);if(!M)return;let w=this._getTextSize(d[T]).width+y;if(d[T]===" "&&b==="justify"){const S=this.text().split(" ").length-1;w+=(this.pathLength-g)/S}const A=this._getPointAtLength(C+w);if(!A)return;const P=n.Path.getLineLength(M.x,M.y,A.x,A.y);let F=0;if(E)try{F=E(d[T-1],d[T])*this.fontSize()}catch{F=0}M.x+=F,A.x+=F,this.textWidth+=F;const D=n.Path.getPointOnLine(F+P/2,M.x,M.y,A.x,A.y),_=Math.atan2(A.y-M.y,A.x-M.x);this.glyphInfo.push({transposeX:D.x,transposeY:D.y,text:d[T],rotation:_,p0:M,p1:A}),C+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var v=[];this.glyphInfo.forEach(function(T){v.push(T.p0.x),v.push(T.p0.y),v.push(T.p1.x),v.push(T.p1.y)});for(var m=v[0]||0,y=v[0]||0,b=v[1]||0,E=v[1]||0,g,c,d=0;d<v.length/2;d++)g=v[d*2],c=v[d*2+1],m=Math.min(m,g),y=Math.max(y,g),b=Math.min(b,c),E=Math.max(E,c);var C=this.fontSize();return{x:m-C/2,y:b-C/2,width:y-m+C,height:E-b+C}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return tn.TextPath=f,f.prototype._fillFunc=u,f.prototype._strokeFunc=h,f.prototype._fillFuncHit=u,f.prototype._strokeFuncHit=h,f.prototype.className="TextPath",f.prototype._attrsAffectingSize=["text","fontSize","data"],(0,a._registerNode)(f),e.Factory.addGetterSetter(f,"data"),e.Factory.addGetterSetter(f,"fontFamily","Arial"),e.Factory.addGetterSetter(f,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(f,"fontStyle",l),e.Factory.addGetterSetter(f,"align","left"),e.Factory.addGetterSetter(f,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(f,"textBaseline","middle"),e.Factory.addGetterSetter(f,"fontVariant",l),e.Factory.addGetterSetter(f,"text",o),e.Factory.addGetterSetter(f,"textDecoration",null),e.Factory.addGetterSetter(f,"kerningFunc",null),tn}var en={},Dl;function Ig(){if(Dl)return en;Dl=1,Object.defineProperty(en,"__esModule",{value:!0}),en.Transformer=void 0;const t=Tt(),e=ft(),r=Rt(),n=Nt(),s=uh(),i=Ia(),a=dt(),o=gt(),l=dt();var u="tr-konva",h=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(w=>w+`.${u}`).join(" "),f="nodesRect",p=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const m="ontouchstart"in a.Konva._global;function y(w,A,P){if(w==="rotater")return P;A+=t.Util.degToRad(v[w]||0);var F=(t.Util.radToDeg(A)%360+360)%360;return t.Util._inRange(F,315+22.5,360)||t.Util._inRange(F,0,22.5)?"ns-resize":t.Util._inRange(F,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(F,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(F,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(F,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(F,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(F,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(F,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+F),"pointer")}var b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],E=1e8;function g(w){return{x:w.x+w.width/2*Math.cos(w.rotation)+w.height/2*Math.sin(-w.rotation),y:w.y+w.height/2*Math.cos(w.rotation)+w.width/2*Math.sin(w.rotation)}}function c(w,A,P){const F=P.x+(w.x-P.x)*Math.cos(A)-(w.y-P.y)*Math.sin(A),D=P.y+(w.x-P.x)*Math.sin(A)+(w.y-P.y)*Math.cos(A);return{...w,rotation:w.rotation+A,x:F,y:D}}function d(w,A){const P=g(w);return c(w,A,P)}function C(w,A,P){let F=A;for(let D=0;D<w.length;D++){const _=a.Konva.getAngle(w[D]),S=Math.abs(_-A)%(Math.PI*2);Math.min(S,Math.PI*2-S)<P&&(F=_)}return F}let T=class extends i.Group{constructor(A){super(A),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(h,this.update),this.getNode()&&this.update()}attachTo(A){return this.setNode(A),this}setNode(A){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([A])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(A=[]){this._nodes&&this._nodes.length&&this.detach();const P=A.filter(D=>D.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=A=P,A.length===1&&this.useSingleNodeRotation()?this.rotation(A[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(D=>{const _=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},S=D._attrsAffectingSize.map(x=>x+"Change."+this._getEventNamespace()).join(" ");D.on(S,_),D.on(p.map(x=>x+`.${this._getEventNamespace()}`).join(" "),_),D.on(`absoluteTransformChange.${this._getEventNamespace()}`,_),this._proxyDrag(D)}),this._resetTransformCache();var F=!!this.findOne(".top-left");return F&&this.update(),this}_proxyDrag(A){let P;A.on(`dragstart.${this._getEventNamespace()}`,F=>{P=A.getAbsolutePosition(),!this.isDragging()&&A!==this.findOne(".back")&&this.startDrag(F,!1)}),A.on(`dragmove.${this._getEventNamespace()}`,F=>{if(!P)return;const D=A.getAbsolutePosition(),_=D.x-P.x,S=D.y-P.y;this.nodes().forEach(x=>{if(x===A||x.isDragging())return;const R=x.getAbsolutePosition();x.setAbsolutePosition({x:R.x+_,y:R.y+S}),x.startDrag(F)}),P=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(A=>{A.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(f),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(f,this.__getNodeRect)}__getNodeShape(A,P=this.rotation(),F){var D=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=A.getAbsoluteScale(F),S=A.getAbsolutePosition(F),x=D.x*_.x-A.offsetX()*_.x,R=D.y*_.y-A.offsetY()*_.y;const N=(a.Konva.getAngle(A.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),I={x:S.x+x*Math.cos(N)+R*Math.sin(-N),y:S.y+R*Math.cos(N)+x*Math.sin(N),width:D.width*_.x,height:D.height*_.y,rotation:N};return c(I,-a.Konva.getAngle(P),{x:0,y:0})}__getNodeRect(){var A=this.getNode();if(!A)return{x:-E,y:-E,width:0,height:0,rotation:0};const P=[];this.nodes().map(N=>{const I=N.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var U=[{x:I.x,y:I.y},{x:I.x+I.width,y:I.y},{x:I.x+I.width,y:I.y+I.height},{x:I.x,y:I.y+I.height}],j=N.getAbsoluteTransform();U.forEach(function(Q){var H=j.point(Q);P.push(H)})});const F=new t.Transform;F.rotate(-a.Konva.getAngle(this.rotation()));var D=1/0,_=1/0,S=-1/0,x=-1/0;P.forEach(function(N){var I=F.point(N);D===void 0&&(D=S=I.x,_=x=I.y),D=Math.min(D,I.x),_=Math.min(_,I.y),S=Math.max(S,I.x),x=Math.max(x,I.y)}),F.invert();const R=F.point({x:D,y:_});return{x:R.x,y:R.y,width:S-D,height:x-_,rotation:a.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach(A=>{this._createAnchor(A)}),this._createAnchor("rotater")}_createAnchor(A){var P=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:A+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),F=this;P.on("mousedown touchstart",function(D){F._handleMouseDown(D)}),P.on("dragstart",D=>{P.stopDrag(),D.cancelBubble=!0}),P.on("dragend",D=>{D.cancelBubble=!0}),P.on("mouseenter",()=>{var D=a.Konva.getAngle(this.rotation()),_=this.rotateAnchorCursor(),S=y(A,D,_);P.getStage().content&&(P.getStage().content.style.cursor=S),this._cursorChange=!0}),P.on("mouseout",()=>{P.getStage().content&&(P.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(P)}_createBack(){var A=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(P,F){var D=F.getParent(),_=D.padding();P.beginPath(),P.rect(-_,-_,F.width()+_*2,F.height()+_*2),P.moveTo(F.width()/2,-_),D.rotateEnabled()&&P.lineTo(F.width()/2,-D.rotateAnchorOffset()*t.Util._sign(F.height())-_),P.fillStrokeShape(F)},hitFunc:(P,F)=>{if(this.shouldOverdrawWholeArea()){var D=this.padding();P.beginPath(),P.rect(-D,-D,F.width()+D*2,F.height()+D*2),P.fillStrokeShape(F)}}});this.add(A),this._proxyDrag(A),A.on("dragstart",P=>{P.cancelBubble=!0}),A.on("dragmove",P=>{P.cancelBubble=!0}),A.on("dragend",P=>{P.cancelBubble=!0}),this.on("dragmove",P=>{this.update()})}_handleMouseDown(A){this._movingAnchorName=A.target.name().split(" ")[0];var P=this._getNodeRect(),F=P.width,D=P.height,_=Math.sqrt(Math.pow(F,2)+Math.pow(D,2));this.sin=Math.abs(D/_),this.cos=Math.abs(F/_),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var S=A.target.getAbsolutePosition(),x=A.target.getStage().getPointerPosition();this._anchorDragOffset={x:x.x-S.x,y:x.y-S.y},this._fire("transformstart",{evt:A.evt,target:this.getNode()}),this._nodes.forEach(R=>{R._fire("transformstart",{evt:A.evt,target:R})})}_handleMouseMove(A){var P,F,D,_=this.findOne("."+this._movingAnchorName),S=_.getStage();S.setPointersPositions(A);const x=S.getPointerPosition();let R={x:x.x-this._anchorDragOffset.x,y:x.y-this._anchorDragOffset.y};const N=_.getAbsolutePosition();this.anchorDragBoundFunc()&&(R=this.anchorDragBoundFunc()(N,R,A)),_.setAbsolutePosition(R);const I=_.getAbsolutePosition();if(!(N.x===I.x&&N.y===I.y)){if(this._movingAnchorName==="rotater"){var U=this._getNodeRect();P=_.x()-U.width/2,F=-_.y()+U.height/2;let $=Math.atan2(-F,P)+Math.PI/2;U.height<0&&($-=Math.PI);var j=a.Konva.getAngle(this.rotation());const tt=j+$,X=a.Konva.getAngle(this.rotationSnapTolerance()),z=C(this.rotationSnaps(),tt,X)-U.rotation,st=d(U,z);this._fitNodesInto(st,A);return}var Q=this.shiftBehavior(),H;Q==="inverted"?H=this.keepRatio()&&!A.shiftKey:Q==="none"?H=this.keepRatio():H=this.keepRatio()||A.shiftKey;var O=this.centeredScaling()||A.altKey;if(this._movingAnchorName==="top-left"){if(H){var K=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};D=Math.sqrt(Math.pow(K.x-_.x(),2)+Math.pow(K.y-_.y(),2));var J=this.findOne(".top-left").x()>K.x?-1:1,rt=this.findOne(".top-left").y()>K.y?-1:1;P=D*this.cos*J,F=D*this.sin*rt,this.findOne(".top-left").x(K.x-P),this.findOne(".top-left").y(K.y-F)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(_.y());else if(this._movingAnchorName==="top-right"){if(H){var K=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};D=Math.sqrt(Math.pow(_.x()-K.x,2)+Math.pow(K.y-_.y(),2));var J=this.findOne(".top-right").x()<K.x?-1:1,rt=this.findOne(".top-right").y()>K.y?-1:1;P=D*this.cos*J,F=D*this.sin*rt,this.findOne(".top-right").x(K.x+P),this.findOne(".top-right").y(K.y-F)}var nt=_.position();this.findOne(".top-left").y(nt.y),this.findOne(".bottom-right").x(nt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(_.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(_.x());else if(this._movingAnchorName==="bottom-left"){if(H){var K=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};D=Math.sqrt(Math.pow(K.x-_.x(),2)+Math.pow(_.y()-K.y,2));var J=K.x<_.x()?-1:1,rt=_.y()<K.y?-1:1;P=D*this.cos*J,F=D*this.sin*rt,_.x(K.x-P),_.y(K.y+F)}nt=_.position(),this.findOne(".top-left").x(nt.x),this.findOne(".bottom-right").y(nt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(_.y());else if(this._movingAnchorName==="bottom-right"){if(H){var K=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};D=Math.sqrt(Math.pow(_.x()-K.x,2)+Math.pow(_.y()-K.y,2));var J=this.findOne(".bottom-right").x()<K.x?-1:1,rt=this.findOne(".bottom-right").y()<K.y?-1:1;P=D*this.cos*J,F=D*this.sin*rt,this.findOne(".bottom-right").x(K.x+P),this.findOne(".bottom-right").y(K.y+F)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var O=this.centeredScaling()||A.altKey;if(O){var G=this.findOne(".top-left"),V=this.findOne(".bottom-right"),Y=G.x(),et=G.y(),k=this.getWidth()-V.x(),L=this.getHeight()-V.y();V.move({x:-Y,y:-et}),G.move({x:k,y:L})}var B=this.findOne(".top-left").getAbsolutePosition();P=B.x,F=B.y;var q=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),W=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:P,y:F,width:q,height:W,rotation:a.Konva.getAngle(this.rotation())},A)}}_handleMouseUp(A){this._removeEvents(A)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(A){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var P=this.getNode();this._fire("transformend",{evt:A,target:P}),P&&this._nodes.forEach(F=>{F._fire("transformend",{evt:A,target:F})}),this._movingAnchorName=null}}_fitNodesInto(A,P){var F=this._getNodeRect();const D=1;if(t.Util._inRange(A.width,-this.padding()*2-D,D)){this.update();return}if(t.Util._inRange(A.height,-this.padding()*2-D,D)){this.update();return}const _=this.flipEnabled();var S=new t.Transform;if(S.rotate(a.Konva.getAngle(this.rotation())),this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("left")>=0){const U=S.point({x:-this.padding()*2,y:0});if(A.x+=U.x,A.y+=U.y,A.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,!_){this.update();return}}else if(this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("right")>=0){const U=S.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,A.width+=this.padding()*2,!_){this.update();return}}if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("top")>=0){const U=S.point({x:0,y:-this.padding()*2});if(A.x+=U.x,A.y+=U.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,A.height+=this.padding()*2,!_){this.update();return}}else if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const U=S.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,A.height+=this.padding()*2,!_){this.update();return}}if(this.boundBoxFunc()){const U=this.boundBoxFunc()(F,A);U?A=U:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const x=1e7,R=new t.Transform;R.translate(F.x,F.y),R.rotate(F.rotation),R.scale(F.width/x,F.height/x);const N=new t.Transform;N.translate(A.x,A.y),N.rotate(A.rotation),N.scale(A.width/x,A.height/x);const I=N.multiply(R.invert());this._nodes.forEach(U=>{var j;const Q=U.getParent().getAbsoluteTransform(),H=U.getTransform().copy();H.translate(U.offsetX(),U.offsetY());const K=new t.Transform;K.multiply(Q.copy().invert()).multiply(I).multiply(Q).multiply(H);const J=K.decompose();U.setAttrs(J),this._fire("transform",{evt:P,target:U}),U._fire("transform",{evt:P,target:U}),(j=U.getLayer())===null||j===void 0||j.batchDraw()}),this.rotation(t.Util._getRotation(A.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(A,P){this.findOne(A).setAttrs(P)}update(){var A,P=this._getNodeRect();this.rotation(t.Util._getRotation(P.rotation));var F=P.width,D=P.height,_=this.enabledAnchors(),S=this.resizeEnabled(),x=this.padding(),R=this.anchorSize();const N=this.find("._anchor");N.forEach(U=>{U.setAttrs({width:R,height:R,offsetX:R/2,offsetY:R/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:R/2+x,offsetY:R/2+x,visible:S&&_.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:F/2,y:0,offsetY:R/2+x,visible:S&&_.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:F,y:0,offsetX:R/2-x,offsetY:R/2+x,visible:S&&_.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:D/2,offsetX:R/2+x,visible:S&&_.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:F,y:D/2,offsetX:R/2-x,visible:S&&_.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:D,offsetX:R/2+x,offsetY:R/2-x,visible:S&&_.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:F/2,y:D,offsetY:R/2-x,visible:S&&_.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:F,y:D,offsetX:R/2-x,offsetY:R/2-x,visible:S&&_.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:F/2,y:-this.rotateAnchorOffset()*t.Util._sign(D)-x,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:F,height:D,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const I=this.anchorStyleFunc();I&&N.forEach(U=>{I(U)}),(A=this.getLayer())===null||A===void 0||A.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var A=this.findOne("."+this._movingAnchorName);A&&A.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),i.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(A){var P=r.Node.prototype.clone.call(this,A);return P}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};en.Transformer=T;function M(w){return w instanceof Array||t.Util.warn("enabledAnchors value should be an array"),w instanceof Array&&w.forEach(function(A){b.indexOf(A)===-1&&t.Util.warn("Unknown anchor name: "+A+". Available names are: "+b.join(", "))}),w||[]}return T.prototype.className="Transformer",(0,l._registerNode)(T),e.Factory.addGetterSetter(T,"enabledAnchors",b,M),e.Factory.addGetterSetter(T,"flipEnabled",!0,(0,o.getBooleanValidator)()),e.Factory.addGetterSetter(T,"resizeEnabled",!0),e.Factory.addGetterSetter(T,"anchorSize",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"rotateEnabled",!0),e.Factory.addGetterSetter(T,"rotationSnaps",[]),e.Factory.addGetterSetter(T,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(T,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"borderEnabled",!0),e.Factory.addGetterSetter(T,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(T,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"anchorFill","white"),e.Factory.addGetterSetter(T,"anchorCornerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(T,"borderStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"borderDash"),e.Factory.addGetterSetter(T,"keepRatio",!0),e.Factory.addGetterSetter(T,"shiftBehavior","default"),e.Factory.addGetterSetter(T,"centeredScaling",!1),e.Factory.addGetterSetter(T,"ignoreStroke",!1),e.Factory.addGetterSetter(T,"padding",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(T,"node"),e.Factory.addGetterSetter(T,"nodes"),e.Factory.addGetterSetter(T,"boundBoxFunc"),e.Factory.addGetterSetter(T,"anchorDragBoundFunc"),e.Factory.addGetterSetter(T,"anchorStyleFunc"),e.Factory.addGetterSetter(T,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(T,"useSingleNodeRotation",!0),e.Factory.backCompat(T,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),en}var rn={},Ll;function Gg(){if(Ll)return rn;Ll=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.Wedge=void 0;const t=ft(),e=Nt(),r=dt(),n=gt(),s=dt();let i=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return rn.Wedge=i,i.prototype.className="Wedge",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"angle",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"clockwise",!1),t.Factory.backCompat(i,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),rn}var nn={},Il;function Ug(){if(Il)return nn;Il=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.Blur=void 0;const t=ft(),e=Rt(),r=gt();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function a(l,u){var h=l.data,f=l.width,p=l.height,v,m,y,b,E,g,c,d,C,T,M,w,A,P,F,D,_,S,x,R,N,I,U,j,Q=u+u+1,H=f-1,K=p-1,J=u+1,rt=J*(J+1)/2,nt=new n,O=null,G=nt,V=null,Y=null,et=s[u],k=i[u];for(y=1;y<Q;y++)G=G.next=new n,y===J&&(O=G);for(G.next=nt,c=g=0,m=0;m<p;m++){for(D=_=S=x=d=C=T=M=0,w=J*(R=h[g]),A=J*(N=h[g+1]),P=J*(I=h[g+2]),F=J*(U=h[g+3]),d+=rt*R,C+=rt*N,T+=rt*I,M+=rt*U,G=nt,y=0;y<J;y++)G.r=R,G.g=N,G.b=I,G.a=U,G=G.next;for(y=1;y<J;y++)b=g+((H<y?H:y)<<2),d+=(G.r=R=h[b])*(j=J-y),C+=(G.g=N=h[b+1])*j,T+=(G.b=I=h[b+2])*j,M+=(G.a=U=h[b+3])*j,D+=R,_+=N,S+=I,x+=U,G=G.next;for(V=nt,Y=O,v=0;v<f;v++)h[g+3]=U=M*et>>k,U!==0?(U=255/U,h[g]=(d*et>>k)*U,h[g+1]=(C*et>>k)*U,h[g+2]=(T*et>>k)*U):h[g]=h[g+1]=h[g+2]=0,d-=w,C-=A,T-=P,M-=F,w-=V.r,A-=V.g,P-=V.b,F-=V.a,b=c+((b=v+u+1)<H?b:H)<<2,D+=V.r=h[b],_+=V.g=h[b+1],S+=V.b=h[b+2],x+=V.a=h[b+3],d+=D,C+=_,T+=S,M+=x,V=V.next,w+=R=Y.r,A+=N=Y.g,P+=I=Y.b,F+=U=Y.a,D-=R,_-=N,S-=I,x-=U,Y=Y.next,g+=4;c+=f}for(v=0;v<f;v++){for(_=S=x=D=C=T=M=d=0,g=v<<2,w=J*(R=h[g]),A=J*(N=h[g+1]),P=J*(I=h[g+2]),F=J*(U=h[g+3]),d+=rt*R,C+=rt*N,T+=rt*I,M+=rt*U,G=nt,y=0;y<J;y++)G.r=R,G.g=N,G.b=I,G.a=U,G=G.next;for(E=f,y=1;y<=u;y++)g=E+v<<2,d+=(G.r=R=h[g])*(j=J-y),C+=(G.g=N=h[g+1])*j,T+=(G.b=I=h[g+2])*j,M+=(G.a=U=h[g+3])*j,D+=R,_+=N,S+=I,x+=U,G=G.next,y<K&&(E+=f);for(g=v,V=nt,Y=O,m=0;m<p;m++)b=g<<2,h[b+3]=U=M*et>>k,U>0?(U=255/U,h[b]=(d*et>>k)*U,h[b+1]=(C*et>>k)*U,h[b+2]=(T*et>>k)*U):h[b]=h[b+1]=h[b+2]=0,d-=w,C-=A,T-=P,M-=F,w-=V.r,A-=V.g,P-=V.b,F-=V.a,b=v+((b=m+J)<K?b:K)*f<<2,d+=D+=V.r=h[b],C+=_+=V.g=h[b+1],T+=S+=V.b=h[b+2],M+=x+=V.a=h[b+3],V=V.next,w+=R=Y.r,A+=N=Y.g,P+=I=Y.b,F+=U=Y.a,D-=R,_-=N,S-=I,x-=U,Y=Y.next,g+=f}}const o=function(u){var h=Math.round(this.blurRadius());h>0&&a(u,h)};return nn.Blur=o,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),nn}var sn={},Gl;function Bg(){if(Gl)return sn;Gl=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.Brighten=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=this.brightness()*255,a=s.data,o=a.length,l;for(l=0;l<o;l+=4)a[l]+=i,a[l+1]+=i,a[l+2]+=i};return sn.Brighten=n,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),sn}var an={},Ul;function Vg(){if(Ul)return an;Ul=1,Object.defineProperty(an,"__esModule",{value:!0}),an.Contrast=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=Math.pow((this.contrast()+100)/100,2),a=s.data,o=a.length,l=150,u=150,h=150,f;for(f=0;f<o;f+=4)l=a[f],u=a[f+1],h=a[f+2],l/=255,l-=.5,l*=i,l+=.5,l*=255,u/=255,u-=.5,u*=i,u+=.5,u*=255,h/=255,h-=.5,h*=i,h+=.5,h*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,h=h<0?0:h>255?255:h,a[f]=l,a[f+1]=u,a[f+2]=h};return an.Contrast=n,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),an}var on={},Bl;function Hg(){if(Bl)return on;Bl=1,Object.defineProperty(on,"__esModule",{value:!0}),on.Emboss=void 0;const t=ft(),e=Rt(),r=Tt(),n=gt(),s=function(i){var a=this.embossStrength()*10,o=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),h=0,f=0,p=i.data,v=i.width,m=i.height,y=v*4,b=m;switch(l){case"top-left":h=-1,f=-1;break;case"top":h=-1,f=0;break;case"top-right":h=-1,f=1;break;case"right":h=0,f=1;break;case"bottom-right":h=1,f=1;break;case"bottom":h=1,f=0;break;case"bottom-left":h=1,f=-1;break;case"left":h=0,f=-1;break;default:r.Util.error("Unknown emboss direction: "+l)}do{var E=(b-1)*y,g=h;b+g<1&&(g=0),b+g>m&&(g=0);var c=(b-1+g)*v*4,d=v;do{var C=E+(d-1)*4,T=f;d+T<1&&(T=0),d+T>v&&(T=0);var M=c+(d-1+T)*4,w=p[C]-p[M],A=p[C+1]-p[M+1],P=p[C+2]-p[M+2],F=w,D=F>0?F:-F,_=A>0?A:-A,S=P>0?P:-P;if(_>D&&(F=A),S>D&&(F=P),F*=a,u){var x=p[C]+F,R=p[C+1]+F,N=p[C+2]+F;p[C]=x>255?255:x<0?0:x,p[C+1]=R>255?255:R<0?0:R,p[C+2]=N>255?255:N<0?0:N}else{var I=o-F;I<0?I=0:I>255&&(I=255),p[C]=p[C+1]=p[C+2]=I}}while(--d)}while(--b)};return on.Emboss=s,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),on}var ln={},Vl;function qg(){if(Vl)return ln;Vl=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.Enhance=void 0;const t=ft(),e=Rt(),r=gt();function n(i,a,o,l,u){var h=o-a,f=u-l,p;return h===0?l+f/2:f===0?l:(p=(i-a)/h,p=f*p+l,p)}const s=function(i){var a=i.data,o=a.length,l=a[0],u=l,h,f=a[1],p=f,v,m=a[2],y=m,b,E,g=this.enhance();if(g!==0){for(E=0;E<o;E+=4)h=a[E+0],h<l?l=h:h>u&&(u=h),v=a[E+1],v<f?f=v:v>p&&(p=v),b=a[E+2],b<m?m=b:b>y&&(y=b);u===l&&(u=255,l=0),p===f&&(p=255,f=0),y===m&&(y=255,m=0);var c,d,C,T,M,w,A,P,F;for(g>0?(d=u+g*(255-u),C=l-g*(l-0),M=p+g*(255-p),w=f-g*(f-0),P=y+g*(255-y),F=m-g*(m-0)):(c=(u+l)*.5,d=u+g*(u-c),C=l+g*(l-c),T=(p+f)*.5,M=p+g*(p-T),w=f+g*(f-T),A=(y+m)*.5,P=y+g*(y-A),F=m+g*(m-A)),E=0;E<o;E+=4)a[E+0]=n(a[E+0],l,u,C,d),a[E+1]=n(a[E+1],f,p,w,M),a[E+2]=n(a[E+2],m,y,F,P)}};return ln.Enhance=s,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ln}var cn={},Hl;function jg(){if(Hl)return cn;Hl=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.Grayscale=void 0;const t=function(e){var r=e.data,n=r.length,s,i;for(s=0;s<n;s+=4)i=.34*r[s]+.5*r[s+1]+.16*r[s+2],r[s]=i,r[s+1]=i,r[s+2]=i};return cn.Grayscale=t,cn}var un={},ql;function Kg(){if(ql)return un;ql=1,Object.defineProperty(un,"__esModule",{value:!0}),un.HSL=void 0;const t=ft(),e=Rt(),r=gt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter);const n=function(s){var i=s.data,a=i.length,o=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=this.luminance()*127,f,p=o*l*Math.cos(u*Math.PI/180),v=o*l*Math.sin(u*Math.PI/180),m=.299*o+.701*p+.167*v,y=.587*o-.587*p+.33*v,b=.114*o-.114*p-.497*v,E=.299*o-.299*p-.328*v,g=.587*o+.413*p+.035*v,c=.114*o-.114*p+.293*v,d=.299*o-.3*p+1.25*v,C=.587*o-.586*p-1.05*v,T=.114*o+.886*p-.2*v,M,w,A,P;for(f=0;f<a;f+=4)M=i[f+0],w=i[f+1],A=i[f+2],P=i[f+3],i[f+0]=m*M+y*w+b*A+h,i[f+1]=E*M+g*w+c*A+h,i[f+2]=d*M+C*w+T*A+h,i[f+3]=P};return un.HSL=n,un}var hn={},jl;function Wg(){if(jl)return hn;jl=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.HSV=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=s.data,a=i.length,o=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h,f=o*l*Math.cos(u*Math.PI/180),p=o*l*Math.sin(u*Math.PI/180),v=.299*o+.701*f+.167*p,m=.587*o-.587*f+.33*p,y=.114*o-.114*f-.497*p,b=.299*o-.299*f-.328*p,E=.587*o+.413*f+.035*p,g=.114*o-.114*f+.293*p,c=.299*o-.3*f+1.25*p,d=.587*o-.586*f-1.05*p,C=.114*o+.886*f-.2*p,T,M,w,A;for(h=0;h<a;h+=4)T=i[h+0],M=i[h+1],w=i[h+2],A=i[h+3],i[h+0]=v*T+m*M+y*w,i[h+1]=b*T+E*M+g*w,i[h+2]=c*T+d*M+C*w,i[h+3]=A};return hn.HSV=n,t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),hn}var fn={},Kl;function zg(){if(Kl)return fn;Kl=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.Invert=void 0;const t=function(e){var r=e.data,n=r.length,s;for(s=0;s<n;s+=4)r[s]=255-r[s],r[s+1]=255-r[s+1],r[s+2]=255-r[s+2]};return fn.Invert=t,fn}var dn={},Wl;function $g(){if(Wl)return dn;Wl=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.Kaleidoscope=void 0;const t=ft(),e=Rt(),r=Tt(),n=gt();var s=function(o,l,u){var h=o.data,f=l.data,p=o.width,v=o.height,m=u.polarCenterX||p/2,y=u.polarCenterY||v/2,b,E,g,c=0,d=0,C=0,T=0,M,w=Math.sqrt(m*m+y*y);E=p-m,g=v-y,M=Math.sqrt(E*E+g*g),w=M>w?M:w;var A=v,P=p,F,D,_=360/P*Math.PI/180,S,x;for(D=0;D<P;D+=1)for(S=Math.sin(D*_),x=Math.cos(D*_),F=0;F<A;F+=1)E=Math.floor(m+w*F/A*x),g=Math.floor(y+w*F/A*S),b=(g*p+E)*4,c=h[b+0],d=h[b+1],C=h[b+2],T=h[b+3],b=(D+F*p)*4,f[b+0]=c,f[b+1]=d,f[b+2]=C,f[b+3]=T},i=function(o,l,u){var h=o.data,f=l.data,p=o.width,v=o.height,m=u.polarCenterX||p/2,y=u.polarCenterY||v/2,b,E,g,c,d,C=0,T=0,M=0,w=0,A,P=Math.sqrt(m*m+y*y);E=p-m,g=v-y,A=Math.sqrt(E*E+g*g),P=A>P?A:P;var F=v,D=p,_,S,x=u.polarRotation||0,R,N;for(E=0;E<p;E+=1)for(g=0;g<v;g+=1)c=E-m,d=g-y,_=Math.sqrt(c*c+d*d)*F/P,S=(Math.atan2(d,c)*180/Math.PI+360+x)%360,S=S*D/360,R=Math.floor(S),N=Math.floor(_),b=(N*p+R)*4,C=h[b+0],T=h[b+1],M=h[b+2],w=h[b+3],b=(g*p+E)*4,f[b+0]=C,f[b+1]=T,f[b+2]=M,f[b+3]=w};const a=function(o){var l=o.width,u=o.height,h,f,p,v,m,y,b,E,g,c,d=Math.round(this.kaleidoscopePower()),C=Math.round(this.kaleidoscopeAngle()),T=Math.floor(l*(C%360)/360);if(!(d<1)){var M=r.Util.createCanvasElement();M.width=l,M.height=u;var w=M.getContext("2d").getImageData(0,0,l,u);r.Util.releaseCanvas(M),s(o,w,{polarCenterX:l/2,polarCenterY:u/2});for(var A=l/Math.pow(2,d);A<=8;)A=A*2,d-=1;A=Math.ceil(A);var P=A,F=0,D=P,_=1;for(T+A>l&&(F=P,D=0,_=-1),f=0;f<u;f+=1)for(h=F;h!==D;h+=_)p=Math.round(h+T)%l,g=(l*f+p)*4,m=w.data[g+0],y=w.data[g+1],b=w.data[g+2],E=w.data[g+3],c=(l*f+h)*4,w.data[c+0]=m,w.data[c+1]=y,w.data[c+2]=b,w.data[c+3]=E;for(f=0;f<u;f+=1)for(P=Math.floor(A),v=0;v<d;v+=1){for(h=0;h<P+1;h+=1)g=(l*f+h)*4,m=w.data[g+0],y=w.data[g+1],b=w.data[g+2],E=w.data[g+3],c=(l*f+P*2-h-1)*4,w.data[c+0]=m,w.data[c+1]=y,w.data[c+2]=b,w.data[c+3]=E;P*=2}i(w,o,{polarRotation:0})}};return dn.Kaleidoscope=a,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),dn}var gn={},zl;function Yg(){if(zl)return gn;zl=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.Mask=void 0;const t=ft(),e=Rt(),r=gt();function n(p,v,m){var y=(m*p.width+v)*4,b=[];return b.push(p.data[y++],p.data[y++],p.data[y++],p.data[y++]),b}function s(p,v){return Math.sqrt(Math.pow(p[0]-v[0],2)+Math.pow(p[1]-v[1],2)+Math.pow(p[2]-v[2],2))}function i(p){for(var v=[0,0,0],m=0;m<p.length;m++)v[0]+=p[m][0],v[1]+=p[m][1],v[2]+=p[m][2];return v[0]/=p.length,v[1]/=p.length,v[2]/=p.length,v}function a(p,v){var m=n(p,0,0),y=n(p,p.width-1,0),b=n(p,0,p.height-1),E=n(p,p.width-1,p.height-1),g=v||10;if(s(m,y)<g&&s(y,E)<g&&s(E,b)<g&&s(b,m)<g){for(var c=i([y,m,E,b]),d=[],C=0;C<p.width*p.height;C++){var T=s(c,[p.data[C*4],p.data[C*4+1],p.data[C*4+2]]);d[C]=T<g?0:255}return d}}function o(p,v){for(var m=0;m<p.width*p.height;m++)p.data[4*m+3]=v[m]}function l(p,v,m){for(var y=[1,1,1,1,0,1,1,1,1],b=Math.round(Math.sqrt(y.length)),E=Math.floor(b/2),g=[],c=0;c<m;c++)for(var d=0;d<v;d++){for(var C=c*v+d,T=0,M=0;M<b;M++)for(var w=0;w<b;w++){var A=c+M-E,P=d+w-E;if(A>=0&&A<m&&P>=0&&P<v){var F=A*v+P,D=y[M*b+w];T+=p[F]*D}}g[C]=T===255*8?255:0}return g}function u(p,v,m){for(var y=[1,1,1,1,1,1,1,1,1],b=Math.round(Math.sqrt(y.length)),E=Math.floor(b/2),g=[],c=0;c<m;c++)for(var d=0;d<v;d++){for(var C=c*v+d,T=0,M=0;M<b;M++)for(var w=0;w<b;w++){var A=c+M-E,P=d+w-E;if(A>=0&&A<m&&P>=0&&P<v){var F=A*v+P,D=y[M*b+w];T+=p[F]*D}}g[C]=T>=255*4?255:0}return g}function h(p,v,m){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],b=Math.round(Math.sqrt(y.length)),E=Math.floor(b/2),g=[],c=0;c<m;c++)for(var d=0;d<v;d++){for(var C=c*v+d,T=0,M=0;M<b;M++)for(var w=0;w<b;w++){var A=c+M-E,P=d+w-E;if(A>=0&&A<m&&P>=0&&P<v){var F=A*v+P,D=y[M*b+w];T+=p[F]*D}}g[C]=T}return g}const f=function(p){var v=this.threshold(),m=a(p,v);return m&&(m=l(m,p.width,p.height),m=u(m,p.width,p.height),m=h(m,p.width,p.height),o(p,m)),p};return gn.Mask=f,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),gn}var pn={},$l;function Qg(){if($l)return pn;$l=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.Noise=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=this.noise()*255,a=s.data,o=a.length,l=i/2,u;for(u=0;u<o;u+=4)a[u+0]+=l-2*l*Math.random(),a[u+1]+=l-2*l*Math.random(),a[u+2]+=l-2*l*Math.random()};return pn.Noise=n,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),pn}var vn={},Yl;function Xg(){if(Yl)return vn;Yl=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.Pixelate=void 0;const t=ft(),e=Tt(),r=Rt(),n=gt(),s=function(i){var a=Math.ceil(this.pixelSize()),o=i.width,l=i.height,u,h,f,p,v,m,y,b=Math.ceil(o/a),E=Math.ceil(l/a),g,c,d,C,T,M,w,A=i.data;if(a<=0){e.Util.error("pixelSize value can not be <= 0");return}for(T=0;T<b;T+=1)for(M=0;M<E;M+=1){for(p=0,v=0,m=0,y=0,g=T*a,c=g+a,d=M*a,C=d+a,w=0,u=g;u<c;u+=1)if(!(u>=o))for(h=d;h<C;h+=1)h>=l||(f=(o*h+u)*4,p+=A[f+0],v+=A[f+1],m+=A[f+2],y+=A[f+3],w+=1);for(p=p/w,v=v/w,m=m/w,y=y/w,u=g;u<c;u+=1)if(!(u>=o))for(h=d;h<C;h+=1)h>=l||(f=(o*h+u)*4,A[f+0]=p,A[f+1]=v,A[f+2]=m,A[f+3]=y)}};return vn.Pixelate=s,t.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),vn}var mn={},Ql;function Jg(){if(Ql)return mn;Ql=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.Posterize=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=Math.round(this.levels()*254)+1,a=s.data,o=a.length,l=255/i,u;for(u=0;u<o;u+=1)a[u]=Math.floor(a[u]/l)*l};return mn.Posterize=n,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),mn}var _n={},Xl;function Zg(){if(Xl)return _n;Xl=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.RGB=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=s.data,a=i.length,o=this.red(),l=this.green(),u=this.blue(),h,f;for(h=0;h<a;h+=4)f=(.34*i[h]+.5*i[h+1]+.16*i[h+2])/255,i[h]=f*o,i[h+1]=f*l,i[h+2]=f*u,i[h+3]=i[h+3]};return _n.RGB=n,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),_n}var yn={},Jl;function t2(){if(Jl)return yn;Jl=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.RGBA=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=s.data,a=i.length,o=this.red(),l=this.green(),u=this.blue(),h=this.alpha(),f,p;for(f=0;f<a;f+=4)p=1-h,i[f]=o*h+i[f]*p,i[f+1]=l*h+i[f+1]*p,i[f+2]=u*h+i[f+2]*p};return yn.RGBA=n,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s}),yn}var bn={},Zl;function e2(){if(Zl)return bn;Zl=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.Sepia=void 0;const t=function(e){var r=e.data,n=r.length,s,i,a,o;for(s=0;s<n;s+=4)i=r[s+0],a=r[s+1],o=r[s+2],r[s+0]=Math.min(255,i*.393+a*.769+o*.189),r[s+1]=Math.min(255,i*.349+a*.686+o*.168),r[s+2]=Math.min(255,i*.272+a*.534+o*.131)};return bn.Sepia=t,bn}var Cn={},tc;function r2(){if(tc)return Cn;tc=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Solarize=void 0;const t=function(e){var r=e.data,n=e.width,s=e.height,i=n*4,a=s;do{var o=(a-1)*i,l=n;do{var u=o+(l-1)*4,h=r[u],f=r[u+1],p=r[u+2];h>127&&(h=255-h),f>127&&(f=255-f),p>127&&(p=255-p),r[u]=h,r[u+1]=f,r[u+2]=p}while(--l)}while(--a)};return Cn.Solarize=t,Cn}var Sn={},ec;function n2(){if(ec)return Sn;ec=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.Threshold=void 0;const t=ft(),e=Rt(),r=gt(),n=function(s){var i=this.threshold()*255,a=s.data,o=a.length,l;for(l=0;l<o;l+=1)a[l]=a[l]<i?0:255};return Sn.Threshold=n,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Sn}var rc;function i2(){if(rc)return Dr;rc=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Konva=void 0;const t=Pg(),e=Eg(),r=Tg(),n=Ag(),s=Rg(),i=Og(),a=Fg(),o=lh(),l=Ua(),u=uh(),h=Mg(),f=kg(),p=Ng(),v=Dg(),m=hh(),y=Lg(),b=Ig(),E=Gg(),g=Ug(),c=Bg(),d=Vg(),C=Hg(),T=qg(),M=jg(),w=Kg(),A=Wg(),P=zg(),F=$g(),D=Yg(),_=Qg(),S=Xg(),x=Jg(),R=Zg(),N=t2(),I=e2(),U=r2(),j=n2();return Dr.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:r.Arrow,Circle:n.Circle,Ellipse:s.Ellipse,Image:i.Image,Label:a.Label,Tag:a.Tag,Line:o.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:h.RegularPolygon,Ring:f.Ring,Sprite:p.Sprite,Star:v.Star,Text:m.Text,TextPath:y.TextPath,Transformer:b.Transformer,Wedge:E.Wedge,Filters:{Blur:g.Blur,Brighten:c.Brighten,Contrast:d.Contrast,Emboss:C.Emboss,Enhance:T.Enhance,Grayscale:M.Grayscale,HSL:w.HSL,HSV:A.HSV,Invert:P.Invert,Kaleidoscope:F.Kaleidoscope,Mask:D.Mask,Noise:_.Noise,Pixelate:S.Pixelate,Posterize:x.Posterize,RGB:R.RGB,RGBA:N.RGBA,Sepia:I.Sepia,Solarize:U.Solarize,Threshold:j.Threshold}}),Dr}var s2=gi.exports,nc;function a2(){if(nc)return gi.exports;nc=1,Object.defineProperty(s2,"__esModule",{value:!0});const t=i2();return gi.exports=t.Konva,gi.exports}/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(n,s){t.exports=s(bg,a2())})(Xs,function(r,n){return function(s){var i={};function a(o){if(i[o])return i[o].exports;var l=i[o]={i:o,l:!1,exports:{}};return s[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=s,a.c=i,a.d=function(o,l,u){a.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,l){if(l&1&&(o=a(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var h in o)a.d(u,h,(function(f){return o[f]}).bind(null,h));return u},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=2)}([function(s,i){s.exports=r},function(s,i){s.exports=n},function(s,i,a){s.exports=a(3)},function(s,i,a){a.r(i);var o=a(0),l=a(1),u=a.n(l);function h(_){if(!u.a.autoDrawEnabled){var S=_.getLayer()||_.getStage();S&&S.batchDraw()}}var f={key:!0,style:!0,elm:!0,isRootInsert:!0},p=".vue-konva-event";function v(_,S,x,R){S===void 0&&(S={}),x===void 0&&(x={});var N=_.__konvaNode,I={},U=!1;for(var j in x)if(!f[j]){var Q=j.slice(0,2)==="on",H=x[j]!==S[j];if(Q&&H){var K=j.substr(2).toLowerCase();K.substr(0,7)==="content"&&(K="content"+K.substr(7,1).toUpperCase()+K.substr(8)),N.off(K+p,x[j])}var J=!S.hasOwnProperty(j);J&&N.setAttr(j,void 0)}for(var rt in S)if(!f[rt]){var nt=rt.slice(0,2)==="on",O=x[rt]!==S[rt];if(nt&&O){var G=rt.substr(2).toLowerCase();G.substr(0,7)==="content"&&(G="content"+G.substr(7,1).toUpperCase()+G.substr(8)),S[rt]&&(N.off(G+p),N.on(G+p,S[rt]))}!nt&&(S[rt]!==x[rt]||R&&S[rt]!==N.getAttr(rt))&&(U=!0,I[rt]=S[rt])}U&&(N.setAttrs(I),h(N))}var m="v";function y(_){function S(x){return x.__konvaNode?x:x.parent?S(x.parent):(console.error("vue-konva error: Can not find parent node"),{})}return S(_.parent)}function b(_){if(_!=null&&_.component)return _.component.__konvaNode||b(_.component.subTree)}function E(_){var S=_.el,x=_.component,R=b(_);if(S!=null&&S.tagName&&x&&!R){var N=S&&S.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+N+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return R}function g(_){var S=[];return _.children&&_.children.forEach(function(x){!x.component&&Array.isArray(x.children)&&x.children.forEach(function(R){!R.component&&Array.isArray(R.children)?S.push.apply(S,R.children):S.push(R)}),x.component&&S.push(x)}),S}function c(_,S){var x=g(_),R=[];x.forEach(function(I){var U=E(I);U&&R.push(U)});var N=!1;R.forEach(function(I,U){I.getZIndex()!==U&&(I.setZIndex(U),N=!0)}),N&&h(S)}function d(){return d=Object.assign||function(_){for(var S=1;S<arguments.length;S++){var x=arguments[S];for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(_[R]=x[R])}return _},d.apply(this,arguments)}var C={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(S,x){var R=x.attrs,N=x.slots,I=x.expose;x.emits;var U=Object(o.getCurrentInstance)(),j=Object(o.reactive)({}),Q=Object(o.ref)(null),H=new window.Konva.Stage({width:S.config.width,height:S.config.height,container:document.createElement("div")});U.__konvaNode=H,rt();function K(){return U.__konvaNode}function J(){return U.__konvaNode}function rt(){var nt=j||{},O=d({},R,S.config);v(U,O,nt,S.__useStrictMode),Object.assign(j,O)}return Object(o.onMounted)(function(){Q.value.innerHTML="",H.container(Q.value),rt()}),Object(o.onUpdated)(function(){rt(),c(U.subTree,H)}),Object(o.onBeforeUnmount)(function(){H.destroy()}),Object(o.watch)(function(){return S.config},rt,{deep:!0}),I({getStage:J,getNode:K}),function(){var nt;return Object(o.h)("div",{ref:Q},(nt=N.default)===null||nt===void 0?void 0:nt.call(N))}}};function T(){return T=Object.assign||function(_){for(var S=1;S<arguments.length;S++){var x=arguments[S];for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(_[R]=x[R])}return _},T.apply(this,arguments)}var M=".vue-konva-event",w={Group:!0,Layer:!0,FastLayer:!0,Label:!0},A=function(_){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(x,R){var N=R.attrs,I=R.slots,U=R.expose,j=Object(o.getCurrentInstance)(),Q=Object(o.reactive)({}),H=window.Konva[_];if(!H){console.error("vue-konva error: Can not find node "+_);return}var K=new H;j.__konvaNode=K,j.vnode.__konvaNode=K,nt();function J(){return j.__konvaNode}function rt(){return j.__konvaNode}function nt(){var G={};for(var V in j.vnode.props)V.slice(0,2)==="on"&&(G[V]=j.vnode.props[V]);var Y=Q||{},et=T({},N,x.config,G);v(j,et,Y,x.__useStrictMode),Object.assign(Q,et)}Object(o.onMounted)(function(){var G=y(j).__konvaNode;G.add(K),h(K)}),Object(o.onUnmounted)(function(){h(K),K.destroy(),K.off(M)}),Object(o.onUpdated)(function(){nt(),c(j.subTree,K)}),Object(o.watch)(function(){return x.config},nt,{deep:!0}),U({getStage:rt,getNode:J});var O=w[_];return O?function(){var G;return Object(o.h)("template",{},(G=I.default)===null||G===void 0?void 0:G.call(I))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var P=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],F=[{name:"Stage",component:C}].concat(P.map(function(_){return{name:_,component:A(_)}})),D={install:function(S,x){var R=m;x&&x.prefix&&(R=x.prefix),F.forEach(function(N){S.component(""+R+N.name,N.component)})}};i.default=D}]).default})})(ih);var o2=ih.exports;const l2=_g(o2),c2=Y1({history:c1()}),is=Iu(q0);is.use(c2);is.use(mg);is.use(l2);is.mount("#app");export{Ei as $,X1 as A,J1 as B,Ys as C,Na as D,tg as E,Mt as F,vs as G,Ut as H,Zt as I,Ne as J,v2 as K,Fh as L,m2 as M,cf as N,oa as O,ee as P,ct as Q,Yi as R,Of as S,At as T,H1 as U,Qf as V,cc as W,Se as X,Li as Y,Xn as Z,L0 as _,Cr as a,Sc as a0,ef as a1,cd as a2,Lf as a3,uu as a4,Wn as a5,Ki as a6,Oh as a7,ji as a8,ae as a9,Rn as aa,lf as ab,Bc as ac,qi as ad,he as ae,ff as af,Wf as ag,lg as ah,p2 as ai,dg as aj,Ct as b,Pa as c,Or as d,ye as e,zi as f,$n as g,Ea as h,$f as i,Uf as j,Dd as k,wf as l,fd as m,zn as n,Fr as o,Sf as p,ke as q,ya as r,Zi as s,Rh as t,u2 as u,Fa as v,Bi as w,h2 as x,re as y,ts as z};
