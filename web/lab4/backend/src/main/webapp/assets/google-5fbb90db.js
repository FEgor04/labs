import{u as c,s as u,b as l,a as d}from"./api-42eb9ed1.js";import{u as m}from"./useMutation-5023e77b.js";import{d as _,u as p,e as h,o as a,c as r,a as f}from"./index-43652dcb.js";async function g(s){return(await d.post("/v1/signin/google",s)).data}function k(s){const o=c();return m(e=>g(e),{mutationKey:["viewer"],onSuccess(e){o.invalidateQueries({queryKey:["viewer"]}),u(e.session.accessToken),l(e.session.refreshToken),s()}})}const y={key:0},v={key:1},w=f("h1",{class:"text-center mt-8 text-2xl"}," Загрузка... ",-1),x=[w],S=_({__name:"google",setup(s){const o=p();let e=new URLSearchParams(window.location.search),i=e.has("code"),t=e.get("code");if(t!=null){const{mutate:n}=k(()=>{o.push("/main")});n({code:t})}return(n,C)=>h(i)?(a(),r("div",v,x)):(a(),r("div",y," Ошибочка! Кода-то нету! "))}});export{S as default};
