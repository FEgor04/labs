CREATE TABLE IF NOT EXISTS SCIENTISTS (
  ID SERIAL PRIMARY KEY,
  NAME VARCHAR(32),
  SALARY INTEGER CONSTRAINT positive_salary CHECK (SALARY > 0)
);

CREATE TABLE IF NOT EXISTS CREATURES (
  ID SERIAL PRIMARY KEY,
  NAME VARCHAR(32),
  CREATION_DATE TIMESTAMP
);

CREATE TABLE IF NOT EXISTS CAGE (
  ID SERIAL PRIMARY KEY,
  CREATURE_ID INTEGER REFERENCES CREATURES(ID),
  MATERIAL VARCHAR(32),
  SIZE INTEGER CONSTRAINT positive_size CHECK (SIZE > 0),
  UNIQUE(CREATURE_ID)
);

CREATE TABLE IF NOT EXISTS CREATURE_CREATORS(
  CREATURE_ID INTEGER REFERENCES CREATURES(ID),
  SCIENTIST_ID INTEGER REFERENCES SCIENTISTS(ID),
  UNIQUE(CREATURE_ID, SCIENTIST_ID)
);

INSERT INTO SCIENTISTS(name, salary) VALUES ('hammond', 1000000), ('gennaro', 1);
INSERT INTO CREATURES(name, creation_date) VALUES ('elephant', now()), ('raptor', now());
INSERT INTO CREATURE_CREATORS(CREATURE_ID, SCIENTIST_ID) VALUES (1, 1), (1,2), (2,2);
INSERT INTO CAGE(CREATURE_ID, MATERIAL, SIZE) VALUES (1, 'carbon', 5), (2, 'metal', 10);
